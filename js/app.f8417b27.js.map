{"version":3,"file":"js/app.f8417b27.js","mappings":"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","sources":["webpack://lsq-thesis/./src/assets/herds/ sync ^\\.\\/.*$","webpack://lsq-thesis/./src/App.vue","webpack://lsq-thesis/./src/components/HelloMorocco.vue","webpack://lsq-thesis/./src/components/HelloMorocco.vue?30b9","webpack://lsq-thesis/./src/components/RainfallPrecipitation.vue","webpack://lsq-thesis/./src/components/RainfallPrecipitation.vue?0aa0","webpack://lsq-thesis/./src/components/MeanTemperature.vue","webpack://lsq-thesis/./src/components/MeanTemperature.vue?2d91","webpack://lsq-thesis/./src/components/SheepCattleHerds.vue","webpack://lsq-thesis/./src/components/SheepCattleHerds.vue?c44f","webpack://lsq-thesis/./src/components/LandPloughedWheat.vue","webpack://lsq-thesis/./src/components/LandPloughedWheat.vue?4d77","webpack://lsq-thesis/./src/components/INFORMRiskIndex.vue","webpack://lsq-thesis/./src/components/INFORMRiskIndex.vue?9261","webpack://lsq-thesis/./src/components/CopingMechanisms.vue","webpack://lsq-thesis/./src/components/CopingMechanisms.vue?b260","webpack://lsq-thesis/./src/components/DoomedForever.vue","webpack://lsq-thesis/./src/components/DoomedForever.vue?f6ad","webpack://lsq-thesis/./src/App.vue?7ccd","webpack://lsq-thesis/./src/main.js","webpack://lsq-thesis/webpack/bootstrap","webpack://lsq-thesis/webpack/runtime/chunk loaded","webpack://lsq-thesis/webpack/runtime/compat get default export","webpack://lsq-thesis/webpack/runtime/create fake namespace object","webpack://lsq-thesis/webpack/runtime/define property getters","webpack://lsq-thesis/webpack/runtime/ensure chunk","webpack://lsq-thesis/webpack/runtime/get javascript chunk filename","webpack://lsq-thesis/webpack/runtime/get mini-css chunk filename","webpack://lsq-thesis/webpack/runtime/global","webpack://lsq-thesis/webpack/runtime/hasOwnProperty shorthand","webpack://lsq-thesis/webpack/runtime/load script","webpack://lsq-thesis/webpack/runtime/make namespace object","webpack://lsq-thesis/webpack/runtime/publicPath","webpack://lsq-thesis/webpack/runtime/jsonp chunk loading","webpack://lsq-thesis/webpack/startup"],"sourcesContent":["var map = {\n\t\"./black-speckle-cow.png\": 8052,\n\t\"./brown-cow.png\": 9139,\n\t\"./brown-ram.png\": 6082,\n\t\"./brown-sheep.png\": 4967,\n\t\"./brown-speckle-cow.png\": 3617,\n\t\"./gray-cow.png\": 2150,\n\t\"./white-ram-2.png\": 4084,\n\t\"./white-sheep-2.png\": 7045\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 4053;","<template>\n  <div id=\"scrollyteller\">\n    <div class=\"left-tab-container\">\n      <div v-for=\"(title, i) in visibleTitles\" :key=\"i\" :class=\"['tab', { active: i + 1 === activeStep }]\"\n        :style=\"i + 1 === activeStep ? { color: getTabColor(i), borderLeftColor: getTabColor(i) } : {}\"\n        @click=\"goToStep(i + 1)\">\n        {{ title }}\n      </div>\n    </div>\n    <div v-for=\"(stepComponent, index) in steps\" :key=\"index\" class=\"charts-wrapper\"\n      v-intersect=\"() => setActiveStep(index)\">\n      <component :is=\"stepComponent\" />\n    </div>\n\n    <div class=\"right-tab-container\">\n      <div class=\"tab\" :class=\"{ active: showMethodology }\" @click=\"showMethodology = !showMethodology\">\n        Methodology\n      </div>\n\n      <a class=\"tab\" href=\"https://lsq.design\" target=\"_blank\" rel=\"noopener\">lsq.design</a>\n    </div>\n\n    <!-- Methodology Panel -->\n    <div v-if=\"showMethodology\" class=\"methodology-panel\">\n      <h5>Methodology</h5>\n      <h6>Zooming Into Risk</h6>\n      <p>This section describes the methodology behind the visualizations...</p>\n      <h6>Raincheck Forever</h6>\n      <p>You can include multiple <code>&lt;h&gt;</code> and <code>&lt;p&gt;</code> tags here.</p>\n      <h6>Future Heat</h6>\n      <p>This section describes the methodology behind the visualizations...</p>\n      <h6>Pasture Panic</h6>\n      <p>You can include multiple <code>&lt;h&gt;</code> and <code>&lt;p&gt;</code> tags here.</p>\n      <h6>Wheat Drop</h6>\n      <p>This section describes the methodology behind the visualizations...</p>\n      <h6>Climate Survival Kit</h6>\n      <p>You can include multiple <code>&lt;h&gt;</code> and <code>&lt;p&gt;</code> tags here.</p>\n      <h6>Disaster Time Machine</h6>\n      <p>You can include multiple <code>&lt;h&gt;</code> and <code>&lt;p&gt;</code> tags here.</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport HelloMorocco from './components/HelloMorocco.vue'\nimport RainfallPrecipitation from './components/RainfallPrecipitation.vue'\nimport MeanTemperature from './components/MeanTemperature.vue'\nimport SheepCattleHerds from './components/SheepCattleHerds.vue'\nimport LandPloughedWheat from './components/LandPloughedWheat.vue'\nimport INFORMRiskIndex from './components/INFORMRiskIndex.vue'\nimport CopingMechanisms from './components/CopingMechanisms.vue'\nimport DoomedForever from './components/DoomedForever.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    HelloMorocco,\n    RainfallPrecipitation,\n    MeanTemperature,\n    SheepCattleHerds,\n    LandPloughedWheat,\n    CopingMechanisms,\n    INFORMRiskIndex,\n    DoomedForever,\n  },\n  computed: {\n    visibleSteps() {\n      return this.steps.slice(1)\n      /* return this.steps.slice(1, -1) */\n    },\n    visibleTitles() {\n      return this.stepTitles.slice(1)\n      /* return this.stepTitles.slice(1, -1) */\n    },\n  },\n  data() {\n    return {\n      animationTriggered: false,\n      showMethodology: false,\n      steps: [\n        'HelloMorocco',\n        'INFORMRiskIndex',\n        'RainfallPrecipitation',\n        'MeanTemperature',\n        'SheepCattleHerds',\n        'LandPloughedWheat',\n        'CopingMechanisms',\n        'DoomedForever',\n      ],\n      stepTitles: [\n        'Hello Morocco',\n        'Zooming Into Risk',\n        'Raincheck Forever',\n        'Future Heat',\n        'Pasture Panic',\n        'Wheat Drop',\n        'Climate Survival Kit',\n        'Disaster Time Machine',\n      ],\n      activeStep: 0,\n    }\n  },\n  mounted() {\n    window.addEventListener('keydown', this.handleKeyPress)\n\n    window.addEventListener('keydown', this.handleKeyPress)\n  },\n  beforeUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress)\n  },\n  methods: {\n    setActiveStep(index) {\n      if (index === this.activeStep) return // prevent duplicate updates\n      this.activeStep = index\n    },\n    getTabColor(index) {\n      const component = this.steps[index + 1]; // +1 to match your visibleSteps slice\n      switch (component) {\n        case 'INFORMRiskIndex':\n          return '#089d9d';\n        case 'RainfallPrecipitation':\n          return '#40E0D0';\n        case 'MeanTemperature':\n          return '#FF0000';\n        case 'SheepCattleHerds':\n          return '#d4bb97';\n        case 'LandPloughedWheat':\n          return '#B28F04';\n        case 'CopingMechanisms':\n          return '#85B738';\n        case 'DoomedForever':\n          return '#820747';\n        default:\n          return '#000'; // default\n      }\n    },\n    formatStepName(step) {\n      return step.replace(/([A-Z])/g, ' $1').trim()\n    },\n    handleKeyPress(e) {\n      if (e.code === 'Space') e.preventDefault()\n\n      if (e.code === 'ArrowDown' || e.code === 'Space') {\n        this.goToStep(this.activeStep + 1)\n      } else if (e.code === 'ArrowUp') {\n        this.goToStep(this.activeStep - 1)\n      }\n    }\n    ,\n    goToStep(index) {\n      const stepEls = document.querySelectorAll('.charts-wrapper')\n      if (index < 0 || index >= stepEls.length) return\n\n      const el = stepEls[index]\n      if (el) {\n        el.scrollIntoView({ behavior: 'smooth', block: 'start' })\n        this.activeStep = index\n      }\n    }\n    ,\n  },\n  directives: {\n    intersect: {\n      mounted(el, binding) {\n        const observer = new IntersectionObserver(\n          ([entry]) => {\n            if (entry.isIntersecting) {\n              binding.value()\n            }\n          },\n          {\n            rootMargin: '0px',\n            threshold: 0.5,\n          }\n        )\n        observer.observe(el)\n      },\n    },\n  },\n}\n</script>\n\n\n<style>\n#scrollyteller {\n  position: relative;\n  /* Add this */\n  scroll-snap-type: y mandatory;\n  overflow-y: scroll;\n  height: 100vh;\n}\n\nbody,\nhtml {\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n}\n\n\n.charts-wrapper {\n  flex-direction: column;\n  scroll-snap-align: start;\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 20px;\n  box-sizing: border-box;\n}\n\n\n\n#app {\n  font-family: \"Parkinsans\", sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 30px;\n}\n\n.footer {\n  width: 100%;\n  margin: 0px;\n  text-align: center;\n  padding: 10px 0;\n}\n\nh1 {\n  font-size: 2.6em;\n  margin: 0;\n  font-weight: 800;\n}\n\nh2 {\n  font-size: 1.4em;\n  margin: 0;\n  font-weight: 300;\n}\n\nh3 {\n  font-size: 1.2em;\n  margin: 0;\n}\n\nh4 {\n  text-transform: uppercase;\n  font-size: 60px;\n  font-weight: 300;\n  margin: 0;\n}\n\nh5 {\n  text-align: left;\n  margin: 0;\n  font-size: 28px;\n  font-weight: 300;\n}\n\nh6 {\n  padding-top: 1rem;\n  text-align: left;\n  font-weight: 300;\n  font-size: 24px;\n  margin: 0;\n}\n\np {\n  font-size: 16px;\n  margin: 0;\n  text-align: left;\n  font-weight: 400;\n}\n\ntext {\n  font-family: \"Parkinsans\", sans-serif;\n  margin: 0;\n}\n\n.left-tab-container {\n  position: fixed;\n  top: 50%;\n  left: 0;\n  transform: translateY(-50%);\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  z-index: 10;\n  padding-left: 10px;\n}\n\n.tab {\n  writing-mode: vertical-rl;\n  text-orientation: mixed;\n  transform: rotate(180deg);\n  padding: 10px 5px;\n  cursor: pointer;\n  font-size: 0.9em;\n  color: #2c3e50;\n  border-left: 2px solid transparent;\n  transition: all 0.2s ease;\n}\n\n.tab.active {\n  color: #000;\n  border-left: 2px solid #000;\n  font-weight: bold;\n}\n\n.right-tab-container {\n  position: fixed;\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  z-index: 10;\n  padding-right: 10px;\n}\n\n.right-tab-container .tab {\n  writing-mode: vertical-rl;\n  text-orientation: mixed;\n  transform: rotate(0deg);\n  padding: 10px 5px;\n  cursor: pointer;\n  font-size: 0.9em;\n  color: #2c3e50;\n  border-left: 2px solid transparent;\n  transition: all 0.2s ease;\n  text-decoration: none;\n}\n\n.right-tab-container .tab.active {\n  color: #000;\n  border-left: 2px solid #000;\n  font-weight: bold;\n}\n\n.methodology-panel {\n  position: fixed;\n  right: 70px;\n  top: 25%;\n  max-width: 1000px;\n  background-color: white;\n  padding: 13px 20px 17px 20px;\n  z-index: 20;\n  border: 1px solid #ccc;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  overflow-y: auto;\n  max-height: 80vh;\n  z-index: 9000;\n\n  animation: slideInPanel 0.5s ease-out forwards;\n}\n\n@keyframes slideInPanel {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n\n  to {\n    transform: translateX(0%);\n    opacity: 1;\n  }\n}\n</style>\n","<template>\n  <div class=\"hello-morocco\">\n    <div class=\"hello\">\n      <h1 class=\"droughts\" ref=\"droughtsText\">Droughts</h1>\n      <div class=\"floods-fires-line\">\n        <h1 class=\"floods\" ref=\"floodsText\">Floods</h1>\n        <h4 class=\"rotated\">and</h4>\n        <div class=\"fires-placeholder\" ref=\"firesText\"></div>\n      </div>\n      <h4 class=\"subtitle\">A Case Study of Morocco and Climate Change</h4>\n      <h5 class=\"byline\">Lisa Sakai Quinley</h5>\n\n      <canvas ref=\"noiseCanvas\" style=\"display:none;\"></canvas>\n\n      <!-- Droughts mask applied via SVG -->\n      <svg ref=\"droughtsSvg\" class=\"droughts-svg\">\n        <defs>\n          <clipPath id=\"droughts-clip\">\n            <text x=\"0\" :y=\"droughtsHeight * 0.75\" :font-size=\"droughtsHeight\" font-family=\"Parkinsans\"\n              font-weight=\"800\">\n              DROUGHTS\n            </text>\n          </clipPath>\n        </defs>\n        <image :href=\"noiseDataUrl\" width=\"1000.740\" height=\"176\" clip-path=\"url(#droughts-clip)\" />\n      </svg>\n\n      <!-- Sheep and Wheat Animation -->\n      <div class=\"png-animation-container\">\n        <img v-for=\"(style, i) in wheatStyles\" :key=\"i\" :src=\"getWheatSrc()\" class=\"png-frame wheat\" :style=\"style\"\n          alt=\"Wheat\" />\n        <img :src=\"getSheepSrc()\" class=\"png-frame sheep\" :style=\"sheepStyle\" alt=\"Sheep\" />\n      </div>\n\n      <!-- SVG for Raindrops -->\n      <svg ref=\"floodsSvg\" class=\"floods-svg\">\n        <g ref=\"raindropGroup\">\n          <!-- Raindrops will fall inside this rect, which will match the bounding box of the \"FLOODS\" heading -->\n          <rect ref=\"raindropRect\" width=\"100%\" height=\"100%\" fill=\"#089c9d\" />\n        </g>\n      </svg>\n\n      <!-- SVG for Sparks -->\n      <svg ref=\"firesSvg\" class=\"fires-svg\">\n        <defs>\n          <clipPath id=\"text-clip\">\n            <!-- Dynamically placed text for clipping -->\n            <text ref=\"clipText\" font-family=\"Parkinsans\" font-weight=\"800\" id=\"firesText\" fill=\"black\">\n              FIRES\n            </text>\n          </clipPath>\n        </defs>\n        <g clip-path=\"url(#text-clip)\" ref=\"sparkGroup\">\n          <rect width=\"100%\" height=\"100%\" fill=\"rgb(153, 0, 0)\" />\n        </g>\n      </svg>\n    </div>\n  </div>\n  <div class=\"morocco-location\">\n    <l-map ref=\"map\" v-model:zoom=\"zoom\" :center=\"center\" :zoom-control=\"false\" class=\"morocco-map\">\n      <l-geo-json ref=\"geoJsonLayer\" v-if=\"geoJsonData\" :geojson=\"geoJsonData\" :options-style=\"geoJsonStyle\" />\n    </l-map>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, onUnmounted, ref, nextTick, computed } from 'vue'\nimport * as d3 from 'd3'\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LGeoJson } from \"@vue-leaflet/vue-leaflet\";\n\n// Refs to DOM nodes\nconst firesSvg = ref(null)\nconst sparkGroup = ref(null)\nconst firesText = ref(null)\nconst clipText = ref(null)\n\nconst floodsSvg = ref(null)\nconst floodsText = ref(null)\nconst raindropGroup = ref(null)\nconst raindropRect = ref(null)\n\nconst droughtsSvg = ref(null)\nconst noiseCanvas = ref(null)\nconst noiseDataUrl = ref('')\nconst droughtsText = ref(null)\n\nlet sparkTimer = null\nlet firesObserver = null\nlet floodsObserver = null\nlet droughtColorTimer = null\n\n// Droughts specific\nlet droughtsHeight = 176 // Adjust based on DOM or specific requirements\n\nconst zoom = ref(3);\nconst geoJsonData = ref(null);\nconst map = ref(null);\nconst geoJsonLayer = ref(null);\nconst center = ref([20, -5]);\n\nconst highlightMorocco = () => {\n  const moroccoFeature = geoJsonLayer.value?.geojson.features.find(\n    (f) => f.properties.ADMIN === \"Morocco\"\n  );\n\n  if (!moroccoFeature) {\n    console.warn(\"Morocco not found in GeoJSON.\");\n    return;\n  }\n\n  const layer = geoJsonLayer.value?.leafletObject.getLayers().find((l) =>\n    l.feature?.properties.ADMIN === \"Morocco\"\n  );\n\n  if (layer) {\n    layer.setStyle({\n      fillColor: \"#d4bb9749\",\n      color: \"#e2d3b4\",\n      weight: 2,\n      fillOpacity: 0.9,\n    });\n\n    const bounds = layer.getBounds();\n\n    const offset = [700, 0];\n\n    map.value?.leafletObject.fitBounds(bounds, {\n      maxZoom: 7, // Prevent zooming in too far\n      paddingTopLeft: offset, // Apply offset on top-left\n    });\n\n    center.value = bounds.getCenter();\n    zoom.value = map.value?.leafletObject.getZoom();\n  }\n};\n\n\nonMounted(() => {\n  loadGeoJsonMap();\n\n  // Zoom and highlight Morocco after 10 seconds\n  setTimeout(() => {\n    highlightMorocco();\n  }, 35000);\n});\n\n\nconst loadGeoJsonMap = async () => {\n  try {\n    const geoJsonResponse = await fetch(\"./data/country-boundaries.geojson\");\n    const geoJson = await geoJsonResponse.json();\n    geoJsonData.value = geoJson;\n    console.log('GeoJSON Data:', geoJsonData.value);  // Debug log\n  } catch (error) {\n    console.error(\"Error loading data:\", error);\n  }\n};\n\nconst geoJsonStyle = () => {\n  return {\n    fillColor: \"#f5f0e168\",\n    color: \"#e2d3b4\",\n    weight: 1,\n    fillOpacity: 0.7,\n  };\n};\n\n\nfunction getWheatSrc() {\n  return new URL('@/assets/wheat/wheat-title.svg', import.meta.url).href;\n}\nfunction getSheepSrc() {\n  return new URL('@/assets/sheep-intro.png', import.meta.url).href;\n}\n\n\nconst animationTriggered = ref(false)\nonMounted(() => {\n  setTimeout(() => {\n    animationTriggered.value = true\n  }, 2000)\n})\n\nconst wheatStyles = computed(() => {\n  return Array.from({ length: 10 }, (_, i) => {\n    const n = i + 1\n    return animationTriggered.value\n      ? {\n        animation: `wiltDown 3s ease-out forwards`,\n        animationDelay: `${(10 - n) * 3}s`\n      }\n      : {}\n  })\n})\n\nconst sheepStyle = computed(() => {\n  return animationTriggered.value\n    ? { animation: 'slideInSheep 1s ease-out 1s forwards' }\n    : {}\n})\n\n// On mounted logic\nonMounted(async () => {\n  await nextTick()\n  if (droughtColorTimer) droughtColorTimer.stop()\n\n  // Drought color animation\n  const droughtColors = d3.scaleLinear()\n    .domain([0, 0.25, 0.5, 0.75, 1])\n    .range([\"#DEB887\", \"#d4bb97\", \"#e2d3b4\", \"#d4bb97\", \"#DEB887\"])\n\n  droughtColorTimer = d3.timer((elapsed) => {\n    const t = (Math.sin(elapsed / 3000) + 1) / 2 // smooth oscillation\n    const color = droughtColors(t)\n    if (droughtsText.value) {\n      droughtsText.value.style.color = color\n    }\n  })\n\n  // Initialize background noise for Droughts\n  drawBackgroundNoise()\n\n  // Set position for droughts SVG\n  setDroughtsSvgPosition()\n\n  // Positioning for Fires SVG\n  setFiresSvgPosition()\n\n  // Positioning for Floods SVG\n  setFloodsSvgPosition()\n\n  // Wait for DOM to stabilize\n  await nextTick()\n\n  // Intersection Observer setup for Droughts, Fires, and Floods\n  setupIntersectionObservers()\n})\n\n// On unmounted cleanup\nonUnmounted(() => {\n  if (sparkTimer) sparkTimer.stop()\n  if (firesObserver) firesObserver.disconnect()\n  if (floodsObserver) floodsObserver.disconnect()\n  if (droughtColorTimer) droughtColorTimer.stop()\n  if (droughtsSvg.value) {\n    droughtsSvg.value.remove()\n  }\n})\n\n// Functions for positioning and rendering\nfunction setDroughtsSvgPosition() {\n  const droughtsSvgNode = droughtsSvg.value\n  const droughtsTextRect = droughtsText.value.getBoundingClientRect()\n\n  droughtsSvgNode.style.position = 'absolute'\n  droughtsSvgNode.style.left = `${droughtsTextRect.left - 359}px`\n  droughtsSvgNode.style.top = `${droughtsTextRect.top - 142}px`\n  droughtsSvgNode.style.width = `${droughtsTextRect.width}px`\n  droughtsSvgNode.style.height = `${droughtsHeight}px`\n\n  // Set clipText position relative to the SVG height\n  clipText.value.setAttribute('x', 0)\n  clipText.value.setAttribute('y', droughtsHeight)\n  clipText.value.setAttribute('font-size', droughtsHeight)\n}\n\nfunction setFiresSvgPosition() {\n  const svgNode = firesSvg.value\n  // eslint-disable-next-line no-unused-vars\n  const group = d3.select(sparkGroup.value)\n  const { x, y } = firesText.value.getBoundingClientRect()\n\n  svgNode.setAttribute('width', 550)\n  svgNode.setAttribute('height', 170)\n  svgNode.style.position = 'absolute'\n  svgNode.style.left = `${x - 360}px`\n  svgNode.style.top = `${y - 185}px`\n\n  clipText.value.setAttribute('x', 0)\n  clipText.value.setAttribute('y', 170 * 0.75)\n  clipText.value.setAttribute('font-size', 170)\n}\n\nfunction setFloodsSvgPosition() {\n  const floodsNode = floodsSvg.value\n  const floodsRectBox = floodsText.value.getBoundingClientRect()\n\n  floodsNode.setAttribute('width', floodsRectBox.width)\n  floodsNode.setAttribute('height', floodsRectBox.height)\n  floodsNode.style.position = 'absolute'\n  floodsNode.style.left = `-${floodsRectBox.left}px/2`\n  floodsNode.style.top = `${floodsRectBox.top - 310}px`\n\n  raindropRect.value.setAttribute('width', floodsRectBox.width)\n  raindropRect.value.setAttribute('height', floodsRectBox.height)\n}\n\n// Draw background noise for Droughts\nfunction drawBackgroundNoise() {\n  const canvas = noiseCanvas.value\n  const ctx = canvas.getContext('2d')\n  const width = 1000.740\n  const height = droughtsHeight\n\n  canvas.width = width\n  canvas.height = height\n\n  ctx.fillStyle = 'transparent'\n  ctx.fillRect(0, 0, width, height)\n\n  const bladeCount = 2500\n  for (let i = 0; i < bladeCount; i++) {\n    const x = Math.random() * width\n    const y = Math.random() * height\n    const length = 8 + Math.random() * 12\n    const angle = (-Math.PI / 2) + (Math.random() - 0.5) * 0.6\n    const xEnd = x + length * Math.cos(angle)\n    const yEnd = y + length * Math.sin(angle)\n\n    ctx.beginPath()\n    ctx.moveTo(x, y)\n    ctx.lineTo(xEnd, yEnd)\n    ctx.strokeStyle = `rgba(139, 69, 19, ${0.04 + Math.random() * 0.3})`\n    ctx.lineWidth = 1\n    ctx.stroke()\n  }\n\n  // Convert to dataURL and assign\n  noiseDataUrl.value = canvas.toDataURL()\n}\n\n// Setup Intersection Observers for Droughts, Fires, and Floods\nfunction setupIntersectionObservers() {\n  // Droughts Observer\n  const droughtsObserver = new IntersectionObserver(([entry]) => {\n    if (droughtsSvg.value && droughtsText.value) {\n      droughtsSvg.value.style.display = entry.isIntersecting ? 'block' : 'none'\n    }\n  }, { threshold: 0.1 })\n\n  if (droughtsText.value instanceof Element) {\n    droughtsObserver.observe(droughtsText.value)\n  }\n\n  // Fires Observer\n  firesObserver = new IntersectionObserver(([entry]) => {\n    if (entry.isIntersecting && !sparkTimer) {\n      sparkTimer = createSparks(d3.select(sparkGroup.value), firesSvg.value)\n      firesSvg.value.style.display = 'block'\n    } else if (!entry.isIntersecting && sparkTimer) {\n      sparkTimer.stop()\n      sparkTimer = null\n      firesSvg.value.style.display = 'none'\n    }\n  }, { threshold: 0.1 })\n\n  if (firesText.value instanceof Element) {\n    firesObserver.observe(firesText.value)\n  }\n\n  // Floods Observer\n  let isRaining = false\n  floodsObserver = new IntersectionObserver(([entry]) => {\n    if (entry.isIntersecting && !isRaining) {\n      isRaining = true\n      floodsSvg.value.style.display = 'block'\n      renderRaindrops(floodsSvg.value)\n    } else if (!entry.isIntersecting && isRaining) {\n      isRaining = false\n      d3.select(raindropGroup.value).selectAll('*').interrupt().remove()\n      floodsSvg.value.style.display = 'none'\n    }\n  }, { threshold: 0.1 })\n\n  if (floodsText.value instanceof Element) {\n    floodsObserver.observe(floodsText.value)\n  }\n}\n\n// Function to create sparks\nfunction createSparks(group, svgNode) {\n  const { width, height } = svgNode.getBoundingClientRect()\n\n  function spawnSpark() {\n    const x1 = Math.random() * width\n    const y1 = Math.random() * height\n    const x2 = x1 + (Math.random() - 0.5) * 15\n    const y2 = y1 + (Math.random() - 0.5) * 15\n\n    const spark = group.append('path')\n      .attr('d', `M${x1},${y1} L${x2},${y2}`)\n      .attr('stroke', Math.random() < 0.5 ? '#FFFF99' : '#FFFFFF')\n      .attr('stroke-width', 1 + Math.random() * 5)\n      .attr('stroke-dasharray', '5 5')\n      .attr('stroke-dashoffset', 5)\n      .attr('opacity', 1)\n\n    spark.transition()\n      .duration(200)\n      .attr('stroke-dashoffset', 0)\n      .attr('opacity', 0)\n      .remove()\n  }\n\n  return d3.timer(() => {\n    for (let i = 0; i < 20; i++) {\n      if (Math.random() < 0.7) spawnSpark()\n    }\n  })\n}\n\n// Function to render raindrops\nfunction renderRaindrops(svgEl, numDrops = 100) {\n  if (!svgEl) return\n\n  const width = 699.953\n  const height = droughtsHeight\n  const svg = d3.select(svgEl)\n\n  svg.attr('width', width)\n    .attr('height', height)\n    .attr('viewBox', `0 0 ${width} ${height}`)\n\n  const group = d3.select(svgEl.querySelector('g'))\n  group.selectAll('*').remove()\n\n  const dropWidth = 6\n  const dropHeight = 10\n\n  for (let i = 0; i < numDrops; i++) {\n    const x = Math.random() * width\n    const startY = -Math.random() * 100\n    const endY = height + dropHeight\n\n    const delay = Math.random() * 2000\n    const duration = 2000 + Math.random() * 2000\n\n    const dropPath = d3.path()\n    dropPath.moveTo(0, dropHeight / 2)\n    dropPath.bezierCurveTo(dropWidth / 2, dropHeight / 2, dropWidth / 2, -dropHeight / 4, 0, -dropHeight / 2)\n    dropPath.bezierCurveTo(-dropWidth / 2, -dropHeight / 4, -dropWidth / 2, dropHeight / 2, 0, dropHeight / 2)\n\n    group.append('path')\n      .attr('d', dropPath.toString())\n      .attr('fill', '#40E0D0')\n      .attr('transform', `translate(${x}, ${startY})`)\n      .transition()\n      .delay(delay)\n      .duration(duration)\n      .ease(d3.easeLinear)\n      .attr('transform', `translate(${x}, ${endY})`)\n      .on('end', function repeat() {\n        const newX = Math.random() * width\n        d3.select(this)\n          .attr('transform', `translate(${newX}, ${-dropHeight})`)\n          .transition()\n          .delay(Math.random() * 2000)\n          .duration(2000 + Math.random() * 2000)\n          .ease(d3.easeLinear)\n          .attr('transform', `translate(${newX}, ${endY})`)\n          .on('end', repeat)\n      })\n  }\n}\n</script>\n\n<style scoped>\nhtml,\nbody {\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.hello-morocco {\n  position: relative;\n}\n\n.hello {\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-bottom: 150px;\n  position: relative;\n  overflow: visible;\n  z-index: 1;\n}\n\n.leaflet-container {\n  background-color: white;\n}\n\n.morocco-map {\n  height: calc(100vh - 12rem);\n  width: calc(100vw - 14rem);\n}\n\n.morocco-location {\n  position: absolute;\n  height: calc(100vh - 12rem);\n  width: calc(100vw - 14rem);\n  z-index: 0;\n  top: 4rem;\n}\n\nh1 {\n  text-transform: uppercase;\n  font-size: 11rem;\n  margin: 0;\n  line-height: 1;\n}\n\nh4 {\n  text-transform: uppercase;\n  font-size: 54px;\n  margin: 0;\n  font-weight: 300;\n}\n\n.subtitle {\n  margin-top: 0.25em;\n}\n\n.byline {\n  font-size: 28px;\n  font-weight: 300;\n  margin-top: 0.75em;\n}\n\n.floods-fires-line {\n  display: flex;\n  align-items: baseline;\n  gap: 0.75em;\n}\n\n.rotated {\n  transform: rotate(-90deg);\n  transform-origin: center;\n  font-size: 3.5em;\n  align-self: center;\n  position: relative;\n  top: 0.15em;\n}\n\n.droughts {\n  margin-bottom: -40px;\n}\n\n.floods {\n  color: #089c9d;\n}\n\n.floods-svg {\n  display: block;\n  pointer-events: none;\n  position: absolute;\n}\n\n.fires {\n  color: rgb(153, 0, 0);\n  font-family: 'Parkinsans', sans-serif;\n}\n\n.fires-placeholder {\n  width: 500px;\n  height: 176px;\n  position: relative;\n}\n\n.png-animation-container {\n  position: absolute;\n  top: 4.3rem;\n  left: -0.5rem;\n  width: 100%;\n  height: 5rem;\n  display: flex;\n  justify-content: left;\n  align-items: flex-end;\n  pointer-events: none;\n  z-index: 5;\n}\n\n.png-frame {\n  width: 100px;\n  margin-right: -5px;\n  height: auto;\n  opacity: 1;\n  transform: scaleX(1);\n  transform-origin: right bottom;\n}\n\n.png-frame.wheat {\n  opacity: 0.9;\n  transform-origin: bottom center;\n  z-index: 0;\n}\n\n.wilt {\n  animation: wiltDown 3s ease-out forwards;\n}\n\n.png-frame.sheep {\n  padding-left: 25px;\n  width: 90px;\n  opacity: 0;\n  z-index: 1;\n}\n</style>\n\n<style>\n.leaflet-control-attribution {\n  opacity: 0.1;\n}\n\n@keyframes wiltDown {\n  0% {\n    opacity: 0.9;\n    transform: scaleY(1);\n  }\n\n  100% {\n    opacity: 0;\n    transform: scaleY(0);\n  }\n}\n\n@keyframes slideInSheep {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n\n  to {\n    transform: translateX(0%);\n    opacity: 1;\n  }\n}\n\n.leaflet-control-zoom {\n  display: none;\n}\n</style>","import script from \"./HelloMorocco.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HelloMorocco.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HelloMorocco.vue?vue&type=style&index=0&id=394f8762&scoped=true&lang=css\"\nimport \"./HelloMorocco.vue?vue&type=style&index=1&id=394f8762&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-394f8762\"]])\n\nexport default __exports__","<template>\n    <div class=\"precip-wrapper bar-chart\" ref=\"precipWrapperRef\">\n      <h3>Raincheck<br>Forever</h3>\n    <div v-for=\"column in filteredPrecipitationColumns\" :key=\"column\" class=\"bar-chart-block\">\n      <div class=\"bar-chart-content\">\n        <!--         <h4>{{ getDropdownTitle(column) }}</h4> -->\n        <div class=\"legend\">\n          <svg :ref=\"el => legendRefs[column] = el\" height=\"40\"></svg>\n        </div>\n\n        <svg :ref=\"el => chartRefs[column] = el\"></svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport * as d3 from \"d3\";\nimport { ref, onMounted, nextTick, computed, watch } from \"vue\";\n\nconst precipWrapperRef = ref(null);\nconst chartRefs = {};\nconst legendRefs = {};\nconst historicalData = ref([]);\nconst projectedData = ref([]);\nconst projectedColumns = ref([]);\n\nconst filteredPrecipitationColumns = computed(() =>\n  projectedColumns.value.filter(col =>\n    col.toLowerCase().includes(\"precipitation\") && col.includes(\"8.5\")\n  )\n);\n\n/* \nfunction getDropdownTitle(col) {\n  return col.replace(/_/g, \" \");\n}\n */\n\nonMounted(() => {\n  if (precipWrapperRef.value) {\n    observer.observe(precipWrapperRef.value);\n  }\n});\n\n// Intersection Observer setup to trigger animation\nconst observer = new IntersectionObserver(\n  (entries) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n        entry.target.classList.add(\"in-view\");\n        triggerPrecipitationAnimation();\n      } else {\n        entry.target.classList.remove(\"in-view\");\n      }\n    });\n  },\n  { threshold: 0.5 }\n);\n\nfunction getUnitPerEllipse() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return height > width ? 5 : 10;\n}\n\n\nfunction triggerPrecipitationAnimation() {\n  const unitPerEllipse = getUnitPerEllipse(); //  New line\n\n  filteredPrecipitationColumns.value.forEach(column => {\n    const historical = historicalData.value.map(d => ({\n      year: +d.year,\n      value: Math.round(parseFloat(d[\"Precipitation\"])),\n      source: \"historical\"\n    })).filter(d => !isNaN(d.value));\n\n    const projected = projectedData.value\n      .filter(d => +d.year !== 2020)\n      .map(d => ({\n        year: +d.year,\n        value: Math.round(parseFloat(d[column])),\n        source: \"projected\"\n      })).filter(d => !isNaN(d.value));\n\n    const combinedRaw = [...historical, ...projected];\n    const combinedData = getYearlySums(combinedRaw);\n\n    renderPrecipitationCircles(combinedData, chartRefs[column], column, unitPerEllipse);\n  });\n}\n\nfunction renderLegend(unitPerEllipse, svgEl) {\n  const svg = d3.select(svgEl);\n  svg.selectAll(\"*\").remove();\n\n  const dropSize = 10;\n  const dropWidth = dropSize;\n  const dropHeight = dropSize * 1.3;\n\n  const colorMap = {\n    historical: \"#089c9d\",\n    projected: \"#40E0D0\",\n    regression: \"url(#regressionGradient)\"\n  };\n\n  const dropPath = d3.path();\n  dropPath.moveTo(0, -dropHeight / 2);\n  dropPath.bezierCurveTo(dropWidth / 2, -dropHeight / 2, dropWidth / 2, dropHeight / 4, 0, dropHeight / 2);\n  dropPath.bezierCurveTo(-dropWidth / 2, dropHeight / 4, -dropWidth / 2, -dropHeight / 2, 0, -dropHeight / 2);\n\n  const legendItems = [\"historical\", \"projected\", \"regression\"];\n\n  legendItems.forEach((type, i) => {\n    const centerX = 20;\n    const centerY = 20 + i * 25;\n\n    if (type === \"regression\") {\n      // Add regression line\n      svg.append(\"line\")\n        .attr(\"x1\", centerX - 5)\n        .attr(\"x2\", centerX + 15)\n        .attr(\"y1\", centerY)\n        .attr(\"y2\", centerY)\n        .attr(\"stroke\", \"#5C4033\")\n        .attr(\"stroke-width\", 2); \n\n      svg.append(\"text\")\n        .attr(\"x\", centerX + 20)\n        .attr(\"y\", centerY + 5)\n        .attr(\"fill\", \"#2c3e50\")\n        .attr(\"font-size\", \"1em\")\n        .text(\"Downward Trend\");\n    } else {\n      // Add raindrop legend\n      svg.append(\"path\")\n        .attr(\"d\", dropPath.toString())\n        .attr(\"transform\", `translate(${centerX}, ${centerY}) scale(1, -1)`)\n        .attr(\"fill\", colorMap[type]);\n\n      svg.append(\"text\")\n        .attr(\"x\", centerX + 15)\n        .attr(\"y\", centerY + 5)\n        .attr(\"fill\", \"#2c3e50\")\n        .attr(\"font-size\", \"1em\")\n        .text(`${type === \"historical\" ? \"Past\" : \"Future\"}: 1 raindrop = ${Math.round(unitPerEllipse)} mm`);\n    }\n  });\n\n  svg.attr(\"width\", 250).attr(\"height\", 90);\n}\n\nfunction linearRegression(x, y) {\n  const xMean = d3.mean(x);\n  const yMean = d3.mean(y);\n  const slope = d3.sum(x.map((d, i) => (d - xMean) * (y[i] - yMean))) / d3.sum(x.map(d => (d - xMean) ** 2));\n  const intercept = yMean - slope * xMean;\n\n  return {\n    slope,\n    intercept,\n    predict: x => intercept + slope * x\n  };\n}\n\n\nfunction renderPrecipitationCircles(combinedData, svgEl, column, unitPerEllipse) {\n  if (!svgEl || !combinedData.length) return;\n\n  const container = svgEl.parentNode;\n  const width = container.getBoundingClientRect().width;\n  const height = container.getBoundingClientRect().height;\n\n  const svg = d3.select(svgEl)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"viewBox\", `0 0 ${width} ${height}`);\n\n  svg.selectAll(\"*\").remove();\n\n  const margin = { top: 20, right: 20, bottom: 30, left: 60 };\n  const innerWidth = width - margin.left - margin.right;\n  const innerHeight = height - margin.top - margin.bottom;\n\n  const g = svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  const years = Array.from(new Set(combinedData.map(d => d.year))).sort((a, b) => a - b);\n  const xScale = d3.scaleBand().domain(years).range([0, innerWidth]).padding(0.1);\n  const maxValue = d3.max(combinedData, d => d.value);\n  const yScale = d3.scaleLinear().domain([0, maxValue]).range([innerHeight, 0]);\n  const color = d3.scaleOrdinal().domain([\"historical\", \"projected\"]).range([\"#089c9d\", \"#40E0D0\"]);\n\n  // Compute linear regression\n  const regression = linearRegression(combinedData.map(d => d.year), combinedData.map(d => d.value));\n\n  // Create a line path\n  const line = d3.line()\n    .x(d => xScale(d.year) + xScale.bandwidth() / 2)\n    .y(d => yScale(regression.predict(d.year)));\n\n  const regressionData = [\n    { year: d3.min(combinedData, d => d.year) },\n    { year: d3.max(combinedData, d => d.year) }\n  ];\n\n  // 1. Append a gradient to the SVG\n  const defs = svg.append(\"defs\");\n\n  const gradient = defs.append(\"linearGradient\")\n    .attr(\"id\", \"regressionGradient\")\n    .attr(\"x1\", \"0%\")\n    .attr(\"x2\", \"100%\")\n    .attr(\"y1\", \"0%\")\n    .attr(\"y2\", \"0%\");\n\n  gradient.append(\"stop\")\n    .attr(\"offset\", \"0%\")\n    .attr(\"stop-color\", \"#DEB887\"); // light brown\n\n  gradient.append(\"stop\")\n    .attr(\"offset\", \"100%\")\n    .attr(\"stop-color\", \"#5C4033\"); // dark brown\n\n  // 2. Draw the regression line using the gradient stroke\n  const regressionPath = g.append(\"path\")\n    .datum(regressionData)\n    .attr(\"fill\", \"none\")\n    .attr(\"stroke\", \"url(#regressionGradient)\") // Use the gradient\n    .attr(\"stroke-width\", 2)\n    .attr(\"d\", line);\n\n  // 3. Animate the stroke drawing\n  const totalLength = regressionPath.node().getTotalLength();\n\n  regressionPath\n    .attr(\"stroke-dasharray\", `${totalLength} ${totalLength}`)\n    .attr(\"stroke-dashoffset\", totalLength)\n    .transition()\n    .duration(3000)\n    .ease(d3.easeCubicOut)\n    .attr(\"stroke-dashoffset\", 0);\n\n\n  if (column === filteredPrecipitationColumns.value[0]) {\n    renderLegend(unitPerEllipse, legendRefs[column]);\n  }\n\n  combinedData.forEach(d => {\n    const totalCircles = Math.floor(d.value / unitPerEllipse);\n    const barCenter = xScale(d.year) + xScale.bandwidth() / 2;\n    const ellipseRx = Math.min(xScale.bandwidth() / 3, 12);\n\n    for (let i = 0; i < totalCircles; i++) {\n      const dropYmm = unitPerEllipse * (i + 1);\n      const dropY = yScale(dropYmm);\n\n      const randomYOffset = Math.random() * 100 + 20;\n      const randomDelay = Math.random() * 800;\n\n      const dropHeight = ellipseRx * 2.5;\n      const dropWidth = ellipseRx * 2;\n\n      const dropPath = d3.path();\n      dropPath.moveTo(0, -dropHeight / 2);\n      dropPath.bezierCurveTo(dropWidth / 2, -dropHeight / 2, dropWidth / 2, dropHeight / 4, 0, dropHeight / 2);\n      dropPath.bezierCurveTo(-dropWidth / 2, dropHeight / 4, -dropWidth / 2, -dropHeight / 2, 0, -dropHeight / 2);\n\n      g.append(\"path\")\n        .attr(\"d\", dropPath.toString())\n        .attr(\"transform\", `translate(${barCenter}, ${-randomYOffset}) scale(1, -1)`)\n        .attr(\"fill\", color(d.source))\n        .transition()\n        .delay(randomDelay)\n        .duration(2000)\n        .ease(d3.easeBounceOut)\n        .attr(\"transform\", `translate(${barCenter}, ${dropY}) scale(1, -1)`);\n    }\n  });\n\n  const xTickYears = years.filter((y, i, arr) => i === 0 || i === arr.length - 1 || y % 10 === 0);\n\n  // X Axis Tick Labels\n  g.append(\"g\")\n    .selectAll(\"text.x-axis\")\n    .data(xTickYears)\n    .enter()\n    .append(\"text\")\n    .attr(\"class\", \"x-axis\")\n    .attr(\"x\", d => xScale(d) + xScale.bandwidth() / 2)\n    .attr(\"y\", innerHeight + 25)\n    .style(\"text-anchor\", \"middle\")\n    .text(d => d);\n\n  // X Axis Tick Lines\n  g.append(\"g\")\n    .selectAll(\"line.x-axis-tick\")\n    .data(xTickYears)\n    .enter()\n    .append(\"line\")\n    .attr(\"class\", \"x-axis-tick\")\n    .attr(\"x1\", d => xScale(d) + xScale.bandwidth() / 2)\n    .attr(\"x2\", d => xScale(d) + xScale.bandwidth() / 2)\n    .attr(\"y1\", innerHeight)\n    .attr(\"y2\", innerHeight + 6)\n    .style(\"stroke\", \"black\")\n    .style(\"stroke-width\", 1);\n\n\n  // Y-axis Labels\n  g.append(\"g\")\n    .selectAll(\"text.y-axis\")\n    .data(yScale.ticks(5).filter(d => d !== 0))\n    .enter()\n    .append(\"text\")\n    .attr(\"class\", \"y-axis\")\n    .attr(\"x\", -40)\n    .attr(\"y\", d => (yScale(d) + 5))\n    .style(\"text-anchor\", \"middle\")\n    .text(d => d.toFixed(0));  // Display the values rounded to integers\n\n  // Y-axis Tick Lines\n  g.append(\"g\")\n    .selectAll(\"line.y-axis-tick\")\n    .data(yScale.ticks(5).filter(d => d !== 0))\n    .enter()\n    .append(\"line\")\n    .attr(\"class\", \"y-axis-tick\")\n    .attr(\"x1\", -20)\n    .attr(\"x2\", -10)\n    .attr(\"y1\", d => yScale(d))\n    .attr(\"y2\", d => yScale(d))\n    .style(\"stroke\", \"black\")\n    .style(\"stroke-width\", 1);\n\n\n  const hoverBar = g.append(\"rect\")\n    .attr(\"class\", \"hover-bar\")\n    .attr(\"width\", xScale.bandwidth())\n    .attr(\"fill-opacity\", 0.7)\n    .style(\"display\", \"none\")\n    .attr(\"y\", innerHeight)\n    .attr(\"height\", 0);\n\n  g.selectAll(\".hover-zone\")\n    .data(combinedData)\n    .enter()\n    .append(\"rect\")\n    .attr(\"class\", \"hover-zone\")\n    .attr(\"x\", d => xScale(d.year))\n    .attr(\"y\", 0)\n    .attr(\"width\", xScale.bandwidth())\n    .attr(\"height\", innerHeight)\n    .attr(\"fill\", \"transparent\")\n    .on(\"mouseover\", function (event, d) {\n      hoverBar.interrupt();\n      const hoverColor = color(d.source);\n      hoverBar.style(\"display\", \"block\")\n        .transition()\n        .duration(500)\n        .ease(d3.easeCubicOut)\n        .attr(\"x\", xScale(d.year))\n        .attr(\"y\", yScale(d.value))\n        .attr(\"height\", innerHeight - yScale(d.value))\n        .attr(\"fill\", hoverColor);\n\n      g.selectAll(\".bar-label\").remove();\n      g.append(\"text\")\n        .attr(\"class\", \"bar-label\")\n        .attr(\"x\", xScale(d.year) + xScale.bandwidth() / 2)\n        .attr(\"y\", yScale(d.value) - 10)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"fill\", \"#333\")\n        .attr(\"opacity\", 0)\n        .text(`${Math.round(d.value)} mm`)\n        .transition()\n        .duration(500)\n        .attr(\"opacity\", 1);\n    })\n    .on(\"mouseout\", function () {\n      hoverBar.interrupt();\n      hoverBar.transition()\n        .duration(500)\n        .ease(d3.easeCubicOut)\n        .attr(\"y\", innerHeight)\n        .attr(\"height\", 0)\n        .style(\"display\", \"none\");\n\n      g.selectAll(\".bar-label\")\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 0)\n        .remove();\n    });\n}\n\nfunction getYearlySums(data) {\n  const yearlySums = d3.rollups(\n    data,\n    values => d3.sum(values, d => d.value),\n    d => d.year\n  ).map(([year, sum]) => ({\n    year,\n    value: sum,\n    source: data.find(d => d.year === year).source\n  }));\n\n  return yearlySums;\n}\n\nwatch([historicalData, projectedData], async () => {\n  if (!historicalData.value.length || !projectedData.value.length) return;\n\n  const unitPerEllipse = getUnitPerEllipse(); //  New line\n  const histCol = \"Precipitation\";\n\n  for (const column of filteredPrecipitationColumns.value) {\n    const historical = historicalData.value.map(d => ({\n      year: +d.year,\n      value: Math.round(parseFloat(d[histCol])),\n      source: \"historical\"\n    })).filter(d => !isNaN(d.value));\n\n    const projected = projectedData.value\n      .filter(d => +d.year !== 2020)\n      .map(d => ({\n        year: +d.year,\n        value: Math.round(parseFloat(d[column])),\n        source: \"projected\"\n      })).filter(d => !isNaN(d.value));\n\n    const combinedRaw = [...historical, ...projected];\n    const combinedData = getYearlySums(combinedRaw);\n\n    await nextTick();\n\n    renderPrecipitationCircles(combinedData, chartRefs[column], column, unitPerEllipse);\n  }\n});\n\nonMounted(async () => {\n  try {\n    const hist = await d3.csv(\"./data/MeanMaxSurfaceAirTempuratureAndPrecipitation-1951-2020-Month.csv\");\n    const proj = await d3.csv(\"./data/AverageMeanAndMaxSurfaceAirTemperatureAndPrecipitation-2020-2099-Month-FourScenarios.csv\");\n\n    historicalData.value = hist;\n    projectedData.value = proj;\n    projectedColumns.value = Object.keys(proj[0] || {});\n  } catch (err) {\n    console.error(\"Error loading CSV data:\", err);\n  }\n});\n</script>\n\n\n<style scoped>\nhtml,\nbody,\n#app {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.precip-wrapper {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  width: calc(100vw - 5rem);\n  box-sizing: border-box;\n  padding: 4rem 4rem 4rem 4rem;\n  overflow: auto;\n  opacity: 0;\n  transition: opacity 1s ease-in-out;\n}\n\n.precip-wrapper.in-view {\n  opacity: 1;\n  /* Fade in when in view */\n}\n\n.precip-wrapper h3 {\n  color: #40E0D04f;\n  text-transform: uppercase;\n  line-height: 1;\n  font-size: 5em;\n  position: absolute;\n  top: 4rem;\n  left: 9.5rem;\n  text-align: left;\n  margin: 0;\n  font-weight: 800;\n  z-index: 0;\n}\n\n.bar-chart {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.bar-chart-block {\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  overflow: hidden;\n}\n\n.bar-chart-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.legend {\n  position: absolute;\n  top: 2.5rem;\n  right: 5%;\n  padding-left: 1rem;\n  z-index: 2;\n  pointer-events: none;\n}\n\nsvg {\n  overflow: visible;\n}\n\n.x-axis {\n  font-size: 0.75em;\n}\n\n.y-axis {\n  font-size: 0.75em;\n}\n\n</style>\n","import script from \"./RainfallPrecipitation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RainfallPrecipitation.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RainfallPrecipitation.vue?vue&type=style&index=0&id=c8ccda7a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c8ccda7a\"]])\n\nexport default __exports__","<template>\n    <div ref=\"wrapperRef\" class=\"temperature-wrapper unified-heatmap\">\n        <div class=\"title\" v-show=\"showTitle\">\n            <h3>Future Heat</h3>\n        </div>\n        <div class=\"top-bar\">\n            <!-- <h3></h3> -->\n            <div class=\"legend\">\n                <div class=\"legend-pairs\">\n                    <div class=\"legend-pair\" v-for=\"(color, index) in legendColors\" :key=\"index\">\n                        <div class=\"legend-color-pair\">\n                            <div class=\"legend-color\" :style=\"{ backgroundColor: color.color }\"></div>\n                            <div class=\"legend-color\"\n                                :style=\"{ backgroundColor: grayscaleLegendColors[index]?.color || '#ccc' }\"></div>\n                        </div>\n                        <span class=\"legend-label\">{{ color.label }}</span>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"control-container\">\n                <!-- Left Side: Controls -->\n                <div class=\"left-controls\">\n                    <div class=\"radio-buttons\">\n                        <label>\n                            <input type=\"radio\" v-model=\"selectedColumnGroup\" value=\"max\" /> Max\n                        </label>\n                        <label>\n                            <input type=\"radio\" v-model=\"selectedColumnGroup\" value=\"mean\" /> Mean\n                        </label>\n                    </div>\n\n                    <div class=\"overlay-toggle toggle-switch\">\n                        <label class=\"switch\">\n                            <input type=\"checkbox\" v-model=\"showOverlay\">\n                            <span class=\"slider\"></span>\n                        </label>\n                        <span class=\"toggle-label\">{{ showOverlay ? \"Hide Covers\" : \"Show Covers\" }}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"heatmap-container\">\n            <div v-for=\"(column, index) in filteredProjectedColumnOptions\" :key=\"column\" class=\"heatmap-block\"\n                :class=\"{ visible: showBlocks[index] }\" @mouseenter=\"hoveredBlock = column\"\n                @mouseleave=\"hoveredBlock = null\">\n\n                <div class=\"heatmap-visual\">\n                    <svg :ref=\"el => heatmapRefs[column] = el\"\n                        :data-last-heatmap=\"index === filteredProjectedColumnOptions.length - 1\"></svg>\n                    <div class=\"heatmap-cover\" :class=\"{ hidden: hoveredBlock === column || !showOverlay }\">\n                        <svg class=\"spark-overlay\"></svg>\n                        <div class=\"cover-message\">\n                            <div class=\"cover-headings\">\n                                <h4>{{ getScenarioInfo(column).title }}</h4>\n                                <h5>{{ getScenarioInfo(column).subtitle }}</h5>\n                                <h6>{{ getScenarioInfo(column).soundBite }}</h6>\n                            </div>\n                            <div class=\"cover-paragraph\">\n                                <p v-html=\"getScenarioInfo(column).message\"></p>\n                            </div>\n                        </div>\n\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport * as d3 from \"d3\";\nimport { ref, onMounted, onBeforeUnmount, nextTick, computed, watch } from \"vue\";\n\nconst heatmapRefs = {};\nconst hoveredBlock = ref(null);\nconst wrapperRef = ref(null);\nconst observer = ref(null);\n\nconst historicalData = ref([]);\nconst projectedData = ref([]);\nconst projectedColumns = ref([]);\n\nconst selectedColumnGroup = ref(\"max\");\nconst selectedProjectedColumn = ref(\"\");\n\nconst hasAnimated = ref(false);\n\nconst legendInFahrenheit = ref(false);\n\nconst showTitle = ref(false);\n\n// NEW STATE: Show/hide overlays\nconst showOverlay = ref(true);\n\nconst legendColors = computed(() => {\n    const celsiusBreaks = [15, 20, 25, 30, 35];\n    const fahrenheitBreaks = celsiusBreaks.map(c => Math.round(c * 9 / 5 + 32));\n    const labels = legendInFahrenheit.value\n        ? [...fahrenheitBreaks.map(t => `${t}F`), `${Math.round(40 * 9 / 5 + 32)}F+`]\n        : [...celsiusBreaks.map(t => `${t}C`), \"40C+\"];\n\n    const colors = [\"#40E0D0\", \"#7FFF00\", \"#FFFF00\", \"#FF8000\", \"#FF0000\", \"#820747\"]; // colors are: pale turquoise, chartreuse, yellow, orange, red, dark red\n\n    return colors.map((color, i) => ({\n        color,\n        label: labels[i]\n    }));\n});\n\n// Grayscale version of the color scale (same range but grayscale)\nconst grayscaleLegendColors = computed(() => {\n    const grayscaleColors = [\n        \"#D3D3D3\", \"#A9A9A9\", \"#808080\", \"#505050\", \"#303030\", \"#101010\"\n    ];\n    const labels = legendColors.value.map(color => color.label); // Use the same labels\n\n    return grayscaleColors.map((color, i) => ({\n        color,\n        label: labels[i]\n    }));\n});\n\n\nconst filteredProjectedColumnOptions = computed(() =>\n    projectedColumns.value.filter(col =>\n        selectedColumnGroup.value === \"mean\"\n            ? col.toLowerCase().includes(\"mean\")\n            : col.toLowerCase().includes(\"max\")\n    ).reverse()\n);\n\nconst getScenarioInfo = (columnName) => {\n    if (columnName.includes(\"SSP1-2.6\")) {\n        return {\n            title: \"Kindling Spark\",\n            subtitle: \"Best-Case Scenario\",\n            soundBite: \"The fires just a flicker  we nearly snuffed it out.\",\n            message: \"Aiming high on sustainability, this scenario sees the world making strong progress on cutting emissions, hitting net-zero after 2050. The result? Global warming is likely kept below 2C by 2100. Its the climate-friendly path.\"\n        };\n    } else if (columnName.includes(\"SSP2-4.5\")) {\n        return {\n            title: \"Smoldering Path\",\n            subtitle: \"Business-as-Usual Scenario\",\n            soundBite: \"The coals still burn  slow heat, rising risk.\",\n            message: \"This is the do a little, but not too much path. Emissions stay close to current levels until around mid-century, then slowly decline. Net-zero isn't reached until after 2100. It's a compromise route, with moderate climate action and moderate consequences.\"\n        };\n    } else if (columnName.includes(\"SSP3-7.0\")) {\n        return {\n            title: \"Rising Blaze\",\n            subtitle: \"Worsening Scenario\",\n            soundBite: \"The flames are spreading  no ones tending the line.\",\n            message: \"In this future, the world is fragmented, with regional tensions and little cooperation. Emissions keep rising, nearly doubling by 2100. Climate action takes a back seat, leading to increasing global risks and instability.\"\n        };\n    } else if (columnName.includes(\"SSP5-8.5\")) {\n        return {\n            title: \"Inferno Run\",\n            subtitle: \"Worst-Case Scenario\",\n            soundBite: \"The firestorm roars  and we lit the match.\",\n            message: \"Fueled by fossil energy and tech innovation, this path prioritizes economic growth over sustainability. Emissions soar, and radiative forcing reaches the highest levels  its the worst-case outlook. It's the high-speed lane to extreme climate change.\"\n        };\n    } else {\n        return {\n            title: \"Unknown Flame\",\n            subtitle: columnName,\n            soundBite: \"Unknown path  map not available.\",\n            message: \"Scenario description unavailable.\"\n        };\n    }\n};\n\nwatch(selectedColumnGroup, () => {\n    const filtered = filteredProjectedColumnOptions.value;\n    selectedProjectedColumn.value = filtered.length > 0 ? filtered[0] : \"\";\n});\n\nwatch([historicalData, projectedData, selectedColumnGroup], async () => {\n    if (!historicalData.value.length || !projectedData.value.length) return;\n\n    for (const [index, column] of filteredProjectedColumnOptions.value.entries()) {\n        const histCol = selectedColumnGroup.value === \"mean\" ? \"Mean Temp\" : \"Max Temp\";\n\n        const combinedData = [\n            ...historicalData.value.map(d => ({\n                year: +d.year,\n                month: d.month,\n                value: parseFloat(d[histCol]),\n                source: \"historical\"\n            })),\n            ...projectedData.value.map(d => ({\n                year: +d.year,\n                month: d.month,\n                value: parseFloat(d[column]),\n                source: \"projected\"\n            }))\n        ];\n\n        await nextTick();\n        const isLastHeatmap = index === filteredProjectedColumnOptions.value.length - 1;\n        renderUnifiedHeatmap(combinedData, heatmapRefs[column], isLastHeatmap);\n    }\n}, { immediate: true });\n\nfunction renderUnifiedHeatmap(data, svgEl, isLastHeatmap) {\n    if (!svgEl || !data.length) return;\n\n    const container = svgEl.parentNode;\n    const width = container.getBoundingClientRect().width;\n    const height = container.getBoundingClientRect().height;\n\n    const months = Array.from(new Set(data.map(d => d.month))).reverse();\n    const years = Array.from(new Set(data.map(d => d.year)));\n\n    const margin = { top: 0, right: 90, bottom: 30, left: 50 };\n    const innerHeight = height - margin.top - margin.bottom;\n    const innerWidth = width - margin.left - margin.right;\n\n    const svg = d3.select(svgEl)\n        .attr(\"width\", \"100%\")\n        .attr(\"height\", \"100%\")\n        .attr(\"viewBox\", `0 0 ${width} ${height}`);\n\n    svg.selectAll(\"*\").remove();\n\n    const xScale = d3.scaleBand().domain(years).range([0, innerWidth]).padding(0.05);\n    const yScale = d3.scaleBand().domain(months).range([innerHeight, 0]).padding(0.05);\n\n    const colorScale = d3.scaleThreshold()\n        .domain([15, 20, 25, 30, 35])\n        .range([\"#40E0D0\", \"#7FFF00\", \"#FFFF00\", \"#FF8000\", \"#FF0000\", \"#820747\"]);\n\n    const g = svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    const xAxisTicks = years.filter((y, i) => i === 0 || i === years.length - 1 || y % 10 === 0);\n    if (isLastHeatmap) {\n        g.append(\"g\")\n            .selectAll(\"text.x-axis\")\n            .data(xAxisTicks)\n            .enter()\n            .append(\"text\")\n            .attr(\"class\", \"x-axis\")\n            .attr(\"x\", d => xScale(d) + xScale.bandwidth() / 2)\n            .attr(\"y\", innerHeight + 25)\n            .style(\"text-anchor\", \"middle\")\n            .text(d => d);\n    }\n\n    g.append(\"g\")\n        .selectAll(\"line.x-axis-tick\")\n        .data(xAxisTicks)\n        .enter()\n        .append(\"line\")\n        .attr(\"x1\", d => xScale(d) + xScale.bandwidth() / 2)\n        .attr(\"x2\", d => xScale(d) + xScale.bandwidth() / 2)\n        .attr(\"y1\", innerHeight)\n        .attr(\"y2\", innerHeight + 6)\n        .style(\"stroke\", \"black\");\n\n    g.append(\"g\")\n        .selectAll(\"text.y-axis\")\n        .data(months)\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"y-axis\")\n        .attr(\"x\", -25)\n        .attr(\"y\", d => yScale(d) + yScale.bandwidth() / 1.25)\n        .style(\"text-anchor\", \"middle\")\n        .text(d => d);\n\n    // Function to convert color to grayscale\n    function toGrayscale(color) {\n        const rgb = d3.rgb(color);\n        const grayscale = 0.2126 * rgb.r + 0.7152 * rgb.g + 0.0722 * rgb.b;\n        return d3.rgb(grayscale, grayscale, grayscale);\n    }\n\n    g.selectAll(\".heatmap-cell\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"heatmap-cell\")\n        .attr(\"x\", d => xScale(d.year))\n        .attr(\"y\", d => yScale(d.month))\n        .attr(\"width\", xScale.bandwidth())\n        .attr(\"height\", yScale.bandwidth())\n        .style(\"fill\", d => {\n            const color = colorScale(d.value);\n            // Convert the color to grayscale for years 2020 or earlier\n            if (d.year <= 2020) {\n                return toGrayscale(color); // Convert color to grayscale\n            }\n            return color; // Keep the original color for later years\n        })\n        .style(\"opacity\", 0)\n        .transition()\n        .duration(500)\n        .style(\"opacity\", 1);\n\n\n}\n\nlet sparkTimers = [];\n\nfunction startSparks() {\n    d3.selectAll('.spark-overlay').each(function () {\n        const svg = d3.select(this);\n        const group = svg.append('g').attr('class', 'spark-group');\n        const timer = createSparks(group, svg.node());\n        sparkTimers.push({ svg, group, timer });\n    });\n}\n\nfunction stopSparks() {\n    // Stop all timers and remove spark elements\n    sparkTimers.forEach(({ group, timer }) => {\n        timer.stop();\n        group.remove();\n    });\n    sparkTimers = [];\n}\n\n\nd3.selectAll('.spark-overlay')\n    .each(function () {\n        const svg = d3.select(this);\n        const sparkGroup = svg.append('g').attr('class', 'spark-group');\n        createSparks(sparkGroup, svg.node());\n    });\n\nfunction createSparks(group, svgNode) {\n    const { width, height } = svgNode.getBoundingClientRect();\n\n    function spawnSpark() {\n        const x1 = Math.random() * width;\n        const y1 = Math.random() * height;\n        const x2 = x1 + (Math.random() - 0.5) * 15;\n        const y2 = y1 + (Math.random() - 0.5) * 15;\n\n        const spark = group.append('path')\n            .attr('d', `M${x1},${y1} L${x2},${y2}`)\n            .attr('stroke', Math.random() < 0.5 ? '#FFFF99' : '#FFFFFF')\n\n            .attr('stroke-width', 1 + Math.random() * 5)\n            .attr('stroke-dasharray', '5 5')\n            .attr('stroke-dashoffset', 5)\n            .attr('opacity', 1);\n\n        spark.transition()\n            .duration(200)\n            .attr('stroke-dashoffset', 0)\n            .attr('opacity', 0)\n            .remove();\n    }\n\n    return d3.timer(() => {\n        for (let i = 0; i < 20; i++) {\n            if (Math.random() < 0.7) spawnSpark(); // increase probability\n        }\n    });\n}\n\n\nconst showBlocks = ref([]);\n\nonMounted(async () => {\n    try {\n        const hist = await d3.csv(\"./data/MeanMaxSurfaceAirTempuratureAndPrecipitation-1951-2020-Month.csv\");\n        const proj = await d3.csv(\"./data/AverageMeanAndMaxSurfaceAirTemperatureAndPrecipitation-2020-2099-Month-FourScenarios.csv\");\n\n        historicalData.value = hist;\n        projectedData.value = proj;\n        projectedColumns.value = Object.keys(proj[0] || {});\n\n        const defaultGroup = selectedColumnGroup.value;\n        const defaultOptions = projectedColumns.value.filter(col =>\n            defaultGroup === \"mean\" ? col.toLowerCase().includes(\"mean\") : col.toLowerCase().includes(\"max\")\n        );\n        selectedProjectedColumn.value = defaultOptions[0];\n\n        // Initial state for animation\n        showBlocks.value = Array(filteredProjectedColumnOptions.value.length).fill(false);\n\n        for (let i = 0; i < filteredProjectedColumnOptions.value.length; i++) {\n            const column = filteredProjectedColumnOptions.value[i];\n            const histCol = selectedColumnGroup.value === \"mean\" ? \"Mean Temp\" : \"Max Temp\";\n            const combinedData = [\n                ...historicalData.value.map(d => ({\n                    year: +d.year,\n                    month: d.month,\n                    value: parseFloat(d[histCol]),\n                    source: \"historical\"\n                })),\n                ...projectedData.value.map(d => ({\n                    year: +d.year,\n                    month: d.month,\n                    value: parseFloat(d[column]),\n                    source: \"projected\"\n                }))\n            ];\n\n            renderUnifiedHeatmap(combinedData, heatmapRefs[column], column === filteredProjectedColumnOptions.value.at(-1));\n\n\n        }\n\n        // IntersectionObserver setup\n        observer.value = new IntersectionObserver((entries) => {\n            const entry = entries[0];\n            if (entry.isIntersecting && !hasAnimated.value) {\n                hasAnimated.value = true;\n\n                showBlocks.value = Array(filteredProjectedColumnOptions.value.length).fill(false);\n\n                for (let i = 0; i < filteredProjectedColumnOptions.value.length; i++) {\n                    setTimeout(() => {\n                        showBlocks.value[i] = true;\n\n                        //  Trigger message animation immediately when the block shows\n                        const wrapper = wrapperRef.value;\n                        const messages = wrapper.querySelectorAll('.cover-message');\n\n                        if (messages[i]) {\n                            messages[i].classList.add('sparked');\n                        }\n                    }, i * 250);\n\n                }\n            }\n        }, { threshold: 0.3 });\n\n        let toggleInterval = setInterval(() => {\n            legendInFahrenheit.value = !legendInFahrenheit.value;\n        }, 10000); // every 10 seconds\n\n        onBeforeUnmount(() => {\n            clearInterval(toggleInterval);\n        });\n\n\n        let resizeTimeout;\n        const handleResize = () => {\n            clearTimeout(resizeTimeout);\n            resizeTimeout = setTimeout(() => {\n                for (const column of filteredProjectedColumnOptions.value) {\n                    const histCol = selectedColumnGroup.value === \"mean\" ? \"Mean Temp\" : \"Max Temp\";\n                    const combinedData = [\n                        ...historicalData.value.map(d => ({\n                            year: +d.year,\n                            month: d.month,\n                            value: parseFloat(d[histCol]),\n                            source: \"historical\"\n                        })),\n                        ...projectedData.value.map(d => ({\n                            year: +d.year,\n                            month: d.month,\n                            value: parseFloat(d[column]),\n                            source: \"projected\"\n                        }))\n                    ];\n                    renderUnifiedHeatmap(combinedData, heatmapRefs[column], column === filteredProjectedColumnOptions.value.at(-1));\n                }\n            }, 1000);\n        };\n\n        window.addEventListener(\"resize\", handleResize);\n        onBeforeUnmount(() => {\n            window.removeEventListener(\"resize\", handleResize);\n        });\n\n    } catch (err) {\n        console.error(\"Error loading CSV data:\", err);\n    }\n\n    if (wrapperRef.value && observer.value) {\n        observer.value.observe(wrapperRef.value);\n    }\n    await nextTick(); // Ensure all covers are rendered\n    setTimeout(() => {\n        d3.selectAll('.spark-overlay')\n            .each(function () {\n                const svg = d3.select(this);\n                const sparkGroup = svg.append('g').attr('class', 'spark-group');\n                createSparks(sparkGroup, svg.node());\n            });\n    }, 100); // small delay just in case\n\n    observer.value = new IntersectionObserver(\n        ([entry]) => {\n            showTitle.value = entry.isIntersecting;\n        },\n        {\n            threshold: 0.1, // Adjust sensitivity\n        }\n    );\n\n    if (wrapperRef.value) {\n        observer.value.observe(wrapperRef.value);\n    }\n\n});\n\nwatch(showOverlay, (newVal) => {\n    if (newVal) {\n        nextTick(() => {\n            // Start Sparks animation when showOverlay is true\n            const wrapper = wrapperRef.value;\n            const messages = wrapper.querySelectorAll('.cover-message');\n\n            // Add 'sparked' class to cover messages\n            messages.forEach((msg) => {\n                msg.classList.add('sparked');\n            });\n\n            // Start sparks animation\n            startSparks(); // Start the spark effect\n        });\n    } else {\n        // Stop Sparks animation when showOverlay is false\n        stopSparks(); // Stop the spark effect\n    }\n});\n\n\n\nonBeforeUnmount(() => {\n    if (observer.value && wrapperRef.value) {\n        observer.value.unobserve(wrapperRef.value);\n    }\n    window.removeEventListener(\"resize\", renderUnifiedHeatmap);\n});\n\n</script>\n\n<style scoped>\n.title {\n    position: absolute;\n    bottom: 7rem;\n    right: 10.5rem;\n    font-size: 5rem;\n    color: #FF00003f;\n    text-transform: uppercase;\n    transform: rotate(90deg);\n    transform-origin: bottom right;\n}\n\n.top-bar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 0.5rem;\n    margin-right: 5.75rem;\n    /* gap: 2rem; */\n}\n\n.legend {\n    /* flex: 1; */\n    display: flex;\n    justify-content: center;\n}\n\n.control-container {\n    flex: none;\n}\n\n\n.temperature-wrapper {\n    position: relative;\n    height: 100vh;\n    width: calc(100vw - 6rem);\n    display: flex;\n    flex-direction: column;\n    padding: 4rem 4rem 5rem 4rem;\n    box-sizing: border-box;\n    overflow: hidden;\n}\n\n.left-controls {\n    display: flex;\n    gap: 15px;\n}\n\n.radio-buttons,\n.overlay-toggle {\n    display: flex;\n    gap: 10px;\n}\n\ninput[type=\"radio\"] {\n    appearance: none;\n    -webkit-appearance: none;\n    background-color: #fff;\n    border: 2px solid #ccc;\n    border-radius: 50%;\n    width: 16px;\n    height: 16px;\n    cursor: pointer;\n    position: relative;\n}\n\ninput[type=\"radio\"]:checked {\n    border-color: rgb(255, 0, 0);\n}\n\ninput[type=\"radio\"]:checked::before {\n    content: \"\";\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background: rgb(255, 0, 0);\n}\n\n.overlay-toggle.toggle-switch {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n}\n\n.switch {\n    position: relative;\n    display: inline-block;\n    width: 26px;\n    height: 13px;\n}\n\n.switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n}\n\n.slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    transition: 0.2s;\n    border-radius: 34px;\n}\n\n.slider:before {\n    position: absolute;\n    content: \"\";\n    height: 10px;\n    width: 10px;\n    left: 2px;\n    /* Add slight left padding */\n    top: 50%;\n    /* Center vertically */\n    transform: translateY(-50%);\n    /* Perfect vertical centering */\n    background-color: white;\n    transition: 0.2s;\n    border-radius: 50%;\n}\n\n\ninput:checked+.slider {\n    background-color: rgb(255, 0, 0);\n}\n\n.switch input:checked+.slider:before {\n    transform: translate(12px, -50%);\n    /* horizontal move + keep vertical centering */\n}\n\n.legend-color-pair {\n    display: flex;\n    flex-direction: row;\n    ;\n}\n\n.legend-pairs {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 12px;\n}\n\n.legend-pair {\n    display: flex;\n    gap: 5px;\n    flex-direction: row;\n    align-items: center;\n}\n\n.legend-color {\n    width: 20px;\n    height: 20px;\n}\n\n\n.heatmap-container {\n    display: flex;\n    flex-direction: column;\n    gap: 0;\n    flex: 1;\n    height: 100%;\n    margin-top: 0;\n    /* Ensure no margin at the top */\n}\n\n.heatmap-block {\n    flex: 1;\n    height: 25%;\n    /* Ensure equal distribution of space */\n    width: 100%;\n    display: flex;\n    align-items: flex-start;\n    /* Align heatmaps at the top */\n    justify-content: center;\n    margin-top: 0;\n    /* Remove any margin pushing the blocks down */\n    opacity: 0;\n    transform: translateY(20px);\n    transition: opacity 0s linear, transform 0s linear;\n}\n\n.heatmap-block.visible {\n    opacity: 1;\n    transform: translateY(0);\n}\n\n.heatmap-visual {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: flex-start;\n}\n\n.heatmap-cover {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2;\n    transition: opacity 0.3s ease;\n    pointer-events: auto;\n    cursor: pointer;\n}\n\n.heatmap-block .heatmap-cover {\n    height: calc(100% - 30px);\n    width: calc(100% - 90px);\n}\n\n.heatmap-cover.hidden {\n    opacity: 0;\n    pointer-events: none;\n}\n\n.cover-message {\n    opacity: 0;\n    transform: scale(0.9);\n    transition: opacity 0s linear, transform 0s linear;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    gap: 1rem;\n    align-items: center;\n}\n\n.cover-message.sparked {\n    opacity: 1;\n}\n\n.cover-headings,\n.cover-paragraph {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n}\n\n.x-axis {\n    font-size: 0.75em;\n}\n\n.y-axis {\n    font-size: 0.75em;\n}\n\n.heatmap-block:nth-child(2),\n.heatmap-block:nth-child(3),\n.heatmap-block:nth-child(4) {\n    margin-top: -25px;\n}\n\n.heatmap-block:nth-child(4) .heatmap-cover {\n    background-color: rgb(102, 0, 0);\n}\n\n.heatmap-block:nth-child(3) .heatmap-cover {\n    background-color: rgb(153, 0, 0);\n}\n\n.heatmap-block:nth-child(2) .heatmap-cover {\n    background-color: rgb(204, 0, 0);\n}\n\n.heatmap-block:nth-child(1) .heatmap-cover {\n    background-color: rgb(255, 0, 0);\n}\n\nh4 {\n    text-align: left;\n    text-transform: uppercase;\n    font-size: 60px;\n    margin: 0;\n    font-weight: 300;\n    line-height: 1;\n}\n\nh5 {\n    padding-top: 0.25rem;\n    text-align: left;\n    font-size: 28px;\n    font-weight: 300;\n    margin: 0;\n    line-height: 1.25;\n}\n\nh6 {\n    padding-top: 0.25rem;\n    text-align: left;\n    font-weight: 300;\n    font-size: 24px;\n    margin: 0;\n}\n\np {\n    font-size: 22px;\n    margin: 0;\n    text-align: left;\n    font-weight: 400;\n}\n\n.spark-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n.spark-overlay {\n    pointer-events: none;\n    z-index: 2;\n    /* On top of cover */\n}\n\n.heatmap-cover {\n    z-index: 1;\n}\n</style>","import script from \"./MeanTemperature.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MeanTemperature.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MeanTemperature.vue?vue&type=style&index=0&id=d7312068&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-d7312068\"]])\n\nexport default __exports__","<template>\n  <div class=\"sheep-cattle-herds\" ref=\"herdArea\">\n    <!-- Background canvas -->\n    <canvas class=\"background-canvas\" ref=\"noiseCanvas\"></canvas>\n    <div class=\"graphic-title\" ref=\"graphicTitle\">\n      <h3>Pasture Panic</h3>\n    </div>\n    <!-- White padded boundary -->\n    <div class=\"herd-padding-wrapper\">\n      <div class=\"herd-text\" ref=\"herdText\" :class=\"{ 'visible': textStage !== 'initial' }\">\n        <div class=\"title-row\" v-if=\"textStage === 'reducing'\">\n          <h4>2014</h4>\n          <h5>The Grazeful Era</h5>\n        </div>\n        <div class=\"title-row\" v-else-if=\"textStage === 'complete'\">\n          <h4>2025</h4>\n          <h5>Desperately Seeking Grass</h5>\n        </div>\n        <p v-if=\"textStage === 'reducing'\">\n          Imagine a herd of sheep and cattle, grazing peacefully in the fields of Morocco.\n        </p>\n        <div v-else-if=\"textStage === 'complete'\">\n          <p>\n            According to official figures, Morocco's cattle and sheep herds have decreased\n            by 38% in 2025 since the last census nine years ago, in 2014, due to consecutive\n            droughts.</p>\n<!--           <p>\n            And with Morocco in the sixth year of the drought, the Moroccan government has even\n            asked its citizens not to slaughter sheep for the upcoming holiday Eid al-Adha.\n          </p> -->\n        </div>\n      </div>\n\n      <!-- Visual placement zone -->\n      <div class=\"herd-visual-area\" ref=\"herdVisual\">\n        <img v-for=\"(animal) in displayedHerd\" :key=\"animal.id\" :src=\"require(`@/assets/herds/${animal.src}`)\"\n          class=\"herd-image\" :style=\"animal.style\" />\n      </div>\n      <div class=\"background-overlay\" :style=\"{ backgroundColor: backgroundTransitionColor }\" />\n      <!-- Text display instead of SVG -->\n      <div class=\"countdown-container\">\n        <p class=\"countdown-text\">{{ finalPercentage }}%</p>\n      </div>\n\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      herd: [],\n      displayedHerd: [],\n      animalTypes: [\n        \"black-speckle-cow.png\",\n        \"brown-cow.png\",\n        \"brown-ram.png\",\n        \"brown-sheep.png\",\n        \"brown-speckle-cow.png\",\n        \"gray-cow.png\",\n        \"white-ram-2.png\",\n        \"white-sheep-2.png\",\n      ],\n      observer: null,\n      hasReduced: false,\n      textStage: 'initial', // 'initial', 'reducing', 'complete'\n      finalPercentage: 100, // Add this property to control the percentage\n    };\n  },\n\n  mounted() {\n    this.generateHerd();\n    this.setupIntersectionObserver();\n    this.$nextTick(() => {\n      this.drawBackgroundNoise();\n    });\n  },\n\n  watch: {\n    textStage() {\n      this.$nextTick(() => {\n        this.drawBackgroundNoise();\n      });\n    }\n  },\n\n  beforeUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  },\n  computed: {\n    backgroundTransitionColor() {\n      // Interpolate between green and brown\n      const pct = (100 - this.finalPercentage) / (100 - 62);\n      const r = Math.round(217 + pct * (245 - 217)); // d9 -> f5\n      const g = Math.round(240 + pct * (240 - 240)); // f0 -> f0\n      const b = Math.round(217 + pct * (225 - 217)); // d9 -> e1\n      return `rgb(${r},${g},${b})`;\n    }\n  },\n  methods: {\n    generateHerd() {\n      let idCounter = 0;\n      this.herd = [];\n\n      // 4 types get 13, 4 types get 12\n      const animalCounts = [13, 13, 13, 13, 12, 12, 12, 12];\n\n      this.animalTypes.forEach((type, i) => {\n        for (let j = 0; j < animalCounts[i]; j++) {\n          this.herd.push({ id: idCounter++, src: type });\n        }\n      });\n\n      // Delay placement to ensure layout is ready\n      this.$nextTick(() => {\n        setTimeout(() => {\n          this.placeAnimals();\n        }, 50);\n      });\n    },\n    placeAnimals() {\n      const visualArea = this.$refs.herdVisual;\n      const textBox = this.$refs.herdText;\n      const areaRect = visualArea.getBoundingClientRect();\n      const textRect = textBox.getBoundingClientRect();\n      const titleBox = this.$refs.graphicTitle;\n      const titleRect = titleBox.getBoundingClientRect();\n\n      const maxWidth = areaRect.width;\n      const maxHeight = areaRect.height;\n\n      const animalSize = 100; // size of .herd-image (width/height)\n      const padding = 5;\n      const cellSize = animalSize + padding;\n\n      const textLeft = textRect.left - areaRect.left;\n      const textTop = textRect.top - areaRect.top;\n      const titleLeft = titleRect.left - areaRect.left;\n      const titleTop = titleRect.top - areaRect.top;\n\n      const exclusionZones = [\n        {\n          left: textLeft - 10,\n          top: textTop - 10,\n          right: textLeft + textRect.width + 10,\n          bottom: textTop + textRect.height + 10,\n        },\n        {\n          left: titleLeft - 50,\n          top: titleTop - 10,\n          right: titleLeft + titleRect.width + 10,\n          bottom: titleTop + titleRect.height + 10,\n        },\n      ];\n\n      const cols = Math.floor(maxWidth / cellSize);\n      const rows = Math.floor(maxHeight / cellSize);\n      const grid = [];\n\n      for (let y = 0; y < rows; y++) {\n        for (let x = 0; x < cols; x++) {\n          const posX = x * cellSize + cellSize / 2;\n          const posY = y * cellSize + cellSize / 2;\n\n          // Check if inside text bounds\n          const overlapsText = exclusionZones.some(zone =>\n            posX + animalSize / 2 > zone.left &&\n            posX - animalSize / 2 < zone.right &&\n            posY + animalSize / 2 > zone.top &&\n            posY - animalSize / 2 < zone.bottom\n          );\n\n          if (!overlapsText) {\n            grid.push({ x: posX, y: posY });\n          }\n        }\n      }\n\n      // Shuffle grid positions\n      for (let i = grid.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [grid[i], grid[j]] = [grid[j], grid[i]];\n      }\n\n      const positioned = this.herd.map((animal, i) => {\n        const pos = grid[i];\n        return {\n          ...animal,\n          style: {\n            position: \"absolute\",\n            left: `${pos.x - animalSize / 4}px`,\n            top: `${pos.y - animalSize / 15}px`,\n          },\n        };\n      });\n\n      this.displayedHerd = positioned;\n    },\n\n    reduceHerd() {\n      const totalToRemove = Math.floor(this.herd.length * 0.38); // 38% of the original herd\n      let remainingToRemove = totalToRemove;\n\n      const interval = setInterval(() => {\n        if (remainingToRemove <= 0 || this.displayedHerd.length <= 0) {\n          clearInterval(interval);\n\n          // When reduction is done, move to the final stage\n          this.textStage = 'complete';\n          return;\n        }\n\n        // Remove one animal at a time\n        this.displayedHerd.splice(Math.floor(Math.random() * this.displayedHerd.length), 1);\n        remainingToRemove--;\n\n        // Update the percentage accordingly\n        const remainingPercent = Math.round((this.displayedHerd.length / this.herd.length) * 100);\n        this.finalPercentage = Math.max(remainingPercent, 62); // Dont go below 62%\n      }, 250);\n    },\n\n    startCountdown() {\n      const interval = setInterval(() => {\n        if (this.finalPercentage > 62) {\n          this.finalPercentage -= 1; // Decrease the percentage by 1 each interval\n        } else {\n          this.finalPercentage = 62; // Ensure it stays at 62% when reached\n          clearInterval(interval); // Stop the countdown when it reaches 62%\n        }\n      }, 50); // Update every 50ms (for a smoother animation)\n    },\n\n    drawBackgroundNoise() {\n      const canvas = this.$refs.noiseCanvas;\n      const ctx = canvas.getContext('2d');\n      const dpr = window.devicePixelRatio || 1;\n\n      const width = this.$refs.herdArea.offsetWidth;\n      const height = this.$refs.herdArea.offsetHeight;\n\n      canvas.width = width * dpr;\n      canvas.height = height * dpr;\n      canvas.style.width = `${width}px`;\n      canvas.style.height = `${height}px`;\n      ctx.scale(dpr, dpr);\n\n      //  or : Determine background and blade color based on stage\n      const stage = this.textStage;\n      console.log(\"Drawing background for stage:\", stage); // Debugging\n\n      const isReducing = stage === 'reducing';\n\n      //  Green for initial, dry brown for reducing\n      canvas.style.backgroundColor = isReducing ? '#d9f0d9' : '#f5f0e1';\n\n      const bladeCount = 10000;\n      for (let i = 0; i < bladeCount; i++) {\n        const x = Math.random() * width;\n        const y = Math.random() * height;\n\n        const length = 8 + Math.random() * 12;\n        const angle = (-Math.PI / 2) + (Math.random() - 0.5) * 0.6;\n        const xEnd = x + length * Math.cos(angle);\n        const yEnd = y + length * Math.sin(angle);\n\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        ctx.lineTo(xEnd, yEnd);\n\n        ctx.strokeStyle = isReducing\n          ? `rgba(70, 120, 70, ${0.02 + Math.random() * 0.4})` // green-ish\n          : `rgba(139, 69, 19, ${0.04 + Math.random() * 0.3})`; // brown-ish\n\n        ctx.lineWidth = 1;\n        ctx.stroke();\n      }\n    },\n\n    resetAndAnimate() {\n      // Reset all reactive states\n      this.hasReduced = false;\n      this.textStage = 'initial';\n      this.finalPercentage = 100;\n      this.displayedHerd = [];\n\n      this.generateHerd(); // Regenerate the herd and place animals\n      this.$nextTick(() => {\n        this.drawBackgroundNoise();\n\n        // Small delay to allow \"initial\" visuals before starting reduction\n        setTimeout(() => {\n          this.textStage = 'reducing';\n          this.reduceHerd();\n        }, 1000);\n      });\n    },\n    setupIntersectionObserver() {\n      this.observer = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n              this.resetAndAnimate();\n\n              if (!this.hasReduced) {\n                this.hasReduced = true;\n                this.textStage = 'reducing'; //  Set middle message when herd starts reducing\n              }\n            }\n          });\n        },\n        {\n          threshold: 0.1, // Trigger when 10% of the component is visible\n        }\n      );\n\n      this.observer.observe(this.$refs.herdArea);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.graphic-title {\n  position: absolute;\n  bottom: 0;\n  right: 2rem;\n  z-index: 2;\n  font-size: 5em;\n  color: #8a6e003f;\n  text-transform: uppercase;\n}\n\n.graphic-title h3 {\n  font-weight: 800;\n}\n\nh4 {\n  text-transform: uppercase;\n  font-size: 60px;\n  line-height: 1;\n  font-weight: 300;\n}\n\nh5 {\n  text-align: left;\n  font-size: 28px;\n  font-weight: 300;\n}\n\np {\n  font-size: 22px;\n  font-weight: 400;\n}\n\n.title-row {\n  display: flex;\n  gap: 0.5rem;\n  align-items: baseline; /* keeps the baseline of text aligned nicely */\n}\n.title-row h4,\n.title-row h5 {\n  margin: 0;\n}\n\n.sheep-cattle-herds {\n  position: relative;\n  width: calc(100vw - 13.5rem);\n  height: calc(100vh - 12rem);\n  overflow: hidden;\n}\n\n.background-canvas {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 0;\n  /* Background canvas stays at the bottom */\n  width: 100%;\n  height: 100%;\n}\n\n.herd-padding-wrapper {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  z-index: 2;\n  /* Place the padded area above the background */\n}\n\n.herd-text {\n  width: 30%;\n  margin: 0 auto;\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity 1s ease, visibility 1s ease;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-top: 15px;\n  padding-left: 20px;\n  z-index: 3;\n  text-align: left;\n}\n\n.herd-text.visible {\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg-container {\n  transition: opacity 1s ease;\n  position: absolute;\n  /* Adjust the position relative to the text */\n  /* Center horizontally */\n  /* Center horizontally */\n  opacity: 1;\n  /* Adjust opacity for visibility */\n  z-index: 2;\n  /* Ensure the SVG appears above the background, but below the herd images */\n  width: 100%;\n  /* Set width to desired value */\n  opacity: 0.75;\n}\n\n.herd-visual-area {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  z-index: 3;\n  /* Ensure the herd images are above the SVG */\n}\n\n.herd-image {\n  object-fit: contain;\n  position: absolute;\n  transition: transform 0.5s ease, opacity 0.5s ease;\n  width: 100px;\n}\n\n.countdown-container {\n  position: absolute;\n  top: 10%;\n  left: 50%;\n  transform: translateX(-50%);\n  font-size: 2rem;\n  color: darkgreen;\n  z-index: 2;\n  /* Ensures it is above everything */\n}\n\n.countdown-text {\n  opacity: 0.10;\n  transition: none;\n  text-align: center;\n  font-weight: 700;\n  font-size: 30ch;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.background-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0.5;\n  z-index: 1;\n  /* Above canvas, below everything else */\n  transition: background-color 1s linear;\n  pointer-events: none;\n}\n\n/* @media screen and (min-width: 1901px) {\n  .herd-image {\n    width: 100px;\n    height: 100px;\n  }\n\n}\n\n@media screen and (max-width: 1900px) and (min-width: 1001px) {\n  .herd-image {\n    width: 70px;\n    height: 70px;\n  }\n\n  .countdown-text {\n    font-size: 20ch;\n  }\n}\n\n@media screen and (max-width: 1000px) {\n  .herd-image {\n    width: 50px;\n    height: 50px;\n  }\n\n  .countdown-text {\n    font-size: 10ch;\n  }\n} */\n</style>\n","import { render } from \"./SheepCattleHerds.vue?vue&type=template&id=15dc4615&scoped=true\"\nimport script from \"./SheepCattleHerds.vue?vue&type=script&lang=js\"\nexport * from \"./SheepCattleHerds.vue?vue&type=script&lang=js\"\n\nimport \"./SheepCattleHerds.vue?vue&type=style&index=0&id=15dc4615&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-15dc4615\"]])\n\nexport default __exports__","<template>\n  <div ref=\"container\" class=\"land-ploughed-wheat\" :style=\"backgroundStyle\">\n    <!-- Base Message Block -->\n    <div class=\"phase-pair phase-pair-base visible\" :class=\"{ 'fade-in': firstPhaseStarted }\">\n      <div class=\"phase-content\">\n        <div class=\"text-block column-block\">\n          <h4 class=\"base-title\">The Feast Before the Flame</h4>\n          <h5 class=\"subtitle subtitle-base\">Average wheat tonnage and hectares of land from 20142019</h5>\n          <h6 class=\"subtitle subtitle-base\">When rains were kind and wheat flowed freely.</h6>\n          <div class=\"phase-message phase-message-base\"></div>\n        </div>\n        <div class=\"text-block row-block\">\n          <h4 class=\"wheat-number\">{{ shownWheatBase }}</h4>\n          <p>ten thousand <br>tons of wheat</p>\n          <h4 class=\"land-number\">299</h4>\n          <p>ten thousand <br>hectares</p>\n        </div>\n      </div>\n      <div class=\"wheat-field\">\n        <div class=\"wheat-grid wheat-grid-base\">\n          <img v-for=\"index in wheatBaseArray.slice(0, shownWheatBase)\" :key=\"'base-' + index\"\n            :src=\"require(`@/assets/wheat/wheat-base.svg`)\" alt=\"Wheat\"\n            :style=\"{ width: imageSize + 'px', height: 'auto' }\" />\n        </div>\n        <div class=\"graphic-title\">\n          <h3>Wheat Drop</h3>\n        </div>\n      </div>\n    </div>\n\n    <!-- Phase 1 Message Block -->\n    <div class=\"phase-pair phase-pair-88\" :class=\"{ 'fade-in': firstPhaseStarted }\">\n      <div class=\"phase-content\">\n        <div class=\"text-block column-block\">\n          <h4 class=\"title title-88\">Scorched Rhythm</h4>\n          <h5 class=\"subtitle subtitle-88\">2019 through 2024 average wheat tonnage and hectares of land</h5>\n          <h6 class=\"subtitle subtitle-88\">Drought tested our resolve, but the harvest held.</h6>\n          <div class=\"phase-message phase-message-88\"></div>\n        </div>\n        <div class=\"text-block row-block\">\n          <h4 class=\"wheat-number\">{{ shownWheat69 }}</h4>\n          <p>ten thousand <br>tons of wheat</p>\n          <h4 class=\"land-number\">{{ landValue88 }}</h4>\n          <p>ten thousand <br>hectares</p>\n        </div>\n      </div>\n      <div class=\"wheat-field\">\n        <div class=\"wheat-grid wheat-grid-69\">\n          <img v-for=\"index in wheat69Array.slice(0, shownWheat69)\" :key=\"'69-' + index\"\n            :src=\"require(`@/assets/wheat/wheat-69.svg`)\" alt=\"Wheat-69\"\n            :style=\"{ width: imageSize + 'px', height: 'auto' }\" />\n        </div>\n      </div>\n      <div class=\"graphic-title\">\n        <h3>Wheat Drop</h3>\n      </div>\n    </div>\n\n    <!-- Phase 2 Message Block -->\n    <div class=\"phase-pair phase-pair-74\" :class=\"{ 'fade-in': secondPhaseStarted }\">\n      <div class=\"phase-content\">\n        <div class=\"text-block column-block\">\n          <h4 class=\"title title-74\">Echoes of a Vanished Spring</h4>\n          <h5 class=\"subtitle subtitle-74\">The wheat yield and land usage for 2025</h5>\n          <h6 class=\"subtitle subtitle-74\">A sudden drop  the fields rest, the future waits.</h6>\n          <div class=\"phase-message phase-message-74\"></div>\n        </div>\n        <div class=\"text-block row-block\">\n          <h4 class=\"wheat-number\">{{ shownWheat41 }}</h4>\n          <p>ten thousand <br>tons of wheat</p>\n          <h4 class=\"land-number\">{{ landValue74 }}</h4>\n          <p>ten thousand <br>hectares</p>\n        </div>\n      </div>\n      <div class=\"wheat-field\">\n        <div class=\"wheat-grid wheat-grid-41\">\n          <img v-for=\"index in wheat41Array.slice(0, shownWheat41)\" :key=\"'41-' + index\"\n            :src=\"require(`@/assets/wheat/wheat-41.svg`)\" alt=\"Wheat-41\"\n            :style=\"{ width: imageSize + 'px', height: 'auto' }\" />\n        </div>\n      </div>\n      <div class=\"graphic-title graphic-title-41\">\n        <h3>Wheat<br>Drop</h3>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nexport default {\n  data() {\n    return {\n      firstPhaseStarted: false,\n      secondPhaseStarted: false,\n      imageSize: 70,\n      wheatBaseCount: 607,\n      wheat69Count: 420,\n      wheat41Count: 246,\n      shownWheatBase: 0,  // << ADD THIS\n      shownWheat69: 0,\n      shownWheat41: 0,\n      landValue88: 299, // Will count down to 262\n      landValue74: 262,  // Will count down to 220\n      backgroundStyle: {\n        backgroundColor: '#d9f0d9',\n        transition: 'background-color 1s ease'\n      }\n    };\n  },\n\n  computed: {\n    wheatBaseArray() {\n      return Array.from({ length: this.wheatBaseCount }, (_, i) => i + 1);\n    },\n    wheat69Array() {\n      return Array.from({ length: this.wheat69Count }, (_, i) => i + 1);\n    },\n    wheat41Array() {\n      return Array.from({ length: this.wheat41Count }, (_, i) => i + 1);\n    }\n  },\n\n\n  beforeUnmount() {\n    window.removeEventListener('resize', this.updateImageSize);\n  },\n\n  mounted() {\n    this.updateImageSize();\n    window.addEventListener('resize', this.updateImageSize);\n    this.logWheatCounts();\n    this.observeIntersection();\n  },\n\n  methods: {\n    updateImageSize() {\n      const containerWidth = window.innerWidth - 200;\n      const containerHeight = window.innerHeight - 200;\n      const totalWheats = this.wheatBaseCount;\n      const gridCols = Math.ceil(Math.sqrt(totalWheats));\n      const imageMaxWidth = containerWidth / gridCols;\n      const imageMaxHeight = containerHeight / gridCols;\n      this.imageSize = Math.floor(Math.min(imageMaxWidth, imageMaxHeight, 80));\n    },\n\n    observeIntersection() {\n      const observer = new IntersectionObserver(\n        (entries) => {\n          if (entries[0].isIntersecting) {\n            this.animateSections();\n          }\n          if (entries[0].isIntersecting) {\n            this.restartAnimations();\n          }\n        },\n        { threshold: 0.5 }\n      );\n      observer.observe(this.$refs.container);\n    },\n    animateSections() {\n      setTimeout(() => {\n        this.backgroundStyle.backgroundColor = '#f5f0e1';\n        setTimeout(() => {\n          console.time('Wheat Base Growth');\n          this.incrementShownWheatBase(() => {\n            console.timeEnd('Wheat Base Growth');\n\n            setTimeout(() => {\n              this.firstPhaseStarted = true;\n              this.countDownLand88(); //  Trigger countdown to 262\n\n              this.incrementShownWheat69(() => {\n                console.timeEnd('Wheat 69 Growth');\n\n                setTimeout(() => {\n                  this.secondPhaseStarted = true;\n                  this.countDownLand74(); //  Trigger countdown to 220\n\n                  this.incrementShownWheat41(() => {\n                    console.timeEnd('Wheat 41 Growth');\n                  });\n                }, 2000);\n              });\n            }, 2000);\n          });\n        }, 1000);\n      }, 1000);\n    },\n\n    restartAnimations() {\n      // Reset state\n      this.shownWheatBase = 0;\n      this.shownWheat69 = 0;\n      this.shownWheat41 = 0;\n      this.firstPhaseStarted = false;\n      this.secondPhaseStarted = false;\n\n      // Optional: reset background color immediately\n      this.backgroundStyle.backgroundColor = '#d9f0d9';\n\n      // Restart animation chain\n      this.animateSections();\n    },\n\n    // Increment functions\n\n    incrementShownWheatBase(callback) {\n      const interval = setInterval(() => {\n        if (this.shownWheatBase < this.wheatBaseCount) {\n          this.shownWheatBase++;\n        } else {\n          clearInterval(interval);\n          if (callback) callback();\n        }\n      }, 5);\n    },\n\n    incrementShownWheat69(callback) {\n      const interval = setInterval(() => {\n        if (this.shownWheat69 < this.wheat69Count) {\n          this.shownWheat69++;\n        } else {\n          clearInterval(interval);\n          if (callback) callback();\n        }\n      }, 5);\n    },\n\n    incrementShownWheat41(callback) {\n      const interval = setInterval(() => {\n        if (this.shownWheat41 < this.wheat41Count) {\n          this.shownWheat41++;\n        } else {\n          clearInterval(interval);\n          if (callback) callback();\n        }\n      }, 5);\n    },\n\n    countDownLand88() {\n      const target = 262;\n      const interval = setInterval(() => {\n        if (this.landValue88 > target) {\n          this.landValue88--;\n        } else {\n          clearInterval(interval);\n        }\n      }, 20);\n    },\n\n    countDownLand74() {\n      const target = 220;\n      const interval = setInterval(() => {\n        if (this.landValue74 > target) {\n          this.landValue74--;\n        } else {\n          clearInterval(interval);\n        }\n      }, 20);\n    },\n\n\n    logWheatCounts() {\n      console.log(`Base Wheat Count: ${this.wheatBaseCount} wheat-base.svg images in phase-pair-base`);\n      console.log(`Wheat-69 Count: ${this.wheat69Count} wheat-69.svg images in phase-pair-88`);\n      console.log(`Wheat-41 Count: ${this.wheat41Count} wheat-41.svg images in phase-pair-74`);\n    }\n  }\n};\n</script>\n\n\n<style scoped>\n.graphic-title {\n  position: absolute;\n  bottom: 1rem;\n  right: 6rem;\n  font-size: 5em;\n  color: #B28F042f;\n  text-transform: uppercase;\n  line-height: 0.9;\n  transform: rotate(90deg);\n  transform-origin: bottom right;\n  z-index: 20;\n  pointer-events: none;\n  text-align: right;\n}\n\nh4 {\n  text-align: left;\n  text-transform: uppercase;\n  font-size: 60px;\n  margin: 0;\n  font-weight: 300;\n  line-height: 1;\n}\n\nh5 {\n  text-align: left;\n  font-size: 28px;\n  font-weight: 300;\n  margin: 0;\n  line-height: 1.25;\n}\n\nh6 {\n  padding-top: 0.25rem;\n  text-align: left;\n  font-weight: 300;\n  font-size: 24px;\n  margin: 0;\n}\n\n.graphic-title h3 {\n  font-weight: 800;\n}\n\n.phase-pair-74 .graphic-title-41 {\n  position: absolute;\n  bottom: 1rem;\n  right: 11rem;\n  color: #f5f0e14f;\n}\n\n.graphic-title-41 {\n  margin-right: 5px;\n}\n\n.land-ploughed-wheat {\n  position: relative;\n  width: calc(100vw - 14rem);\n  height: calc(100vh - 12rem);\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  padding: 0.5rem;\n  box-sizing: border-box;\n}\n\n.phase-pair.visible {\n  opacity: 1;\n  transform: translateY(0);\n}\n\n/* Add fade-in animation */\n.fade-in {\n  opacity: 1 !important;\n  transform: translateY(0) !important;\n}\n\n.phase-pair {\n  text-align: left;\n  position: absolute;\n  left: 0;\n  width: 100%;\n  opacity: 0;\n  transform: translateY(-50px);\n  transition: opacity 1s ease-out, transform 1s ease-out, z-index 0.3s ease;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  box-sizing: border-box;\n  height: 100%;\n}\n\n.text-block {\n  padding: 5px 10px;\n}\n\n.phase-content {\n  display: flex;\n  flex-direction: row;\n  padding-top: 5px;\n}\n\n/* first text-block: flex column */\n.column-block {\n  margin-left: 5px;\n  width: 60%;\n  display: flex;\n  flex-direction: column;\n}\n\n/* second text-block: flex row */\n.row-block {\n  width: 40%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: flex-end;\n  text-align: right;\n  font-size: 22px;\n  font-weight: 400;\n  margin-right: 5px;\n}\n\n.row-block p {\n  padding-left: 10px;\n}\n\n.phase-pair-base .row-block p,\n.phase-pair-base .row-block h4 {\n  color: #A67A05;\n  /* color: #FF8000; */\n}\n\n.phase-pair-88 .row-block p,\n.phase-pair-88 .row-block h4 {\n  color: #D09910;\n  /* color: #FF8000; */\n}\n\n.phase-pair-74 .row-block p,\n.phase-pair-74 .row-block h4 {\n  color: white;\n  /* color: #820747; */\n}\n\n.wheat-number,\n.land-number {\n  line-height: 1em;\n  margin: 0;\n  margin-left: 10px;\n}\n\n.phase-pair-base:hover {\n  z-index: 10;\n  background-color: #f5f0e1;\n}\n\n.phase-pair:hover {\n  z-index: 10;\n}\n\n.phase-pair-base {\n  top: 0;\n  height: 100%;\n}\n\n.phase-pair-88 {\n  top: 12%;\n  background-color: #e2d3b4;\n  height: 88%;\n}\n\n.phase-pair-74 {\n  top: 26%;\n  background-color: #d4bb97;\n  height: 74%;\n}\n\n.wheat-field {\n  padding-left: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n  padding-bottom: 1rem;\n  position: relative;\n}\n\n.wheat-grid {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap-reverse;\n  align-items: flex-end;\n  align-content: flex-end;\n  height: 100%;\n  justify-content: space-evenly;\n  max-width: 100%;\n}\n\n.wheat-grid img {\n  position: relative;\n  z-index: 1;\n  padding-top: 5px;\n}\n\nimg.hidden {\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.wheat-grid-base,\n.wheat-grid-69 {\n  padding-right: 6rem;\n}\n\n.wheat-grid-41 {\n  padding-right: 11.5rem;\n}\n</style>\n","import { render } from \"./LandPloughedWheat.vue?vue&type=template&id=0647c729&scoped=true\"\nimport script from \"./LandPloughedWheat.vue?vue&type=script&lang=js\"\nexport * from \"./LandPloughedWheat.vue?vue&type=script&lang=js\"\n\nimport \"./LandPloughedWheat.vue?vue&type=style&index=0&id=0647c729&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0647c729\"]])\n\nexport default __exports__","<template>\n  <div class=\"container\" ref=\"componentRoot\">\n    <h3 class=\"main-title\" v-if=\"isVisible\">Zooming Into Risk</h3>\n    <div class=\"content\">\n\n      <!-- Leaflet Map -->\n      <div class=\"map-container\">\n        <l-map ref=\"map\" v-model:zoom=\"zoom\" :center=\"[20, 0]\" :zoom-control=\"false\">\n          <l-geo-json :geojson=\"geoJsonData\" :options-style=\"geoJsonStyle\" :options=\"geoJsonOptions\">\n            <template #popup=\"{ feature }\">\n              <l-popup>\n                <strong>{{ feature.properties.name }}</strong><br>\n                Risk Level: {{ feature.properties[riskColumn.value] || \"N/A\" }}\n              </l-popup>\n            </template>\n          </l-geo-json>\n        </l-map>\n      </div>\n\n      <!-- Radio Filters -->\n      <div class=\"filter-controls\" v-if=\"isVisible\">\n        <div class=\"radio-group\">\n          <label>\n            <input type=\"radio\" v-model=\"riskColumn\" value=\"inform_risk\" />\n            INFORM Risk Index\n          </label>\n          <div class=\"descriptor\">A score that measures how likely a country is to face crises and how much help it\n            might\n            need, based on three factors: Hazards & Exposure, Vulnerability, and Lack of Coping Capacity.</div>\n        </div>\n\n        <div class=\"radio-group\">\n          <label>\n            <input type=\"radio\" v-model=\"riskColumn\" value=\"hazard_and_exposure\" />\n            Hazard & Exposure\n          </label>\n          <div class=\"descriptor\">How much danger a country faces from storms, floods, earthquakes, and other events.\n          </div>\n        </div>\n\n        <div class=\"radio-group\">\n          <label>\n            <input type=\"radio\" v-model=\"riskColumn\" value=\"vulnerability\" />\n            Vulnerability\n          </label>\n          <div class=\"descriptor\">How badly people and places could be hurt when disasters happen.</div>\n        </div>\n\n        <div class=\"radio-group\">\n          <label>\n            <input type=\"radio\" v-model=\"riskColumn\" value=\"lack_of_coping_capacity\" />\n            Lack of Coping Capacity\n          </label>\n          <div class=\"descriptor\">How ready a country is to handle emergencies and help its people.</div>\n        </div>\n      </div>\n\n      <div class=\"legend-container\">\n        <div class=\"legend-label\">0</div>\n        <div class=\"legend-colors\">\n          <div v-for=\"(color, index) in legendColors.slice(0, 5)\" :key=\"index\" class=\"legend-color\"\n            :style=\"{ backgroundColor: color }\"></div>\n        </div>\n        <div class=\"legend-label\">10</div>\n\n        <div class=\"legend-color no-data\" :style=\"{ backgroundColor: legendColors[5] }\"></div>\n        <div class=\"legend-label\">No Data</div>\n      </div>\n\n      <!-- INFORM Risk Index Chart -->\n      <div class=\"chart-container\" v-if=\"isVisible\" v-show=\"selectedCountries.length > 0\">\n        <button class=\"reset-button\" @click=\"deselectAllCountries\">X</button>\n        <div class=\"column-info\"></div>\n        <div id=\"INFORM-chart\" class=\"multi-chart-container\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { onMounted, ref, watch, onBeforeUnmount } from \"vue\";\nimport * as d3 from \"d3\";\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LGeoJson, LPopup } from \"@vue-leaflet/vue-leaflet\";\n\nconst zoom = ref(3);\nconst geoJsonData = ref(null);\nconst chartData = ref([]);\nconst sortMethod = ref(\"alphabetical\");\nconst riskColumn = ref(\"inform_risk\");\nconst windowWidth = ref(window.innerWidth);\nconst selectedCountries = ref([]);\nconst ultimateBarHeight = 40;\n\n/* const legendLabels = [\n  \"02\",\n  \"24\",\n  \"46\",\n  \"68\",\n  \"810\",\n  \"No Data\"\n]; */\n\nconst legendColors = [\n  \"#7FFF00\",\n  \"#FFFF00\",\n  \"#FF8000\",\n  \"#FF0000\",\n  \"#820747\",\n  \"#D3D3D3\"\n];\n\nlet riskData = [];\n\nconst geoJsonOptions = {\n  onEachFeature: (feature, layer) => {\n    layer.on({\n      click: (e) => {\n        handleCountryClick(e, feature);\n        layer.bringToFront(); //  This brings the clicked layer to the front\n      }\n    });\n  }\n};\n\nconst handleCountryClick = (event, feature) => {\n  const countryName = feature.properties.SOVEREIGNT;\n  const alreadySelectedIndex = selectedCountries.value.findIndex(\n    (c) => c.properties.SOVEREIGNT === countryName\n  );\n\n  if (alreadySelectedIndex !== -1) {\n    // Deselect the country\n    selectedCountries.value.splice(alreadySelectedIndex, 1);\n  } else {\n    if (selectedCountries.value.length >= 10) {\n      alert(\"You can only select up to 10 countries.\");\n      return;\n    }\n    selectedCountries.value.push(feature);\n  }\n\n  geoJsonData.value = { ...geoJsonData.value }; // trigger reactivity\n\n  if (selectedCountries.value.length === 0) {\n    createChart(chartData.value);\n  } else if (selectedCountries.value.length === 1) {\n    createCountryCharts(selectedCountries.value.map(c => c.properties));\n  } else {\n    createMultiCountryCharts(selectedCountries.value.map(c => c.properties));\n  }\n\n  console.log(\"Selected countries:\", selectedCountries.value.map(f => f.properties.SOVEREIGNT));\n};\n\nconst createCountryCharts = (countries) => {\n  d3.select(\"#INFORM-chart\").selectAll(\"svg\").remove();\n  countries.forEach(country => {\n    createCountryChart(country);\n  });\n};\n\nconst handleResize = () => {\n  windowWidth.value = window.innerWidth;\n\n  if (selectedCountries.value.length === 1) {\n    createCountryCharts(selectedCountries.value.map(c => c.properties));\n  } else if (selectedCountries.value.length > 1) {\n    createMultiCountryCharts(selectedCountries.value.map(c => c.properties));\n  }\n};\n\nconst colorScale = d3.scaleThreshold()\n  .domain([0, 2, 4, 6, 8, 10])\n  .range([\"white\", \"#7FFF00\", \"#FFFF00\", \"#FF8000\", \"#FF0000\", \"#820747\", \"#D3D3D3\"]);\n\nconst geoJsonStyle = (feature) => {\n  const riskValue = feature.properties[riskColumn.value];\n  const isSelected = selectedCountries.value.some(\n    (c) => c.properties.SOVEREIGNT === feature.properties.SOVEREIGNT\n  );\n  return {\n    fillColor: riskValue !== null && riskValue !== undefined ? colorScale(riskValue) : \"#D3D3D3\",\n    weight: isSelected ? 5 : 2,\n    opacity: 1,\n    color: isSelected ? \"#089c9d\" : \"#089c9d\",\n    fillOpacity: 1\n  };\n};\n\nconst loadGeoJsonMap = async () => {\n  try {\n    const data = await d3.csv(\"./data/INFORM_Risk_2025_v069_index.csv\");\n    riskData = data.map(row => {\n      let normalizedRow = {};\n      for (const [key, value] of Object.entries(row)) {\n        const normalizedKey = key.toLowerCase().replace(/\\s+/g, \"_\").replace(/&/g, \"and\");\n        normalizedRow[normalizedKey] = value;\n      }\n      normalizedRow.inform_risk = +normalizedRow.inform_risk;\n      normalizedRow.vulnerability = +normalizedRow.vulnerability;\n      normalizedRow.hazard_and_exposure = +normalizedRow.hazard_and_exposure;\n      normalizedRow.lack_of_coping_capacity = +normalizedRow.lack_of_coping_capacity;\n      return normalizedRow;\n    });\n    chartData.value = riskData;\n\n    const geoJsonResponse = await fetch(\"./data/country-boundaries.geojson\");\n    const geoJson = await geoJsonResponse.json();\n\n    geoJson.features.forEach(feature => {\n      let riskInfo = riskData.find(d => d.country === feature.properties.SOVEREIGNT) ||\n        riskData.find(d => d.iso3 === feature.properties.SOV_A3);\n      if (riskInfo) {\n        feature.properties.inform_risk = riskInfo.inform_risk;\n        feature.properties.vulnerability = riskInfo.vulnerability;\n        feature.properties.hazard_and_exposure = riskInfo.hazard_and_exposure;\n        feature.properties.lack_of_coping_capacity = riskInfo.lack_of_coping_capacity;\n      } else {\n        feature.properties.inform_risk = null;\n        feature.properties.vulnerability = null;\n        feature.properties.hazard_and_exposure = null;\n        feature.properties.lack_of_coping_capacity = null;\n      }\n    });\n    geoJsonData.value = geoJson;\n  } catch (error) {\n    console.error(\"Error loading data:\", error);\n  }\n};\n\nconst createChart = (data) => {\n  // Remove the previous chart\n  d3.select(\"#INFORM-chart\").select(\"svg\").remove();\n\n  const margin = { top: 40, right: 10, bottom: 10, left: 205 };\n  const width = 0.8 * (windowWidth.value / 2) - margin.left - margin.right;\n  const barHeight = ultimateBarHeight;\n  const svgHeight = data.length * barHeight + margin.top + margin.bottom;\n\n  // Sort the data based on the selected method\n  let sortedData = [...data];\n  if (sortMethod.value === \"ascending\") {\n    sortedData.sort((a, b) => a[riskColumn.value] - b[riskColumn.value]);\n  } else if (sortMethod.value === \"descending\") {\n    sortedData.sort((a, b) => b[riskColumn.value] - a[riskColumn.value]);\n  } else if (sortMethod.value === \"alphabetical\") {\n    sortedData.sort((a, b) => a.country.localeCompare(b.country));\n  }\n\n  const svg = d3.select(\"#INFORM-chart\")\n    .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", svgHeight)\n    .append(\"g\")\n    .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  const x = d3.scaleLinear()\n    .domain([0, 10]) // change domain to [0, 10] instead of [0, maxRisk]\n    .nice()\n    .range([0, width]);\n  const y = d3.scaleBand()\n    .domain(sortedData.map((d) => d.country))\n    .range([0, svgHeight - margin.top - margin.bottom])\n    .padding(0.1);\n\n  // Bind data to bars\n  const bars = svg.selectAll(\".bar\")\n    .data(sortedData, (d) => d.country); // Use key function for updates\n\n  // Enter phase (initial bars)\n  bars.enter()\n    .append(\"rect\")\n    .attr(\"class\", \"bar\")\n    .attr(\"x\", 0)\n    .attr(\"y\", (d) => y(d.country))\n    .attr(\"height\", y.bandwidth())\n    .attr(\"fill\", (d) => colorScale(d[riskColumn.value]))\n    .attr(\"width\", 0) // Start width at 0 for animation\n    .transition()\n    .duration(1000)\n    .ease(d3.easeCubicOut)\n    .attr(\"width\", (d) => x(d[riskColumn.value]));\n\n  // Append text for the data point on the right side of the bar\n  bars.enter()\n    .append(\"text\")\n    .attr(\"class\", \"bar-text\")\n    .attr(\"x\", (d) => x(d[riskColumn.value]) + 5) // Position text slightly to the right of the bar\n    .attr(\"y\", (d) => y(d.country) + y.bandwidth() / 2)\n    .attr(\"dy\", \".35em\") // Vertically center the text\n    .text((d) => d[riskColumn.value].toFixed(1)) // Display the risk value to one decimal place\n    .style(\"fill\", \"#2c3e50\");\n\n  // Update phase (bars that already exist)\n  bars.transition()\n    .duration(1000)\n    .ease(d3.easeCubicOut)\n    .attr(\"y\", (d) => y(d.country)) // Update position\n    .attr(\"width\", (d) => x(d[riskColumn.value])) // Animate width change\n    .attr(\"fill\", (d) => colorScale(d[riskColumn.value]));\n\n  // Update text for the data point\n  bars.select(\".bar-text\")\n    .transition()\n    .duration(1000)\n    .ease(d3.easeCubicOut)\n    .attr(\"x\", (d) => x(d[riskColumn.value]) + 5) // Adjust position with width change\n    .text((d) => d[riskColumn.value].toFixed(2));\n\n  // Remove phase (bars that no longer have data)\n  bars.exit()\n    .transition()\n    .duration(500)\n    .attr(\"width\", 0)\n    .remove();\n\n  // Remove text for data points when the bar is removed\n  bars.exit()\n    .select(\".bar-text\")\n    .transition()\n    .duration(500)\n    .attr(\"x\", 0)\n    .remove();\n\n  // Append x-axis\n  svg.append(\"g\").attr(\"class\", \"x-axis\").call(d3.axisTop(x)).selectAll(\"text\").style(\"font-size\", \"1rem\").style(\"fill\", \"#2c3e50\");\n  svg.append(\"g\").attr(\"class\", \"y-axis\").call(d3.axisLeft(y)).selectAll(\"text\").style(\"font-size\", \"1rem\").style(\"fill\", \"#2c3e50\");\n};\n\nconst createCountryChart = (country) => {\n  const chartContainer = d3.select(\"#INFORM-chart\")\n    .append(\"div\")\n    .attr(\"class\", \"country-chart\");\n\n  const margin = { top: 40, right: 10, bottom: 10, left: 205 };\n  const width = 0.8 * (windowWidth.value / 2) - margin.left - margin.right;\n  const barHeight = ultimateBarHeight;\n  const keys = [\n    { key: \"inform_risk\", label: \"INFORM Risk\" },\n    { key: \"vulnerability\", label: \"Vulnerability\" },\n    { key: \"hazard_and_exposure\", label: \"Hazard & Exposure\" },\n    { key: \"lack_of_coping_capacity\", label: \"Lack of\\nCoping Capacity\" }\n  ];\n\n  const data = keys.map(d => ({\n    label: d.label,\n    value: +country[d.key],\n    color: colorScale(country[d.key])\n  }));\n\n  const svgHeight = data.length * barHeight + margin.top + margin.bottom;\n\n  const x = d3.scaleLinear().domain([0, 10]).range([0, width]).nice();\n  const y = d3.scaleBand()\n    .domain(data.map(d => d.label))\n    .range([0, svgHeight - margin.top - margin.bottom])\n    .padding(0.1);\n\n  const svg = chartContainer.append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", svgHeight)\n    .append(\"g\")\n    .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n\n  svg.selectAll(\".bar\")\n    .data(data)\n    .enter()\n    .append(\"rect\")\n    .attr(\"class\", \"bar\")\n    .attr(\"y\", d => y(d.label))\n    .attr(\"x\", 0)\n    .attr(\"height\", y.bandwidth())\n    .attr(\"fill\", d => d.color)\n    .attr(\"width\", 0)\n    .transition()\n    .delay(500)\n    .duration(500)\n    .attr(\"width\", d => x(d.value));\n\n  svg.append(\"text\")\n    .attr(\"x\", (width + margin.left + margin.right) / 2 - margin.left)\n    .attr(\"y\", -10)\n    .attr(\"text-anchor\", \"middle\")\n    .text(country.SOVEREIGNT)\n    .attr(\"font-size\", \"16px\")\n    .attr(\"fill\", \"#2c3e50\")\n    .attr(\"font-weight\", \"bold\")\n\n  svg.selectAll(\".bar-text\")\n    .data(data)\n    .enter()\n    .append(\"text\")\n    .attr(\"class\", \"bar-text\")\n    .attr(\"x\", d => x(d.value) + 5)\n    .attr(\"y\", d => y(d.label) + y.bandwidth() / 2)\n    .attr(\"dy\", \".35em\")\n    .text(d => d.value.toFixed(1));\n\n  const xAxis = d3.axisTop(x);\n\n  const xAxisGroup = svg.append(\"g\")\n    .attr(\"class\", \"x-axis\")\n    .call(xAxis);\n\n  // Style all tick labels\n  xAxisGroup.selectAll(\"text\")\n    .style(\"font-size\", \"1rem\")\n    .style(\"fill\", \"#2c3e50\");\n\n  // Remove all ticks except 10\n  xAxisGroup.selectAll(\".tick\")\n    .each(function (d) {\n      if (d !== 10) {\n        d3.select(this).select(\"text\").remove();\n        d3.select(this).select(\"line\").remove();\n      }\n    });\n\n  svg.append(\"g\")\n    .attr(\"class\", \"y-axis\")\n    .call(d3.axisLeft(y))\n    .selectAll(\".tick text\")\n    .each(function () {\n      const self = d3.select(this);\n      const fullText = self.text();\n\n      // Only split into tspans if it's a multi-line label\n      if (fullText.includes(\"\\n\")) {\n        const lines = fullText.split(\"\\n\");\n        self.text(null); // Clear existing text\n\n        lines.forEach((line, i) => {\n          self.append(\"tspan\")\n            .text(line)\n            .attr(\"x\", -10)\n            .attr(\"dy\", i === 0 ? \"-0.25em\" : \"1.1em\"); // First line up, rest normal\n        });\n      }\n    })\n    .style(\"font-size\", \"1rem\")\n    .style(\"fill\", \"#2c3e50\");\n};\n\nconst insertLineBreakBeforeOf = (label) => {\n  return label.replace(/\\b(\\w+)\\s(?=of\\b)/gi, '$1\\n');\n};\n\nconst createMultiCountryCharts = (countries) => {\n  d3.select(\"#INFORM-chart\").selectAll(\"svg\").remove();\n\n  const keys = [\n    { key: \"inform_risk\", label: \"INFORM Risk\" },\n    { key: \"vulnerability\", label: \"Vulnerability\" },\n    { key: \"hazard_and_exposure\", label: \"Hazard & Exposure\" },\n    { key: \"lack_of_coping_capacity\", label: \"Lack of Coping Capacity\" }\n  ];\n\n  const margin = { top: 40, right: 10, bottom: 10, left: 205 };\n  const width = 0.8 * (windowWidth.value / 2) - margin.left - margin.right;\n  const barHeight = ultimateBarHeight;\n  const svgHeight = countries.length * barHeight + margin.top + margin.bottom;\n\n  keys.forEach(({ key, label }) => {\n    const data = countries.map((c) => ({\n      country: c.SOVEREIGNT,\n      formattedCountry: insertLineBreakBeforeOf(c.SOVEREIGNT),\n      value: +c[key],\n      color: colorScale(c[key])\n    }));\n\n    const x = d3.scaleLinear().domain([0, 10]).range([0, width]).nice();\n    const y = d3.scaleBand()\n      .domain(data.map(d => insertLineBreakBeforeOf(d.country)))\n      .range([0, svgHeight - margin.top - margin.bottom])\n      .padding(0.1);\n\n    const svg = d3.select(\"#INFORM-chart\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", svgHeight)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    // Title\n    svg.append(\"text\")\n      .attr(\"x\", (width + margin.left + margin.right) / 2 - margin.left)\n      .attr(\"y\", -10)\n      .attr(\"text-anchor\", \"middle\")\n      .text(label)\n      .attr(\"font-size\", \"16px\")\n      .attr(\"fill\", \"#2c3e50\")\n      .attr(\"font-weight\", \"bold\")\n\n    // Bars\n    svg.selectAll(\".bar\")\n      .data(data)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .attr(\"y\", d => y(d.formattedCountry))\n      .attr(\"height\", y.bandwidth())\n      .attr(\"x\", 0)\n      .attr(\"fill\", d => d.color)\n      .attr(\"width\", 0)\n      .transition()\n      .duration(800)\n      .attr(\"width\", d => x(d.value));\n\n    // Labels\n    svg.selectAll(\".bar-text\")\n      .data(data)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"bar-text\")\n      .attr(\"x\", d => x(d.value) + 5)\n      .attr(\"y\", d => y(d.formattedCountry) + y.bandwidth() / 2)\n      .attr(\"dy\", \".35em\")\n      .text(d => d.value.toFixed(1));\n\n    // Axes\n    const xAxis = d3.axisTop(x);\n\n    const xAxisGroup = svg.append(\"g\")\n      .attr(\"class\", \"x-axis\")\n      .call(xAxis);\n\n    // Style all tick labels\n    xAxisGroup.selectAll(\"text\")\n      .style(\"font-size\", \"1rem\")\n      .style(\"fill\", \"#2c3e50\");\n\n    // Remove all ticks except 10\n    xAxisGroup.selectAll(\".tick\")\n      .each(function (d) {\n        if (d !== 10) {\n          d3.select(this).select(\"text\").remove();\n          d3.select(this).select(\"line\").remove();\n        }\n      });\n\n    svg.append(\"g\")\n      .attr(\"class\", \"y-axis\")\n      .call(d3.axisLeft(y))\n      .selectAll(\".tick text\")\n      .each(function () {\n        const self = d3.select(this);\n        const fullText = self.text();\n\n        // Only split into tspans if it's a multi-line label\n        if (fullText.includes(\"\\n\")) {\n          const lines = fullText.split(\"\\n\");\n          self.text(null); // Clear existing text\n\n          lines.forEach((line, i) => {\n            self.append(\"tspan\")\n              .text(line)\n              .attr(\"x\", -10)\n              .attr(\"dy\", i === 0 ? \"-0.25em\" : \"1.1em\"); // First line up, rest normal\n          });\n        }\n      })\n      .style(\"font-size\", \"1rem\")\n      .style(\"fill\", \"#2c3e50\");\n  });\n};\n\n\nwatch(riskColumn, () => {\n  createChart(chartData.value);\n\n  if (geoJsonData.value) {\n    geoJsonData.value.features.forEach(feature => {\n      feature.properties.fillColor = feature.properties[riskColumn.value] !== null && feature.properties[riskColumn.value] !== undefined\n        ? colorScale(feature.properties[riskColumn.value])\n        : \"#D3D3D3\";\n    });\n\n    // Force Vue to recognize the change in geoJsonData\n    geoJsonData.value = { ...geoJsonData.value };\n  }\n});\n\nwatch(sortMethod, () => {\n  createChart(chartData.value); // Recreate the chart with the new sort method\n});\n\nwatch(chartData, (newData) => {\n  if (newData.length > 0) {\n    createChart(newData);\n  }\n});\n\nconst componentRoot = ref(null);\nconst isVisible = ref(false);\n\nlet observer;\n\nonMounted(() => {\n  window.addEventListener(\"resize\", handleResize);\n  observer = new IntersectionObserver(\n    ([entry]) => {\n      isVisible.value = entry.isIntersecting;\n\n      if (!entry.isIntersecting) {\n        // Deselect all countries and remove chart\n        selectedCountries.value = [];\n        d3.select(\"#INFORM-chart\").selectAll(\"*\").remove();\n      }\n\n    },\n    {\n      root: null, // viewport\n      threshold: 0.1,\n    },\n    (entries) => {\n      entries.forEach((entry) => {\n        if (!entry.isIntersecting) {\n          // The component has left the viewport, trigger deselect action\n          deselectAllCountries();\n        }\n      });\n    },\n    {\n      threshold: 0, // Trigger when the element is fully out of the viewport\n    }\n  );\n\n  if (componentRoot.value) {\n    observer.observe(componentRoot.value);\n  }\n\n  window.addEventListener(\"resize\", handleResize);\n  loadGeoJsonMap();\n});\n\nonBeforeUnmount(() => {\n  if (componentRoot.value) {\n    observer.unobserve(componentRoot.value);\n  }\n  window.removeEventListener(\"resize\", handleResize);\n\n});\n\nconst deselectAllCountries = () => {\n  // Clear selected countries\n  selectedCountries.value = [];\n\n  geoJsonData.value.features.forEach(feature => {\n    feature.properties.fillColor = \"#D3D3D3\"; // Reset to default color\n    feature.properties.weight = 1; // Reset border width to 1\n  });\n\n  geoJsonData.value = { ...geoJsonData.value }; // Trigger reactivity\n\n  // Optionally, reset the chart data if required\n  if (chartData.value.length > 0) {\n    createChart(chartData.value);\n  }\n};\n\n</script>\n\n<style scoped>\n/* Layout */\n.container {\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100%;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 4rem 5.75rem 5rem 5.75rem;\n}\n\n.content {\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  width: 100%;\n  overflow: hidden;\n}\n\n.map-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\nl-map {\n  width: 100%;\n  height: 100%;\n}\n\n.main-title {\n  position: absolute;\n  z-index: 1000;\n  padding-top: 2rem;\n  padding-left: 2rem;\n}\n\n@keyframes slideInFromRight {\n  from {\n    transform: translateX(100%);\n    opacity: 0;\n  }\n\n  to {\n    transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n.chart-container {\n  position: absolute;\n  top: 5.5rem;\n  right: 7.25rem;\n  width: calc(50% - 7.5rem);\n  max-height: calc(100% - 12rem);\n  z-index: 1000;\n  background: white;\n  border: 1px solid #ccc;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n  overflow: auto;\n\n  /* animation settings */\n  animation: slideInFromRight 0.5s ease-out forwards;\n}\n\n#INFORM-chart {\n  width: 100%;\n  overflow-y: auto;\n}\n\nh3 {\n  font-size: 5em;\n  font-weight: 800;\n  color: #089d9d4f;\n  text-transform: uppercase;\n  position: absolute;\n  bottom: 5rem;\n  right: 7.75rem;\n  margin: 0 0 10px 0;\n  z-index: 1000;\n}\n\n.map-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n\nh4 {\n  padding-top: 20px;\n}\n\n.country-info h4 {\n  color: #2c3e50;\n}\n\n.country-info p {\n  margin: 5px 0;\n}\n\n.leaflet-container {\n  background-color: #40E0D0;\n}\n\n.filter-controls {\n  position: absolute;\n  bottom: 9rem;\n  left: 7rem;\n  z-index: 1000;\n  padding: 10px;\n  text-align: left;\n  width: 30%;\n}\n\n.radio-group {\n  margin-bottom: .25rem;\n  position: relative;\n}\n\n.radio-group:hover .descriptor {\n  max-height: 500px;\n  /* adjust as needed */\n  opacity: 1;\n}\n\n/* treat like an h5 */\n.filter-controls label {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  font-size: 28px;\n  font-weight: 300;\n}\n\n.radio-group label:hover+.descriptor,\n.radio-group input:hover+.descriptor {\n  max-height: 500px;\n  /* large enough for your longest descriptor */\n  opacity: 1;\n}\n\n/* treat like a global p */\n.descriptor {\n  padding-left: 5px;\n  max-height: 0;\n  opacity: 0;\n  overflow: hidden;\n  transition: max-height 0.3s ease, opacity 0.3s ease;\n  margin-left: 1.75rem;\n  font-weight: 400;\n  margin-bottom: 0.5em;\n  font-size: 22px;\n  color: #2c3e50;\n}\n\ninput[type=\"radio\"] {\n  appearance: none;\n  -webkit-appearance: none;\n  background-color: #fff;\n  border: 2px solid #089d9d82;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  position: relative;\n}\n\ninput[type=\"radio\"]:checked {\n  border-color: #089c9d;\n}\n\ninput[type=\"radio\"]:checked::before {\n  content: \"\";\n  position: absolute;\n  top: 3px;\n  left: 3px;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  background: #089c9d;\n}\n\n.reset-button {\n  position: absolute;\n  font-weight: bold;\n  top: 10px;\n  left: 10px;\n  background-color: #40E0D0;\n  color: white;\n  border: none;\n  padding: 3px 6px;\n  font-size: 16px;\n  cursor: pointer;\n}\n\n.reset-button:hover {\n  background-color: #089d9d;\n}\n\n\n.legend-label {\n  font-size: 16px;\n  font-weight: 500;\n  color: #089c9d;\n}\n\n.legend-container {\n  position: absolute;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10px;\n  align-items: center;\n  left: 8rem;\n  bottom: 7rem;\n}\n\n.legend-colors {\n  display: flex;\n  flex-direction: row;\n  gap: 6px;\n  font-size: 16px;\n}\n\n.legend-color {\n  width: 20px;\n  height: 20px;\n  border: 2px solid #089c9d;\n}\n\n.legend-color.no-data {\n  margin-left: 20px;\n}\n</style>","import script from \"./INFORMRiskIndex.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./INFORMRiskIndex.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./INFORMRiskIndex.vue?vue&type=style&index=0&id=341f4c17&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-341f4c17\"]])\n\nexport default __exports__","<template>\n  <div class=\"coping-container\" ref=\"containerRef\">\n    <h3 class=\"title\">Climate Survival Kit</h3>\n\n    <div class=\"video-viewer\">\n      <video ref=\"copingVideo\" loop muted playsinline class=\"coping-video\">\n        <source src=\"@/assets/coping-mechanisms/Coping-Mechanisms-Animation_Final.mp4\" type=\"video/mp4\" />\n        Your browser does not support the video tag.\n      </video>\n\n      <p class=\"video-caption\">{{ videoText }}</p>\n\n      <button class=\"video-toggle\" @click=\"togglePlay\">\n        {{ isPlaying ? 'Pause' : 'Play' }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue'\n\nconst copingVideo = ref(null)\nconst containerRef = ref(null)\nconst isPlaying = ref(false)\nconst currentSecond = ref(0)\nconst playbackRate = 0.5 // Fixed playback speed\n\nlet observer\nlet delayTimeout\n\nconst DELAY_MS = 1500\n\nconst textBySecond = {\n  0: 'Morocco is full of oases, mountains, and rivers, with skies that rain down to water the pastures and fields.',\n  1: 'Fields and pastures that are green and lush, with sheep and cattle grazing, and wheat growing.',\n  2: 'With a little digging, we can find water underground.',\n  3: 'Another well can be dug...',\n  4: '...and even a dam can be built to store water.',\n  5: 'We can increase our crops and livestock.',\n  6: 'Our towns and cities can grow.',\n  7: 'This can affect our water table.',\n  8: 'Our oases can start to dry up, our skies get a little less rain, our mountains get a little less snow.',\n  10: 'We may add more wells...',\n  11: '...and even more dams.',\n  12: 'This can affect our water table.',\n  13: 'Global warming can make our skies rain less, which means less snow in our mountains, less water in our rivers, our oases get smaller, and our land is affected too.',\n  14: 'This can affect the size of our livestock and the amount of crops we can grow.',\n  15: 'But our towns and cities can continue to grow.',\n  16: 'But we need more wells and to dig deeper.',\n  17: 'More dams and to build bigger ones.',\n  18: 'Which can lower our water table.',\n  19: 'Our oases can dry up, our skies rain less, our mountains get less snow, our pastures are drier.',\n  20: 'Our herds and fields are smaller.',\n  21: 'But our cities and towns can continue to grow.',\n  22: 'So we dig deeper wells.',\n  23: 'Our dams are bigger but reduced to a trickle.',\n  24: 'The water table is even lower.',\n  25: 'Herds and fields are even smaller, mountains are bare, rivers are drying, skies are dry.',\n  26: 'Water conservation is a must, in the cities and near the coast we can desalinate seawater.',\n  27: 'If we\\'re not careful, our oases can dry up.',\n}\n\nconst videoText = computed(() => {\n  const seconds = Object.keys(textBySecond).map(Number).sort((a, b) => b - a)\n  for (const sec of seconds) {\n    if (currentSecond.value >= sec) {\n      return textBySecond[sec]\n    }\n  }\n  return ''\n})\n\nfunction togglePlay() {\n  const video = copingVideo.value\n  if (!video) return\n\n  clearTimeout(delayTimeout)\n\n  if (video.paused) {\n    video.play().then(() => {\n      video.playbackRate = playbackRate\n      isPlaying.value = true\n    }).catch(err => {\n      console.warn('Playback blocked:', err)\n    })\n  } else {\n    video.pause()\n    isPlaying.value = false\n  }\n}\n\nfunction handleTimeUpdate() {\n  if (copingVideo.value) {\n    currentSecond.value = Math.floor(copingVideo.value.currentTime)\n  }\n}\n\nonMounted(() => {\n  if (copingVideo.value) {\n    copingVideo.value.addEventListener('timeupdate', handleTimeUpdate)\n  }\n\n  observer = new IntersectionObserver(\n    ([entry]) => {\n      const video = copingVideo.value\n      if (!video) return\n\n      if (entry.isIntersecting) {\n        delayTimeout = setTimeout(() => {\n          video.play().then(() => {\n            video.playbackRate = playbackRate\n            isPlaying.value = true\n          }).catch(err => {\n            console.warn('Autoplay blocked on delay:', err)\n          })\n        }, DELAY_MS)\n      } else {\n        clearTimeout(delayTimeout)\n        video.pause()\n        isPlaying.value = false\n      }\n    },\n    { threshold: 0.25 }\n  )\n\n  if (containerRef.value) {\n    observer.observe(containerRef.value)\n  }\n})\n\nonUnmounted(() => {\n  if (observer && containerRef.value) {\n    observer.unobserve(containerRef.value)\n  }\n\n  if (copingVideo.value) {\n    copingVideo.value.removeEventListener('timeupdate', handleTimeUpdate)\n  }\n\n  clearTimeout(delayTimeout)\n})\n</script>\n\n<style scoped>\n.coping-container {\n  padding: 4rem 5rem 5rem 5rem;\n  position: relative;\n  height: calc(100vh - 11rem);\n  width: calc(100vw - 14rem);\n  overflow: hidden;\n}\n\n.title {\n  position: absolute;\n  font-weight: 800;\n  padding: 5px 10px;\n  top: 4rem;\n  left: 5.25rem;\n  font-size: 5em;\n  z-index: 999;\n  text-transform: uppercase;\n  color: #ffffff96;\n  line-height: 1;\n  text-align: left;\n  margin: 0;\n}\n\n.video-viewer {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.coping-video {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  display: block;\n}\n\n.video-toggle {\n  font-family: 'Parkinsans', sans-serif;\n  font-weight: 600;\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  background: #ffffffb6;\n  color: #2c3e50;\n  border: none;\n  padding: 0.6rem 1.2rem;\n  font-size: 1rem;\n  cursor: pointer;\n  z-index: 1000;\n  transition: background 0.3s;\n}\n\n.video-toggle:hover {\n  background: #2c3e50b6;\n  color: #ffffff;\n}\n\n.video-caption {\n  position: absolute;\n  line-height: 1.3;\n  max-width: 45%;\n  bottom: 1rem;\n  left: 1.5rem;\n  font-size: 28px;\n  color: #ffffff;\n  font-weight: 300;\n  z-index: 999;\n  transition: opacity 0.5s ease-in-out;\n}\n</style>\n","import script from \"./CopingMechanisms.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CopingMechanisms.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CopingMechanisms.vue?vue&type=style&index=0&id=864d1292&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-864d1292\"]])\n\nexport default __exports__","<template>\n  <div class=\"map-wrapper\" ref=\"mapWrapper\">\n    <div class=\"map-container\">\n      <h3 class=\"title\">Disaster Time Machine</h3>\n      <l-map ref=\"map\" v-model:zoom=\"zoom\" :center=\"[20, 0]\" :zoom=\"zoom\" :max-bounds=\"[[-60, -180], [85, 180]]\">\n        <l-geo-json v-if=\"geoJsonData\" :geojson=\"geoJsonData\" :key=\"year\" :options-style=\"getCountryStyle\" />\n      </l-map>\n    </div>\n    <div class=\"color-legend\" v-if=\"year\">\n      <div class=\"legend-label left\">Few</div>\n      <div class=\"legend-gradient\"></div>\n      <div class=\"legend-label right\">Many</div>\n    </div>\n    <div class=\"custom-slider\" v-if=\"years.length && isInView\">\n      <div class=\"slider-track\"></div>\n      <div class=\"slider-markers\">\n        <div v-for=\"(y, i) in years\" :key=\"y\" class=\"slider-marker\" :class=\"{ active: year === y }\"\n          @click=\"selectedIndex = i; stopYearLoop();\">\n\n          <div class=\"circle\"></div>\n          <div class=\"label\">{{ y }}</div>\n        </div>\n      </div>\n    </div>\n    <div class=\"event-summary-types\" v-if=\"year\">\n      <div class=\"summary\">\n        <h4>{{ year }}</h4>\n        <h5>{{ totalEventsForSelectedYear }} disasters</h5>\n      </div>\n\n      <div v-if=\"eventTypeBreakdownForSelectedYear.length\">\n        <ul>\n          <li v-for=\"([type, count], i) in eventTypeBreakdownForSelectedYear\" :key=\"i\">\n            {{ type }}: <strong>{{ count }}</strong>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\";\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LGeoJson } from \"@vue-leaflet/vue-leaflet\";\n\nexport default {\n  components: {\n    LMap,\n    LGeoJson,\n  },\n\n  data() {\n    return {\n      looping: true,\n      yearLoopInterval: null,\n      zoom: 3,\n      geoJsonData: null,\n      disasterCounts: [],\n      year: null,\n      years: [],\n      colorScale: () => \"transparent\", // default fallback\n      isInView: false,\n    };\n  },\n\n  computed: {\n    selectedIndex: {\n      get() {\n        return this.years.indexOf(this.year);\n      },\n      set(val) {\n        this.year = this.years[val];\n      },\n    },\n    totalEventsForSelectedYear() {\n      const year = this.year;\n      return this.disasterCounts\n        .filter((d) => d.year === year)\n        .reduce((sum, d) => sum + d.totalDisasters, 0);\n    },\n    eventTypeBreakdownForSelectedYear() {\n      const year = this.year;\n      const typeTotals = {};\n\n      this.disasterCounts\n        .filter((d) => d.year === year)\n        .forEach((d) => {\n          Object.entries(d).forEach(([key, value]) => {\n            if (\n              key !== \"year\" &&\n              key !== \"country\" &&\n              key !== \"iso\" &&\n              key !== \"totalDisasters\" &&\n              value > 0\n            ) {\n              typeTotals[key] = (typeTotals[key] || 0) + value;\n            }\n          });\n        });\n\n      // Sort alphabetically by disaster type\n      return Object.entries(typeTotals).sort((a, b) => a[0].localeCompare(b[0]));\n    },\n\n  },\n\n  watch: {\n    year(newYear) {\n      const values = this.disasterCounts\n        .filter((d) => d.year === newYear)\n        .map((d) => d.totalDisasters)\n        .filter((v) => v > 0); // ignore zeros for max\n\n      const max = d3.max(values) || 1;\n\n      const colorInterpolator = d3.interpolateRgb(\"#E9D1D5\", \"#821749\");\n\n      const scale = d3.scaleLinear()\n        .domain([1, max])\n        .interpolate(() => colorInterpolator);\n\n      this.colorScale = (value) => {\n        if (!value || value === 0) return \"transparent\";\n        return scale(value);\n      };\n    },\n  },\n\n  methods: {\n    getCountryStyle(feature) {\n      const countryName = feature.properties.SOVEREIGNT;\n      const dataForYear = this.disasterCounts.find(\n        (d) => d.year === this.year && d.country === countryName\n      );\n      const value = dataForYear ? dataForYear.totalDisasters : 0;\n\n      return {\n        fillColor: this.colorScale(value),\n        weight: 2,\n        opacity: 1,\n        color: \"#089c9d\",\n        fillOpacity: 1,\n      };\n    },\n    startYearLoop() {\n    if (this.yearLoopInterval || !this.years.length || !this.isInView) return;\n\n    this.yearLoopInterval = setInterval(() => {\n      let nextIndex = (this.selectedIndex + 1) % this.years.length;\n      this.selectedIndex = nextIndex;\n    }, 3000); // 3 seconds\n  },\n\n  stopYearLoop() {\n    clearInterval(this.yearLoopInterval);\n    this.yearLoopInterval = null;\n  },\n\n  //  New method to get total events by year\n  getTotalEventsByYear() {\n    const totals = {};\n\n    this.disasterCounts.forEach((d) => {\n      if (!totals[d.year]) {\n        totals[d.year] = 0;\n      }\n      totals[d.year] += d.totalDisasters;\n    });\n\n    return totals;\n  },\n},\n\n  mounted() {\n    // Load GeoJSON\n    fetch(\"./data/country-boundaries.geojson\")\n      .then((response) => response.json())\n      .then((data) => {\n        const filtered = {\n          ...data,\n          features: data.features.filter(\n            (f) => f.properties.SOVEREIGNT !== \"Antarctica\"\n          ),\n        };\n        this.geoJsonData = filtered;\n      })\n      .catch((error) => {\n        console.error(\"Error loading GeoJSON file:\", error);\n      });\n\n    // Load and process CSV\n    fetch(\"./data/EM-DAT-data-ALL.csv\")\n      .then((response) => response.text())\n      .then((data) => {\n        const parsedData = d3.csvParse(data);\n\n        const filtered = parsedData\n          .filter(\n            (d) =>\n              d[\"Disaster Subgroup\"] !== \"Geophysical\" &&\n              d[\"Disaster Subgroup\"] !== \"Biological\"\n          )\n          .map((d) => ({\n            year: d[\"DisNo.\"].substring(0, 4),\n            iso: d[\"ISO\"],\n            country: d[\"Country\"],\n            type: d[\"Disaster Type\"],\n          }));\n\n        const grouped = d3.rollup(\n          filtered,\n          (entries) => {\n            const typeCounts = d3.rollup(\n              entries,\n              (v) => v.length,\n              (d) => d.type\n            );\n            const totalDisasters = Array.from(typeCounts.values()).reduce(\n              (sum, count) => sum + count,\n              0\n            );\n            return {\n              iso: entries[0].iso,\n              totalDisasters,\n              typeBreakdown: Object.fromEntries(typeCounts),\n            };\n          },\n          (d) => d.year,\n          (d) => d.country\n        );\n\n        const flatData = [];\n        grouped.forEach((countries, year) => {\n          countries.forEach((value, country) => {\n            flatData.push({\n              year,\n              country,\n              iso: value.iso,\n              totalDisasters: value.totalDisasters,\n              ...value.typeBreakdown,\n            });\n          });\n        });\n\n        console.log(\"Flat Data:\", flatData);\n\n        this.disasterCounts = flatData;\n\n        const uniqueYears = Array.from(new Set(flatData.map((d) => d.year))).sort();\n        this.years = uniqueYears;\n        this.year = uniqueYears[0]; // triggers initial color scale\n\n        //  Call the new method and log result\n        const yearlyTotals = this.getTotalEventsByYear();\n        console.log(\"Total events by year:\", yearlyTotals);\n        this.startYearLoop();\n      })\n      .catch((error) => {\n        console.error(\"Error loading CSV file:\", error);\n      });\n\n      const observer = new IntersectionObserver(\n    ([entry]) => {\n      this.isInView = entry.isIntersecting;\n      \n      // Start the loop when the component comes into view\n      if (this.isInView) {\n        this.startYearLoop();\n      } else {\n        this.stopYearLoop();\n      }\n    },\n    {\n      threshold: 0.1,\n    }\n  );\n\n  if (this.$refs.mapWrapper) {\n    observer.observe(this.$refs.mapWrapper);\n  }\n  },\n  \n};\n</script>\n\n\n<style scoped>\nhtml,\nbody {\n  height: 100%;\n  margin: 0;\n}\n\n.leaflet-container {\n  background-color: #40E0D0;\n}\n\n.map-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: calc(100vh - 11rem);\n  width: calc(100vw - 14rem);\n}\n\n.map-wrapper {\n  position: relative;\n}\n\n.custom-slider {\n  position: absolute;\n  bottom: 2rem;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 95%;\n  z-index: 1000;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.slider-track {\n  position: relative;\n  width: 100%;\n  height: 2px;\n  background: #089c9d;\n  margin-bottom: -10px;\n}\n\n.slider-markers {\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n}\n\n.slider-marker {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  cursor: pointer;\n}\n\n.slider-marker .circle {\n  width: 14px;\n  height: 14px;\n  border-radius: 50%;\n  border: 2px solid #089c9d;\n  background: #40E0D0;\n  margin-bottom: 4px;\n  transition: background 0.3s, border 0.3s;\n}\n\n.slider-marker.active .circle {\n  background: white;\n  border-color: white;\n}\n\n.slider-marker .label {\n  font-size: 16px;\n  font-weight: 500;\n  color: #089c9d;\n  transition: color 0.3s;\n}\n\n.slider-marker.active .label {\n  font-weight: 800;\n  color: white;\n}\n\n.event-summary-types {\n  position: absolute;\n  top: 32.5rem;\n  left: 3rem;\n  color: #2c3e50;\n  text-align: left;\n  font-size: 22px;\n  font-weight: 400;\n  max-height: 500px;\n  overflow-y: auto;\n  width: 500px;\n  z-index: 1000;\n}\n\n.title {\n  position: absolute;\n  text-align: right;\n  z-index: 2;\n  bottom: 5.5rem;\n  right: 2.5rem;\n  font-size: 5em;\n  font-weight: 800;\n  color: #2c3e5054;\n  text-transform: uppercase;\n  line-height: 1;\n}\n\n.event-summary-types h4 {\n  font-size: 60px;\n  margin: 0;\n  font-weight: 300;\n  line-height: 1;\n  color: #2c3e50;\n}\n\nh5 {\n  padding-top: 1rem;\n  text-align: left;\n  font-size: 28px;\n  font-weight: 300;\n  margin: 0;\n  line-height: 1.25;\n  color: #2c3e50;\n}\n\n.event-summary-types ul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.event-summary-types li {\n  margin: 0.2rem 0;\n}\n\n.color-legend {\n  position: absolute;\n  bottom: 6.5rem;\n  left: 3rem;\n  width: 20%;\n  display: flex;\n  align-items: center;\n  z-index: 1000;\n  pointer-events: none;\n}\n\n.legend-gradient {\n  flex: 1;\n  height: 16px;\n  background: linear-gradient(to right, #E9D1D5, #821749);\n  border: 2px solid #089c9d;\n  border-radius: 10px;\n  margin: 0 0.5rem;\n}\n\n.legend-label {\n  font-size: 16px;\n  color: #089c9d;\n  white-space: nowrap;\n  font-weight: 500;\n}\n\n.legend-label.left {\n  text-align: right;\n}\n\n.legend-label.right {\n  text-align: left;\n}\n</style>\n","import { render } from \"./DoomedForever.vue?vue&type=template&id=24cae49e&scoped=true\"\nimport script from \"./DoomedForever.vue?vue&type=script&lang=js\"\nexport * from \"./DoomedForever.vue?vue&type=script&lang=js\"\n\nimport \"./DoomedForever.vue?vue&type=style&index=0&id=24cae49e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24cae49e\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=06065fd8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=06065fd8&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"24\":\"0ead91ae\",\"71\":\"288da8dc\",\"249\":\"2e656ac8\",\"791\":\"72813729\",\"886\":\"ad991733\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"lsq-thesis:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/Thesis/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklsq_thesis\"] = self[\"webpackChunklsq_thesis\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(4887); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_Fragment","_renderList","$options","visibleTitles","title","i","_normalizeClass","active","$data","activeStep","style","_normalizeStyle","color","getTabColor","borderLeftColor","onClick","$event","goToStep","_hoisted_3","steps","stepComponent","index","_createBlock","_resolveDynamicComponent","setActiveStep","_hoisted_4","showMethodology","_cache","href","target","rel","_hoisted_5","_createStaticVNode","_createCommentVNode","firesSvg","ref","sparkGroup","firesText","clipText","floodsSvg","floodsText","raindropGroup","raindropRect","droughtsSvg","noiseCanvas","noiseDataUrl","droughtsText","sparkTimer","firesObserver","floodsObserver","droughtColorTimer","droughtsHeight","zoom","geoJsonData","geoJsonLayer","center","highlightMorocco","moroccoFeature","value","geojson","features","find","f","properties","ADMIN","console","warn","layer","leafletObject","getLayers","l","feature","setStyle","fillColor","weight","fillOpacity","bounds","getBounds","offset","fitBounds","maxZoom","paddingTopLeft","getCenter","getZoom","onMounted","loadGeoJsonMap","setTimeout","async","geoJsonResponse","fetch","geoJson","json","log","error","geoJsonStyle","getWheatSrc","URL","getSheepSrc","animationTriggered","wheatStyles","computed","Array","from","length","_","n","animation","animationDelay","sheepStyle","setDroughtsSvgPosition","droughtsSvgNode","droughtsTextRect","getBoundingClientRect","position","left","top","width","height","setAttribute","setFiresSvgPosition","svgNode","x","y","d3","setFloodsSvgPosition","floodsNode","floodsRectBox","drawBackgroundNoise","canvas","ctx","getContext","fillStyle","fillRect","bladeCount","Math","random","angle","PI","xEnd","cos","yEnd","sin","beginPath","moveTo","lineTo","strokeStyle","lineWidth","stroke","toDataURL","setupIntersectionObservers","droughtsObserver","IntersectionObserver","entry","display","isIntersecting","threshold","Element","observe","createSparks","stop","isRaining","renderRaindrops","selectAll","interrupt","remove","group","spawnSpark","x1","y1","x2","y2","spark","append","attr","transition","duration","svgEl","numDrops","svg","querySelector","dropWidth","dropHeight","startY","endY","delay","dropPath","bezierCurveTo","toString","ease","on","repeat","newX","this","nextTick","droughtColors","domain","range","elapsed","t","onUnmounted","disconnect","__exports__","precipWrapperRef","chartRefs","legendRefs","historicalData","projectedData","projectedColumns","filteredPrecipitationColumns","filter","col","toLowerCase","includes","observer","entries","forEach","classList","add","triggerPrecipitationAnimation","getUnitPerEllipse","innerWidth","innerHeight","window","unitPerEllipse","column","historical","d","year","round","parseFloat","source","isNaN","projected","combinedRaw","combinedData","getYearlySums","renderPrecipitationCircles","renderLegend","dropSize","colorMap","regression","legendItems","type","centerX","centerY","text","linearRegression","xMean","yMean","slope","intercept","predict","container","parentNode","margin","right","bottom","g","years","Set","sort","a","b","xScale","padding","maxValue","yScale","line","bandwidth","regressionData","defs","gradient","regressionPath","datum","totalLength","node","getTotalLength","totalCircles","floor","barCenter","ellipseRx","min","dropYmm","dropY","randomYOffset","randomDelay","xTickYears","arr","data","enter","ticks","toFixed","hoverBar","event","hoverColor","yearlySums","values","sum","watch","histCol","hist","proj","err","heatmapRefs","hoveredBlock","wrapperRef","selectedColumnGroup","selectedProjectedColumn","hasAnimated","legendInFahrenheit","showTitle","showOverlay","legendColors","celsiusBreaks","fahrenheitBreaks","c","labels","colors","label","grayscaleLegendColors","grayscaleColors","filteredProjectedColumnOptions","reverse","getScenarioInfo","columnName","subtitle","soundBite","message","renderUnifiedHeatmap","isLastHeatmap","months","month","colorScale","xAxisTicks","toGrayscale","rgb","grayscale","r","filtered","immediate","sparkTimers","startSparks","each","timer","push","stopSparks","showBlocks","defaultGroup","defaultOptions","fill","at","wrapper","messages","querySelectorAll","resizeTimeout","toggleInterval","setInterval","onBeforeUnmount","clearInterval","handleResize","clearTimeout","addEventListener","removeEventListener","newVal","msg","unobserve","textStage","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","displayedHerd","animal","src","require","_hoisted_10","backgroundColor","backgroundTransitionColor","_hoisted_11","_hoisted_12","_toDisplayString","finalPercentage","herd","animalTypes","hasReduced","mounted","generateHerd","setupIntersectionObserver","$nextTick","beforeUnmount","pct","methods","idCounter","animalCounts","j","placeAnimals","visualArea","$refs","herdVisual","textBox","herdText","areaRect","textRect","titleBox","graphicTitle","titleRect","maxWidth","maxHeight","animalSize","cellSize","textLeft","textTop","titleLeft","titleTop","exclusionZones","cols","rows","grid","posX","posY","overlapsText","some","zone","positioned","pos","reduceHerd","totalToRemove","remainingToRemove","interval","splice","remainingPercent","max","startCountdown","dpr","devicePixelRatio","herdArea","offsetWidth","offsetHeight","scale","stage","isReducing","resetAndAnimate","backgroundStyle","firstPhaseStarted","shownWheatBase","_createTextVNode","wheatBaseArray","slice","alt","imageSize","shownWheat69","landValue88","wheat69Array","_hoisted_13","secondPhaseStarted","_hoisted_14","_hoisted_15","_hoisted_16","shownWheat41","_hoisted_17","landValue74","_hoisted_18","_hoisted_19","wheat41Array","_hoisted_20","wheatBaseCount","wheat69Count","wheat41Count","updateImageSize","logWheatCounts","observeIntersection","containerWidth","containerHeight","totalWheats","gridCols","ceil","sqrt","imageMaxWidth","imageMaxHeight","animateSections","restartAnimations","time","incrementShownWheatBase","timeEnd","countDownLand88","incrementShownWheat69","countDownLand74","incrementShownWheat41","callback","ultimateBarHeight","chartData","sortMethod","riskColumn","windowWidth","selectedCountries","riskData","geoJsonOptions","onEachFeature","click","handleCountryClick","bringToFront","countryName","SOVEREIGNT","alreadySelectedIndex","findIndex","alert","createChart","createCountryCharts","createMultiCountryCharts","countries","country","createCountryChart","riskValue","isSelected","undefined","opacity","row","normalizedRow","normalizedKey","replace","inform_risk","vulnerability","hazard_and_exposure","lack_of_coping_capacity","riskInfo","iso3","SOV_A3","select","barHeight","svgHeight","sortedData","localeCompare","nice","bars","exit","call","chartContainer","xAxis","xAxisGroup","self","fullText","lines","split","insertLineBreakBeforeOf","formattedCountry","newData","componentRoot","isVisible","root","deselectAllCountries","playbackRate","DELAY_MS","copingVideo","containerRef","isPlaying","currentSecond","delayTimeout","textBySecond","videoText","seconds","Number","sec","togglePlay","video","paused","play","then","catch","pause","handleTimeUpdate","currentTime","_createVNode","_component_l_map","default","_withCtx","_component_l_geo_json","getCountryStyle","isInView","selectedIndex","stopYearLoop","totalEventsForSelectedYear","eventTypeBreakdownForSelectedYear","count","components","LMap","LGeoJson","looping","yearLoopInterval","disasterCounts","get","indexOf","set","val","reduce","totalDisasters","typeTotals","newYear","v","colorInterpolator","interpolate","dataForYear","startYearLoop","nextIndex","getTotalEventsByYear","totals","response","parsedData","substring","iso","grouped","typeCounts","typeBreakdown","fromEntries","flatData","uniqueYears","yearlyTotals","mapWrapper","name","HelloMorocco","RainfallPrecipitation","MeanTemperature","SheepCattleHerds","LandPloughedWheat","CopingMechanisms","INFORMRiskIndex","DoomedForever","visibleSteps","stepTitles","handleKeyPress","component","formatStepName","step","trim","preventDefault","stepEls","document","el","scrollIntoView","behavior","block","directives","intersect","binding","rootMargin","render","createApp","App","mount","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","every","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","mode","ns","create","def","current","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","Promise","all","promises","u","miniCssF","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","url","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","onScriptComplete","prev","onerror","onload","doneFns","removeChild","bind","head","appendChild","Symbol","toStringTag","p","baseURI","location","installedChunks","installedChunkData","promise","reject","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}