{"version":3,"file":"js/app.1620e86a.js","mappings":"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","sources":["webpack://lsq-thesis/./src/App.vue","webpack://lsq-thesis/./src/components/HelloMorocco.vue","webpack://lsq-thesis/./src/components/HelloMorocco.vue?30b9","webpack://lsq-thesis/./src/components/MoroccoMapView.vue","webpack://lsq-thesis/./src/components/MoroccoMapView.vue?e2df","webpack://lsq-thesis/./src/components/RainfallPrecipitation.vue","webpack://lsq-thesis/./src/components/RainfallPrecipitation.vue?0aa0","webpack://lsq-thesis/./src/components/MeanTemperature.vue","webpack://lsq-thesis/./src/components/MeanTemperature.vue?2d91","webpack://lsq-thesis/./src/components/SheepCattleHerds.vue","webpack://lsq-thesis/./src/components/SheepCattleHerds.vue?c44f","webpack://lsq-thesis/./src/components/LandPloughedWheat.vue","webpack://lsq-thesis/./src/components/LandPloughedWheat.vue?4d77","webpack://lsq-thesis/./src/components/WorldMapViewTimeline.vue","webpack://lsq-thesis/./src/components/WorldMapViewTimeline.vue?0946","webpack://lsq-thesis/./src/components/INFORMRiskIndex.vue","webpack://lsq-thesis/./src/components/INFORMRiskIndex.vue?9261","webpack://lsq-thesis/./src/components/CopingMechanisms.vue","webpack://lsq-thesis/./src/components/CopingMechanisms.vue?b260","webpack://lsq-thesis/./src/App.vue?7ccd","webpack://lsq-thesis/./src/main.js","webpack://lsq-thesis/webpack/bootstrap","webpack://lsq-thesis/webpack/runtime/chunk loaded","webpack://lsq-thesis/webpack/runtime/compat get default export","webpack://lsq-thesis/webpack/runtime/create fake namespace object","webpack://lsq-thesis/webpack/runtime/define property getters","webpack://lsq-thesis/webpack/runtime/ensure chunk","webpack://lsq-thesis/webpack/runtime/get javascript chunk filename","webpack://lsq-thesis/webpack/runtime/get mini-css chunk filename","webpack://lsq-thesis/webpack/runtime/global","webpack://lsq-thesis/webpack/runtime/hasOwnProperty shorthand","webpack://lsq-thesis/webpack/runtime/load script","webpack://lsq-thesis/webpack/runtime/make namespace object","webpack://lsq-thesis/webpack/runtime/publicPath","webpack://lsq-thesis/webpack/runtime/jsonp chunk loading","webpack://lsq-thesis/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"scrollyteller\">\n    <HelloMorocco msg=\"Droughts! Floods! Fires!\" />\n\n    <div\n      v-for=\"(stepComponent, index) in steps\"\n      :key=\"index\"\n      class=\"charts-wrapper\"\n      v-intersect=\"() => setActiveStep(index)\"\n    >\n      <component :is=\"stepComponent\" />\n    </div>\n\n    <div class=\"footer\">\n      <p>\n        To check out other projects Lisa has created, visit\n        <a href=\"https://lsq.design\" target=\"_blank\" rel=\"noopener\">lsq.design</a>.\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport HelloMorocco from './components/HelloMorocco.vue'\nimport MoroccoMapView from './components/MoroccoMapView.vue'\nimport RainfallPrecipitation from './components/RainfallPrecipitation.vue'\nimport MeanTemperature from './components/MeanTemperature.vue'\nimport SheepCattleHerds from './components/SheepCattleHerds.vue'\nimport LandPloughedWheat from './components/LandPloughedWheat.vue'\nimport WorldMapViewTimeline from './components/WorldMapViewTimeline.vue'\nimport INFORMRiskIndex from './components/INFORMRiskIndex.vue'\nimport CopingMechanisms from './components/CopingMechanisms.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    HelloMorocco,\n    MoroccoMapView,\n    RainfallPrecipitation,\n    MeanTemperature,\n    SheepCattleHerds,\n    LandPloughedWheat,\n    CopingMechanisms,\n    WorldMapViewTimeline,\n    INFORMRiskIndex,\n  },\n  data() {\n    return {\n      steps: [\n        'MoroccoMapView',\n        'RainfallPrecipitation',\n        'MeanTemperature',\n        'SheepCattleHerds',\n        'LandPloughedWheat',\n        'CopingMechanisms',\n        'INFORMRiskIndex',\n        'WorldMapViewTimeline',\n      ],\n      activeStep: 0, // Start from 0\n    }\n  },\n  mounted() {\n    window.addEventListener('keydown', this.handleKeyPress)\n  },\n  beforeUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress)\n  },\n  methods: {\n    setActiveStep(index) {\n  if (index === this.activeStep) return // prevent duplicate updates\n  this.activeStep = index\n}\n,\nhandleKeyPress(e) {\n  if (e.code === 'Space') e.preventDefault()\n\n  if (e.code === 'ArrowDown' || e.code === 'Space') {\n    this.goToStep(this.activeStep + 1)\n  } else if (e.code === 'ArrowUp') {\n    this.goToStep(this.activeStep - 1)\n  }\n}\n,\n    goToStep(index) {\n  const stepEls = document.querySelectorAll('.charts-wrapper')\n  if (index < 0 || index >= stepEls.length) return\n\n  const el = stepEls[index]\n  if (el) {\n    el.scrollIntoView({ behavior: 'smooth', block: 'start' })\n    this.activeStep = index\n  }\n}\n,\n  },\n  directives: {\n    intersect: {\n      mounted(el, binding) {\n        const observer = new IntersectionObserver(\n          ([entry]) => {\n            if (entry.isIntersecting) {\n              binding.value()\n            }\n          },\n          {\n            rootMargin: '0px',\n            threshold: 0.5,\n          }\n        )\n        observer.observe(el)\n      },\n    },\n  },\n}\n</script>\n\n\n<style>\n\nbody, html, #app {\n  height: 100%;\n  margin: 0;\n  scroll-behavior: smooth;\n  overflow-x: hidden;\n}\n\n.charts-wrapper {\n  height: 100vh;\n  width: 100vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 20px;\n  box-sizing: border-box;\n}\n\n\n#app {\n  font-family: \"Parkinsans\", sans-serif;\n  /* font-family: Avenir, Helvetica, Arial, sans-serif; */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 30px;\n}\n\n.footer {\n  width: 100%;\n  margin: 0px;\n  text-align: center;\n  padding: 10px 0;\n}\n\nh1 {\n  font-size: 2.6em;\n  margin: 0;\n  font-weight: 800;\n}\nh2 {\n  font-size: 1.4em;\n  margin: 0;\n  font-weight: 300;\n}\nh3 {\n  font-size: 1.2em;\n  margin: 0;\n}\nh4 {\n  font-size: 1em;\n  margin: 0;\n}\nh5 {\n  font-size: 0.8em;\n  margin: 0;\n}\nh6 {\n  font-size: 0.6em;\n  margin: 0;\n}\np {\n  font-size: 1em;\n  margin: 0;\n  text-align: left;\n}\ntext {\n  font-family: \"Parkinsans\", sans-serif;\n  margin: 0;\n}\n\n</style>\n","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <h2>A Case Study of Morocco and Climate Change</h2>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloMorocco',\n  props: {\n    msg: String\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nhtml, body {\n  width: 100%;\n  margin: 0;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./HelloMorocco.vue?vue&type=template&id=1e23afca&scoped=true\"\nimport script from \"./HelloMorocco.vue?vue&type=script&lang=js\"\nexport * from \"./HelloMorocco.vue?vue&type=script&lang=js\"\n\nimport \"./HelloMorocco.vue?vue&type=style&index=0&id=1e23afca&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1e23afca\"]])\n\nexport default __exports__","<template>\n  <div class=\"morocco-map-container\">\n    <l-map ref=\"map\" v-model:zoom=\"zoom\" :center=\"[28.7917, -7.9926]\">\n      <l-tile-layer\n        url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\"\n        layer-type=\"base\"\n        attribution=\"OpenStreetMap | contributors: CartoDB\"\n        subdomains=\"abcd\"\n      ></l-tile-layer>\n    </l-map>\n  </div>\n</template>\n\n<script>\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LTileLayer } from \"@vue-leaflet/vue-leaflet\";\nimport * as d3 from \"d3\"; // Import D3.js\n\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n  },\n  data() {\n    return {\n      zoom: 5,\n    };\n  },\n  mounted() {\n    this.loadGeoJsonMap();\n  },\n  methods: {\n    async loadGeoJsonMap() {\n  try {\n    const data = await d3.csv(\"./data/EM-DAT-data-ALL.csv\");\n\n    // Filter for ISO = \"MAR\" and Disaster Subgroup is \"Meteorological\" or \"Hydrological\"\n    const filteredData = data.filter(d => \n      d.ISO === \"MAR\" && (d[\"Disaster Subgroup\"] === \"Meteorological\" || d[\"Disaster Subgroup\"] === \"Hydrological\")\n    );\n\n    // Perform rollup grouping by Disaster Type, then Disaster Subtype, then Start Year\n    const rolledUpData = d3.rollup(\n      filteredData,\n      v => v.length,  // Count occurrences\n      d => d[\"Disaster Type\"], \n      d => d[\"Disaster Subtype\"], \n      d => d[\"Start Year\"]\n    );\n\n    console.log(\"Rolled Up Data for MAR (Meteorological & Hydrological):\", rolledUpData);\n  } catch (error) {\n    console.error(\"Error loading CSV:\", error);\n  }\n}\n\n\n  },\n};\n</script>\n\n<style>\n/* Full screen height and width */\nhtml, body {\n  height: 100%;\n  margin: 0;\n}\n\n/* Flexbox container to center the map */\n.morocco-map-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%; /* Full width of the viewport */\n  height: 700px;\n}\n\nl-map {\n  height: 600px;\n  width: 600px;\n}\n</style>\n","import { render } from \"./MoroccoMapView.vue?vue&type=template&id=4415e68c\"\nimport script from \"./MoroccoMapView.vue?vue&type=script&lang=js\"\nexport * from \"./MoroccoMapView.vue?vue&type=script&lang=js\"\n\nimport \"./MoroccoMapView.vue?vue&type=style&index=0&id=4415e68c&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"precip-wrapper bar-chart\" ref=\"precipWrapperRef\">\n    <h3>Historical + Projected Precipitation</h3>\n    <div v-for=\"column in filteredPrecipitationColumns\" :key=\"column\" class=\"bar-chart-block\">\n      <div class=\"bar-chart-content\">\n        <h4>{{ getDropdownTitle(column) }}</h4>\n        <div class=\"legend\">\n          <svg :ref=\"el => legendRefs[column] = el\" height=\"40\"></svg>\n        </div>\n\n        <svg :ref=\"el => chartRefs[column] = el\"></svg>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport * as d3 from \"d3\";\nimport { ref, onMounted, nextTick, computed, watch } from \"vue\";\n\nconst precipWrapperRef = ref(null);\nconst chartRefs = {};\nconst legendRefs = {};\nconst historicalData = ref([]);\nconst projectedData = ref([]);\nconst projectedColumns = ref([]);\n\nconst filteredPrecipitationColumns = computed(() =>\n  projectedColumns.value.filter(col =>\n    col.toLowerCase().includes(\"precipitation\") && col.includes(\"8.5\")\n  )\n);\n\nfunction getDropdownTitle(col) {\n  return col.replace(/_/g, \" \");\n}\n\nonMounted(() => {\n  if (precipWrapperRef.value) {\n    observer.observe(precipWrapperRef.value);\n  }\n});\n\n// Intersection Observer setup to trigger animation\nconst observer = new IntersectionObserver(\n  (entries) => {\n    entries.forEach((entry) => {\n      if (entry.isIntersecting) {\n        entry.target.classList.add(\"in-view\");\n        triggerPrecipitationAnimation();\n      } else {\n        entry.target.classList.remove(\"in-view\");\n      }\n    });\n  },\n  { threshold: 0.5 }\n);\n\nfunction triggerPrecipitationAnimation() {\n  filteredPrecipitationColumns.value.forEach(column => {\n    const historical = historicalData.value.map(d => ({\n      year: +d.year,\n      value: Math.round(parseFloat(d[\"Precipitation\"])),\n      source: \"historical\"\n    })).filter(d => !isNaN(d.value));\n\n    const projected = projectedData.value\n      .filter(d => +d.year !== 2020)\n      .map(d => ({\n        year: +d.year,\n        value: Math.round(parseFloat(d[column])),\n        source: \"projected\"\n      })).filter(d => !isNaN(d.value));\n\n    const combinedRaw = [...historical, ...projected];\n    const combinedData = getYearlySums(combinedRaw);\n    const unitPerEllipse = 10;\n\n    renderPrecipitationCircles(combinedData, chartRefs[column], column, unitPerEllipse);\n  });\n}\n\nfunction renderLegend(unitPerEllipse, svgEl) {\n  const svg = d3.select(svgEl);\n  svg.selectAll(\"*\").remove();\n\n  const dropSize = 10;\n  const dropWidth = dropSize;\n  const dropHeight = dropSize * 1.3;\n\n  const colorMap = {\n    historical: \"#089c9d\",\n    projected: \"#40E0D0\"\n  };\n\n  const dropPath = d3.path();\n  dropPath.moveTo(0, -dropHeight / 2);\n  dropPath.bezierCurveTo(dropWidth / 2, -dropHeight / 2, dropWidth / 2, dropHeight / 4, 0, dropHeight / 2);\n  dropPath.bezierCurveTo(-dropWidth / 2, dropHeight / 4, -dropWidth / 2, -dropHeight / 2, 0, -dropHeight / 2);\n\n  const legendItems = [\"historical\", \"projected\"];\n\n  legendItems.forEach((type, i) => {\n    const centerX = 20;\n    const centerY = 20 + i * 25;\n\n    svg.append(\"path\")\n      .attr(\"d\", dropPath.toString())\n      .attr(\"transform\", `translate(${centerX}, ${centerY}) scale(1, -1)`)\n      .attr(\"fill\", colorMap[type]);\n\n    svg.append(\"text\")\n      .attr(\"x\", centerX + 15)\n      .attr(\"y\", centerY + 5)\n      .attr(\"fill\", \"#333\")\n      .attr(\"font-size\", \"12px\")\n      .text(`${type === \"historical\" ? \"Historical\" : \"Projected\"}: 1 drop = ${Math.round(unitPerEllipse)} mm`);\n  });\n\n  svg.attr(\"width\", 200).attr(\"height\", 60);\n}\n\n\nfunction renderPrecipitationCircles(combinedData, svgEl, column, unitPerEllipse) {\n  if (!svgEl || !combinedData.length) return;\n\n  const container = svgEl.parentNode;\n  const width = container.getBoundingClientRect().width;\n  const height = container.getBoundingClientRect().height;\n\n  const svg = d3.select(svgEl)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"viewBox\", `0 0 ${width} ${height}`);\n\n  svg.selectAll(\"*\").remove();\n\n  const margin = { top: 20, right: 20, bottom: 60, left: 60 };\n  const innerWidth = width - margin.left - margin.right;\n  const innerHeight = height - margin.top - margin.bottom;\n\n  const g = svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  const years = Array.from(new Set(combinedData.map(d => d.year))).sort((a, b) => a - b);\n  const xScale = d3.scaleBand().domain(years).range([0, innerWidth]).padding(0.1);\n  const maxValue = d3.max(combinedData, d => d.value);\n  const yScale = d3.scaleLinear().domain([0, maxValue]).range([innerHeight, 0]);\n  const color = d3.scaleOrdinal().domain([\"historical\", \"projected\"]).range([\"#089c9d\", \"#40E0D0\"]);\n\n  if (column === filteredPrecipitationColumns.value[0]) {\n    renderLegend(unitPerEllipse, legendRefs[column]);\n  }\n\n  combinedData.forEach(d => {\n    const totalCircles = Math.floor(d.value / unitPerEllipse);\n    const barCenter = xScale(d.year) + xScale.bandwidth() / 2;\n    const ellipseRx = Math.min(xScale.bandwidth() / 3, 12);\n\n    for (let i = 0; i < totalCircles; i++) {\n      const dropYmm = unitPerEllipse * (i + 1);\n      const dropY = yScale(dropYmm);\n\n      const randomYOffset = Math.random() * 100 + 20;\n      const randomDelay = Math.random() * 800;\n\n      const dropHeight = ellipseRx * 2.5;\n      const dropWidth = ellipseRx * 2;\n\n      const dropPath = d3.path();\n      dropPath.moveTo(0, -dropHeight / 2);\n      dropPath.bezierCurveTo(dropWidth / 2, -dropHeight / 2, dropWidth / 2, dropHeight / 4, 0, dropHeight / 2);\n      dropPath.bezierCurveTo(-dropWidth / 2, dropHeight / 4, -dropWidth / 2, -dropHeight / 2, 0, -dropHeight / 2);\n\n      g.append(\"path\")\n        .attr(\"d\", dropPath.toString())\n        .attr(\"transform\", `translate(${barCenter}, ${-randomYOffset}) scale(1, -1)`)\n        .attr(\"fill\", color(d.source))\n        .transition()\n        .delay(randomDelay)\n        .duration(2000)\n        .ease(d3.easeBounceOut)\n        .attr(\"transform\", `translate(${barCenter}, ${dropY}) scale(1, -1)`);\n    }\n  });\n\n  const xTickYears = years.filter((y, i, arr) => i === 0 || i === arr.length - 1 || y % 10 === 0);\n\n// X Axis Tick Labels\ng.append(\"g\")\n  .selectAll(\"text.x-axis\")\n  .data(xTickYears)\n  .enter()\n  .append(\"text\")\n  .attr(\"class\", \"x-axis\")\n  .attr(\"x\", d => xScale(d) + xScale.bandwidth() / 2)\n  .attr(\"y\", innerHeight + 25)\n  .style(\"text-anchor\", \"middle\")\n  .text(d => d);\n\n// X Axis Tick Lines\ng.append(\"g\")\n  .selectAll(\"line.x-axis-tick\")\n  .data(xTickYears)\n  .enter()\n  .append(\"line\")\n  .attr(\"class\", \"x-axis-tick\")\n  .attr(\"x1\", d => xScale(d) + xScale.bandwidth() / 2)\n  .attr(\"x2\", d => xScale(d) + xScale.bandwidth() / 2)\n  .attr(\"y1\", innerHeight)\n  .attr(\"y2\", innerHeight + 6)\n  .style(\"stroke\", \"black\")\n  .style(\"stroke-width\", 1);\n\n\n// Y-axis Labels\ng.append(\"g\")\n  .selectAll(\"text.y-axis\")\n  .data(yScale.ticks(5).filter(d => d !== 0))\n  .enter()\n  .append(\"text\")\n  .attr(\"class\", \"y-axis\")\n  .attr(\"x\", -40)\n  .attr(\"y\", d => (yScale(d)+5))\n  .style(\"text-anchor\", \"middle\")\n  .text(d => d.toFixed(0));  // Display the values rounded to integers\n\n// Y-axis Tick Lines\ng.append(\"g\")\n  .selectAll(\"line.y-axis-tick\")\n  .data(yScale.ticks(5).filter(d => d !== 0))\n  .enter()\n  .append(\"line\")\n  .attr(\"class\", \"y-axis-tick\")\n  .attr(\"x1\", -20)\n  .attr(\"x2\", -10)\n  .attr(\"y1\", d => yScale(d))\n  .attr(\"y2\", d => yScale(d))\n  .style(\"stroke\", \"black\")\n  .style(\"stroke-width\", 1);\n\n\n  const hoverBar = g.append(\"rect\")\n    .attr(\"class\", \"hover-bar\")\n    .attr(\"width\", xScale.bandwidth())\n    .attr(\"fill-opacity\", 0.7)\n    .style(\"display\", \"none\")\n    .attr(\"y\", innerHeight)\n    .attr(\"height\", 0);\n\n  g.selectAll(\".hover-zone\")\n    .data(combinedData)\n    .enter()\n    .append(\"rect\")\n    .attr(\"class\", \"hover-zone\")\n    .attr(\"x\", d => xScale(d.year))\n    .attr(\"y\", 0)\n    .attr(\"width\", xScale.bandwidth())\n    .attr(\"height\", innerHeight)\n    .attr(\"fill\", \"transparent\")\n    .on(\"mouseover\", function (event, d) {\n      hoverBar.interrupt();\n      const hoverColor = color(d.source);\n      hoverBar.style(\"display\", \"block\")\n        .transition()\n        .duration(500)\n        .ease(d3.easeCubicOut)\n        .attr(\"x\", xScale(d.year))\n        .attr(\"y\", yScale(d.value))\n        .attr(\"height\", innerHeight - yScale(d.value))\n        .attr(\"fill\", hoverColor);\n\n      g.selectAll(\".bar-label\").remove();\n      g.append(\"text\")\n        .attr(\"class\", \"bar-label\")\n        .attr(\"x\", xScale(d.year) + xScale.bandwidth() / 2)\n        .attr(\"y\", yScale(d.value) - 10)\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"fill\", \"#333\")\n        .attr(\"opacity\", 0)\n        .text(`${Math.round(d.value)} mm`)\n        .transition()\n        .duration(500)\n        .attr(\"opacity\", 1);\n    })\n    .on(\"mouseout\", function () {\n      hoverBar.interrupt();\n      hoverBar.transition()\n        .duration(500)\n        .ease(d3.easeCubicOut)\n        .attr(\"y\", innerHeight)\n        .attr(\"height\", 0)\n        .style(\"display\", \"none\");\n\n      g.selectAll(\".bar-label\")\n        .transition()\n        .duration(300)\n        .attr(\"opacity\", 0)\n        .remove();\n    });\n}\n\nfunction getYearlySums(data) {\n  const yearlySums = d3.rollups(\n    data,\n    values => d3.sum(values, d => d.value),\n    d => d.year\n  ).map(([year, sum]) => ({\n    year,\n    value: sum,\n    source: data.find(d => d.year === year).source\n  }));\n\n  return yearlySums;\n}\n\nwatch([historicalData, projectedData], async () => {\n  if (!historicalData.value.length || !projectedData.value.length) return;\n\n  const histCol = \"Precipitation\";\n\n  for (const column of filteredPrecipitationColumns.value) {\n    const historical = historicalData.value.map(d => ({\n      year: +d.year,\n      value: Math.round(parseFloat(d[histCol])),\n      source: \"historical\"\n    })).filter(d => !isNaN(d.value));\n\n    const projected = projectedData.value\n      .filter(d => +d.year !== 2020)\n      .map(d => ({\n        year: +d.year,\n        value: Math.round(parseFloat(d[column])),\n        source: \"projected\"\n      })).filter(d => !isNaN(d.value));\n\n    const combinedRaw = [...historical, ...projected];\n    const combinedData = getYearlySums(combinedRaw);\n\n    await nextTick();\n\n    const unitPerEllipse = 10;\n    renderPrecipitationCircles(combinedData, chartRefs[column], column, unitPerEllipse);\n  }\n});\n\nonMounted(async () => {\n  try {\n    const hist = await d3.csv(\"./data/MeanMaxSurfaceAirTempuratureAndPrecipitation-1951-2020-Month.csv\");\n    const proj = await d3.csv(\"./data/AverageMeanAndMaxSurfaceAirTemperatureAndPrecipitation-2020-2099-Month-FourScenarios.csv\");\n\n    historicalData.value = hist;\n    projectedData.value = proj;\n    projectedColumns.value = Object.keys(proj[0] || {});\n  } catch (err) {\n    console.error(\"Error loading CSV data:\", err);\n  }\n});\n</script>\n\n\n<style scoped>\nhtml,\nbody,\n#app {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\n\n.precip-wrapper {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  box-sizing: border-box;\n  padding: 4rem 5rem 5rem 5rem;\n  overflow: auto;\n  /* Allow scrolling */\n  opacity: 0;\n  /* Initially hidden */\n  transition: opacity 1s ease-in-out;\n}\n\n.precip-wrapper.in-view {\n  opacity: 1;\n  /* Fade in when in view */\n}\n\n.bar-chart {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.bar-chart-block {\n  width: 100%;\n  height: 100%;\n  flex: 1;\n  overflow: hidden;\n  /* Prevent overflow of chart content */\n}\n\n.bar-chart-content {\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n.legend {\n  position: absolute;\n  top: 2.5rem;\n  /* Adjust as needed */\n  left: 4.5rem;\n  padding-left: 1rem;\n  z-index: 2;\n  pointer-events: none;\n}\n\nsvg {\n  overflow: visible;\n}\n\n.x-axis {\n    font-size: 0.75em;\n}\n\n.y-axis {\n  font-size: 0.75em;\n}\n</style>\n","import script from \"./RainfallPrecipitation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RainfallPrecipitation.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RainfallPrecipitation.vue?vue&type=style&index=0&id=74802d0c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-74802d0c\"]])\n\nexport default __exports__","<template>\n    <div class=\"temperature-wrapper unified-heatmap\">\n        <h3>Historical + Projected Surface Air Temperature</h3>\n\n        <div class=\"control-container\">\n            <div class=\"radio-buttons\">\n                <label>\n                    <input type=\"radio\" v-model=\"selectedColumnGroup\" value=\"mean\" /> Mean\n                </label>\n                <label>\n                    <input type=\"radio\" v-model=\"selectedColumnGroup\" value=\"max\" /> Max\n                </label>\n            </div>\n\n            <div class=\"overlay-toggle\">\n                <label>\n                    <input type=\"radio\" :value=\"true\" v-model=\"showOverlay\" /> Show Covers\n                </label>\n                <label>\n                    <input type=\"radio\" :value=\"false\" v-model=\"showOverlay\" /> Hide Covers\n                </label>\n            </div>\n\n\n            <div class=\"legend\">\n                <h4>Temperature Legend</h4>\n                <div class=\"legend-items\">\n                    <div class=\"legend-item\" v-for=\"(color, index) in legendColors\" :key=\"index\">\n                        <div class=\"legend-color\" :style=\"{ backgroundColor: color.color }\"></div>\n                        <span>{{ color.label }}</span>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"heatmap-container\">\n<div\n    v-for=\"(column, index) in filteredProjectedColumnOptions\"\n    :key=\"column\"\n    class=\"heatmap-block\"\n    :class=\"{ visible: showBlocks[index] }\"\n    @mouseenter=\"hoveredBlock = column\"\n    @mouseleave=\"hoveredBlock = null\"\n>\n\n                <div class=\"heatmap-visual\">\n                    <svg :ref=\"el => heatmapRefs[column] = el\"\n                        :data-last-heatmap=\"index === filteredProjectedColumnOptions.length - 1\"></svg>\n                    <div class=\"heatmap-cover\" :class=\"{ hidden: hoveredBlock === column || !showOverlay }\">\n                        <div class=\"cover-message\">\n                            <strong>{{ getScenarioInfo(column).title }}</strong><br />\n                            <em>{{ getScenarioInfo(column).subtitle }}</em><br />\n                            <span>{{ getScenarioInfo(column).soundBite }}</span><br />\n                            <span v-html=\"getScenarioInfo(column).message\"></span>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport * as d3 from \"d3\";\nimport { ref, onMounted, onBeforeUnmount, nextTick, computed, watch } from \"vue\";\n\nconst heatmapRefs = {};\nconst hoveredBlock = ref(null);\nconst wrapperRef = ref(null);\nconst observer = ref(null);\n\nconst historicalData = ref([]);\nconst projectedData = ref([]);\nconst projectedColumns = ref([]);\n\nconst selectedColumnGroup = ref(\"max\");\nconst selectedProjectedColumn = ref(\"\");\n\n// NEW STATE: Show/hide overlays\nconst showOverlay = ref(true);\n\nconst legendColors = [\n    { color: \"#40E0D0\", label: \"15°C\" },\n    { color: \"#7FFF00\", label: \"20°C\" },\n    { color: \"#FFFF00\", label: \"25°C\" },\n    { color: \"#FF8000\", label: \"30°C\" },\n    { color: \"#FF0000\", label: \"35°C\" },\n    { color: \"#820747\", label: \"40°C+\" }\n];\n\nconst filteredProjectedColumnOptions = computed(() =>\n    projectedColumns.value.filter(col =>\n        selectedColumnGroup.value === \"mean\"\n            ? col.toLowerCase().includes(\"mean\")\n            : col.toLowerCase().includes(\"max\")\n    ).reverse()\n);\n\nconst getScenarioInfo = (columnName) => {\n    if (columnName.includes(\"SSP1-2.6\")) {\n        return {\n            title: \"🌱 Green Leap\",\n            subtitle: \"SSP1-2.6: Best-Case Scenario\",\n            soundBite: \"🌿 Too late for the leap — we missed this train.\",\n            message: \"Aiming high on sustainability, this scenario sees the world making strong progress on cutting emissions, hitting net-zero after 2050. The result? Global warming is likely kept below 2°C by 2100. It’s the climate-friendly path.\"\n        };\n    } else if (columnName.includes(\"SSP2-4.5\")) {\n        return {\n            title: \"🌍 Middle Ground\",\n            subtitle: \"SSP2-4.5: Business-as-Usual Scenario\",\n            soundBite: \"🛤️ Still on track — but drifting toward danger.\",\n            message: \"This is the “do a little, but not too much” path. Emissions stay close to current levels until around mid-century, then slowly decline. Net-zero isn't reached until <i>after</i> 2100. It's a compromise route, with moderate climate action and moderate consequences.\"\n        };\n    } else if (columnName.includes(\"SSP3-7.0\")) {\n        return {\n            title: \"🔥 Divided Drift\",\n            subtitle: \"SSP3-7.0: Worsening Scenario\",\n            soundBite: \"⚠️ Cracks in the system — and no one’s patching them.\",\n            message: \"In this future, the world is fragmented, with regional tensions and little cooperation. Emissions keep rising, nearly doubling by 2100. Climate action takes a back seat, leading to increasing global risks and instability.\"\n        };\n    } else if (columnName.includes(\"SSP5-8.5\")) {\n        return {\n            title: \"💣 Turbocharged Trouble\",\n            subtitle: \"SSP5-8.5: Worst-Case Scenario\",\n            soundBite: \"🚨 Pedal to the metal — and no brakes in sight.\",\n            message: \"Fueled by fossil energy and tech innovation, this path prioritizes economic growth over sustainability. Emissions soar, and radiative forcing reaches the highest levels— it’s the “worst-case” outlook. It's the high-speed lane to extreme climate change.\"\n        };\n    } else {\n        return {\n            title: columnName,\n            subtitle: columnName,\n            soundBite: \"🤷‍♂️ Unknown path — map not available.\",\n            message: \"Scenario description unavailable.\"\n        };\n    }\n};\n\n\n\nwatch(selectedColumnGroup, () => {\n    const filtered = filteredProjectedColumnOptions.value;\n    selectedProjectedColumn.value = filtered.length > 0 ? filtered[0] : \"\";\n});\n\nwatch([historicalData, projectedData, selectedColumnGroup], async () => {\n    if (!historicalData.value.length || !projectedData.value.length) return;\n\n    for (const [index, column] of filteredProjectedColumnOptions.value.entries()) {\n        const histCol = selectedColumnGroup.value === \"mean\" ? \"Mean Temp\" : \"Max Temp\";\n\n        const combinedData = [\n            ...historicalData.value.map(d => ({\n                year: +d.year,\n                month: d.month,\n                value: parseFloat(d[histCol]),\n                source: \"historical\"\n            })),\n            ...projectedData.value.map(d => ({\n                year: +d.year,\n                month: d.month,\n                value: parseFloat(d[column]),\n                source: \"projected\"\n            }))\n        ];\n\n        await nextTick();\n        const isLastHeatmap = index === filteredProjectedColumnOptions.value.length - 1;\n        renderUnifiedHeatmap(combinedData, heatmapRefs[column], isLastHeatmap);\n    }\n}, { immediate: true });\n\nfunction renderUnifiedHeatmap(data, svgEl, isLastHeatmap) {\n    if (!svgEl || !data.length) return;\n\n    const container = svgEl.parentNode;\n    const width = container.getBoundingClientRect().width;\n    const height = container.getBoundingClientRect().height;\n\n    const months = Array.from(new Set(data.map(d => d.month))).reverse();\n    const years = Array.from(new Set(data.map(d => d.year)));\n\n    const margin = { top: 10, right: 20, bottom: 30, left: 60 };\n    const innerHeight = height - margin.top - margin.bottom;\n    const innerWidth = width - margin.left - margin.right;\n\n    const svg = d3.select(svgEl)\n        .attr(\"width\", \"100%\")\n        .attr(\"height\", \"100%\")\n        .attr(\"viewBox\", `0 0 ${width} ${height}`);\n\n    svg.selectAll(\"*\").remove();\n\n    const xScale = d3.scaleBand().domain(years).range([0, innerWidth]).padding(0.05);\n    const yScale = d3.scaleBand().domain(months).range([innerHeight, 0]).padding(0.05);\n\n    const colorScale = d3.scaleThreshold()\n        .domain([15, 20, 25, 30, 35])\n        .range([\"#40E0D0\", \"#7FFF00\", \"#FFFF00\", \"#FF8000\", \"#FF0000\", \"#820747\"]);\n\n    const g = svg.append(\"g\").attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    const xAxisTicks = years.filter((y, i) => i === 0 || i === years.length - 1 || y % 10 === 0);\n    if (isLastHeatmap) {\n        g.append(\"g\")\n            .selectAll(\"text.x-axis\")\n            .data(xAxisTicks)\n            .enter()\n            .append(\"text\")\n            .attr(\"class\", \"x-axis\")\n            .attr(\"x\", d => xScale(d) + xScale.bandwidth() / 2)\n            .attr(\"y\", innerHeight + 25)\n            .style(\"text-anchor\", \"middle\")\n            .text(d => d);\n    }\n    \n\n    g.append(\"g\")\n        .selectAll(\"line.x-axis-tick\")\n        .data(xAxisTicks)\n        .enter()\n        .append(\"line\")\n        .attr(\"x1\", d => xScale(d) + xScale.bandwidth() / 2)\n        .attr(\"x2\", d => xScale(d) + xScale.bandwidth() / 2)\n        .attr(\"y1\", innerHeight)\n        .attr(\"y2\", innerHeight + 6)\n        .style(\"stroke\", \"black\");\n\n    g.append(\"g\")\n        .selectAll(\"text.y-axis\")\n        .data(months)\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"y-axis\")\n        .attr(\"x\", -25)\n        .attr(\"y\", d => yScale(d) + yScale.bandwidth() / 1.25)\n        .style(\"text-anchor\", \"middle\")\n        .text(d => d);\n\n    g.selectAll(\".heatmap-cell\")\n        .data(data)\n        .enter()\n        .append(\"rect\")\n        .attr(\"class\", \"heatmap-cell\")\n        .attr(\"x\", d => xScale(d.year))\n        .attr(\"y\", d => yScale(d.month))\n        .attr(\"width\", xScale.bandwidth())\n        .attr(\"height\", yScale.bandwidth())\n        .style(\"fill\", d => colorScale(d.value))\n        .style(\"opacity\", 0)\n        .transition()\n        .duration(500)\n        .style(\"opacity\", 1);\n}\n\nconst showBlocks = ref([]);\n\nonMounted(async () => {\n    try {\n        const hist = await d3.csv(\"./data/MeanMaxSurfaceAirTempuratureAndPrecipitation-1951-2020-Month.csv\");\n        const proj = await d3.csv(\"./data/AverageMeanAndMaxSurfaceAirTemperatureAndPrecipitation-2020-2099-Month-FourScenarios.csv\");\n\n        historicalData.value = hist;\n        projectedData.value = proj;\n        projectedColumns.value = Object.keys(proj[0] || {});\n\n        const defaultGroup = selectedColumnGroup.value;\n        const defaultOptions = projectedColumns.value.filter(col =>\n            defaultGroup === \"mean\" ? col.toLowerCase().includes(\"mean\") : col.toLowerCase().includes(\"max\")\n        );\n        selectedProjectedColumn.value = defaultOptions[0];\n\n        // Initial state for animation\n        showBlocks.value = Array(filteredProjectedColumnOptions.value.length).fill(false);\n\n        for (let i = 0; i < filteredProjectedColumnOptions.value.length; i++) {\n            const column = filteredProjectedColumnOptions.value[i];\n            const histCol = selectedColumnGroup.value === \"mean\" ? \"Mean Temp\" : \"Max Temp\";\n            const combinedData = [\n                ...historicalData.value.map(d => ({\n                    year: +d.year,\n                    month: d.month,\n                    value: parseFloat(d[histCol]),\n                    source: \"historical\"\n                })),\n                ...projectedData.value.map(d => ({\n                    year: +d.year,\n                    month: d.month,\n                    value: parseFloat(d[column]),\n                    source: \"projected\"\n                }))\n            ];\n\n            renderUnifiedHeatmap(combinedData, heatmapRefs[column], column === filteredProjectedColumnOptions.value.at(-1));\n\n            // Staggered fade-in\n            setTimeout(() => {\n                showBlocks.value[i] = true;\n            }, i * 300); // 300ms stagger\n        }\n\nobserver.value = new IntersectionObserver((entries) => {\n    const entry = entries[0];\n    if (entry.isIntersecting) {\n        for (let i = 0; i < filteredProjectedColumnOptions.value.length; i++) {\n            setTimeout(() => {\n                showBlocks.value[i] = true;\n            }, i * 300); // 300ms stagger\n        }\n        observer.value.disconnect(); // Trigger only once\n    }\n}, { threshold: 0.3 }); // Adjust threshold as needed\n\nif (wrapperRef.value) {\n    observer.value.observe(wrapperRef.value);\n}\n\n\n        window.addEventListener(\"resize\", () => {\n            for (const column of filteredProjectedColumnOptions.value) {\n                const histCol = selectedColumnGroup.value === \"mean\" ? \"Mean Temp\" : \"Max Temp\";\n                const combinedData = [\n                    ...historicalData.value.map(d => ({\n                        year: +d.year,\n                        month: d.month,\n                        value: parseFloat(d[histCol]),\n                        source: \"historical\"\n                    })),\n                    ...projectedData.value.map(d => ({\n                        year: +d.year,\n                        month: d.month,\n                        value: parseFloat(d[column]),\n                        source: \"projected\"\n                    }))\n                ];\n                renderUnifiedHeatmap(combinedData, heatmapRefs[column], column === filteredProjectedColumnOptions.value.at(-1));\n            }\n        });\n    } catch (err) {\n        console.error(\"Error loading CSV data:\", err);\n    }\n});\n\n\nonBeforeUnmount(() => {\n    window.removeEventListener(\"resize\", renderUnifiedHeatmap);\n});\n</script>\n\n<style scoped>\n.temperature-wrapper {\n    height: 100vh;\n    width: 100vw;\n    display: flex;\n    flex-direction: column;\n    padding: 4rem 5rem 8rem 5rem;\n    box-sizing: border-box;\n    overflow: hidden;\n}\n\n.control-container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 0.5rem;\n    flex-shrink: 0;\n}\n\n.radio-buttons,\n.overlay-toggle {\n    display: flex;\n    gap: 10px;\n    margin-top: 5px;\n}\n\n.legend {\n    margin-top: 10px;\n    display: flex;\n    align-items: center;\n    gap: 10px;\n}\n\n.legend-items {\n    display: flex;\n    gap: 15px;\n    justify-content: flex-start;\n    margin-top: 5px;\n}\n\n.legend-item {\n    display: flex;\n    align-items: center;\n    gap: 5px;\n}\n\n.legend-color {\n    width: 15px;\n    height: 15px;\n}\n\n.heatmap-container {\n    display: flex;\n    flex-direction: column;\n    gap: 0;\n    flex: 1;\n    height: 100%;\n    margin-top: 0; /* Ensure no margin at the top */\n}\n\n.heatmap-block {\n    flex: 1;\n    height: 25%; /* Ensure equal distribution of space */\n    width: 100%;\n    display: flex;\n    align-items: flex-start; /* Align heatmaps at the top */\n    justify-content: center;\n    margin-top: 0; /* Remove any margin pushing the blocks down */\n    opacity: 0;\n    transform: translateY(20px);\n    transition: opacity 1s ease, transform 1s ease;\n}\n\n.heatmap-block.visible {\n    opacity: 1;\n    transform: translateY(0);\n}\n\n.heatmap-visual {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: flex-start; /* Align heatmap content to the top */\n}\n\n.heatmap-cover {\n    position: absolute;\n    top: 0; /* Align the cover to the top */\n    left: 0;\n    width: 100%;\n    height: 100%;\n    color: white;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    z-index: 2;\n    transition: opacity 0.3s ease;\n    pointer-events: auto;\n    font-weight: bold;\n    font-size: 1.1rem;\n    cursor: pointer;\n}\n\n.heatmap-block .heatmap-cover {\n    height: calc(100% - 30px);\n}\n\n.heatmap-cover.hidden {\n    opacity: 0;\n    pointer-events: none;\n}\n\n.cover-message {\n    text-align: center;\n    padding: 1rem;\n}\n\n.x-axis {\n    font-size: 0.75em;\n}\n\n.y-axis {\n    font-size: 0.75em;\n}\n\n.heatmap-block:nth-child(2),\n.heatmap-block:nth-child(3),\n.heatmap-block:nth-child(4) {\n    margin-top: -25px;\n}\n\n.heatmap-block:nth-child(4) .heatmap-cover {\n    background-color: rgb(102, 0, 0);\n}\n\n.heatmap-block:nth-child(3) .heatmap-cover {\n    background-color: rgb(153, 0, 0);\n}\n\n.heatmap-block:nth-child(2) .heatmap-cover {\n    background-color: rgb(204, 0, 0);\n}\n\n.heatmap-block:nth-child(1) .heatmap-cover {\n    background-color: rgb(255, 0, 0);\n}\n</style>","import script from \"./MeanTemperature.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MeanTemperature.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MeanTemperature.vue?vue&type=style&index=0&id=85e4695e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-85e4695e\"]])\n\nexport default __exports__","<template>\n    <div class=\"sheep-cattle-herds\">\n      <h3>Decreasing Sheep and Cattle Herds Graphic</h3>\n    </div>\n  </template>\n\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n.sheep-cattle-herds {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\nh3 {\n  width: 100%;\n}\n  </style>\n  ","import { render } from \"./SheepCattleHerds.vue?vue&type=template&id=c9bbc43a&scoped=true\"\nconst script = {}\n\nimport \"./SheepCattleHerds.vue?vue&type=style&index=0&id=c9bbc43a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c9bbc43a\"]])\n\nexport default __exports__","<template>\n    <div class=\"land-ploughed-wheat\">\n      <h3>Amount of Land Ploughed for Wheat Graphic</h3>\n    </div>\n  </template>\n\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n.land-ploughed-wheat {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\nh3 {\n  width: 100%;\n}\n  </style>\n  ","import { render } from \"./LandPloughedWheat.vue?vue&type=template&id=296d7feb&scoped=true\"\nconst script = {}\n\nimport \"./LandPloughedWheat.vue?vue&type=style&index=0&id=296d7feb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-296d7feb\"]])\n\nexport default __exports__","<script>\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LTileLayer, LGeoJson } from \"@vue-leaflet/vue-leaflet\";\n\nexport default {\n  components: {\n    LMap,\n    LTileLayer,\n    LGeoJson,\n  },\n  data() {\n    return {\n      zoom: 2,\n      geoJsonData: null,  // We initialize it as null and will set it after fetching the file\n    };\n  },\n  mounted() {\n    // Load the GeoJSON file when the component is mounted\n    fetch(\"./data/country-boundaries.geojson\")\n      .then(response => response.json())\n      .then(data => {\n        this.geoJsonData = data;  // Assign the loaded GeoJSON data to the component data\n      })\n      .catch(error => {\n        console.error(\"Error loading GeoJSON file:\", error);\n      });\n  },\n};\n</script>\n\n<template>\n  <div class=\"map-container\">\n    <l-map ref=\"map\" v-model:zoom=\"zoom\" :center=\"[0, 0]\" :zoom=\"zoom\">\n      <!-- Tile Layer -->\n      <l-tile-layer\n        url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\"\n        layer-type=\"base\"\n        attribution=\"OpenStreetMap | contributors: CartoDB\"\n        subdomains=\"abcd\"\n      ></l-tile-layer>\n\n      <!-- GeoJSON Layer -->\n      <l-geo-json :geojson=\"geoJsonData\"></l-geo-json>\n    </l-map>\n  </div>\n</template>\n\n<style>\n/* Full screen height and width */\nhtml, body {\n  height: 100%;\n  margin: 0;\n}\n\n/* Flexbox container to center the map */\n.map-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 700px;\n  width: 50%;    /* Full width of the viewport */\n}\n\nl-map {\n  height: 600px;\n  width: 50%;\n}\n</style>\n","import { render } from \"./WorldMapViewTimeline.vue?vue&type=template&id=58ebf3ca\"\nimport script from \"./WorldMapViewTimeline.vue?vue&type=script&lang=js\"\nexport * from \"./WorldMapViewTimeline.vue?vue&type=script&lang=js\"\n\nimport \"./WorldMapViewTimeline.vue?vue&type=style&index=0&id=58ebf3ca&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script setup>\nimport { onMounted, ref, watch, onBeforeUnmount } from \"vue\";\nimport * as d3 from \"d3\";\nimport \"leaflet/dist/leaflet.css\";\nimport { LMap, LTileLayer, LGeoJson, LPopup } from \"@vue-leaflet/vue-leaflet\";\n\nconst zoom = ref(2);\nconst geoJsonData = ref(null);\nconst chartData = ref([]);\nconst sortMethod = ref(\"alphabetical\");\nconst riskColumn = ref(\"inform_risk\");\nconst windowWidth = ref(window.innerWidth);\n\nconst handleResize = () => {\n  windowWidth.value = window.innerWidth;\n  createChart(chartData.value); // Recreate the chart with the new width\n};\n\nonMounted(() => {\n  window.addEventListener(\"resize\", handleResize);\n  loadGeoJsonMap();\n  createChart(chartData.value); // Create the chart initially with the loaded data\n});\n\nonBeforeUnmount(() => {\n  window.removeEventListener(\"resize\", handleResize);\n});\n\nconst colorScale = d3.scaleThreshold()\n  .domain([0, 2, 4, 6, 8, 10])\n  .range([\"white\", \"#7FFF00\", \"#FFFF00\", \"#FF8000\", \"#FF0000\", \"#820747\", \"#D3D3D3\"]);\n\nconst geoJsonStyle = (feature) => {\n  const riskValue = feature.properties[riskColumn.value];\n  return {\n    fillColor: riskValue !== null && riskValue !== undefined ? colorScale(riskValue) : \"#D3D3D3\",\n    weight: 0.5,\n    opacity: 1,\n    color: \"black\",\n    fillOpacity: 1\n  };\n};\n\nconst loadGeoJsonMap = async () => {\n  try {\n    const data = await d3.csv(\"./data/INFORM_Risk_2025_v069_index.csv\");\n    const riskData = data.map(row => {\n      let normalizedRow = {};\n      for (const [key, value] of Object.entries(row)) {\n        const normalizedKey = key.toLowerCase().replace(/\\s+/g, \"_\").replace(/&/g, \"and\");\n        normalizedRow[normalizedKey] = value;\n      }\n      normalizedRow.inform_risk = +normalizedRow.inform_risk;\n      normalizedRow.vulnerability = +normalizedRow.vulnerability;\n      normalizedRow.hazard_and_exposure = +normalizedRow.hazard_and_exposure;\n      normalizedRow.lack_of_coping_capacity = +normalizedRow.lack_of_coping_capacity;\n      return normalizedRow;\n    });\n    chartData.value = riskData;\n\n    const geoJsonResponse = await fetch(\"./data/country-boundaries.geojson\");\n    const geoJson = await geoJsonResponse.json();\n\n    geoJson.features.forEach(feature => {\n      let riskInfo = riskData.find(d => d.country === feature.properties.SOVEREIGNT) ||\n        riskData.find(d => d.iso3 === feature.properties.SOV_A3);\n      if (riskInfo) {\n        feature.properties.inform_risk = riskInfo.inform_risk;\n        feature.properties.vulnerability = riskInfo.vulnerability;\n        feature.properties.hazard_and_exposure = riskInfo.hazard_and_exposure;\n        feature.properties.lack_of_coping_capacity = riskInfo.lack_of_coping_capacity;\n      } else {\n        feature.properties.inform_risk = null;\n        feature.properties.vulnerability = null;\n        feature.properties.hazard_and_exposure = null;\n        feature.properties.lack_of_coping_capacity = null;\n      }\n    });\n    geoJsonData.value = geoJson;\n  } catch (error) {\n    console.error(\"Error loading data:\", error);\n  }\n};\n\nconst createChart = (data) => {\n  // Remove the previous chart\n  d3.select(\"#INFORM-chart\").select(\"svg\").remove();\n\n  const margin = { top: 40, right: 30, bottom: 40, left: 195 };\n  const width = 0.9 * (windowWidth.value / 2) - margin.left - margin.right;\n  const barHeight = 25;\n  const svgHeight = data.length * barHeight + margin.top + margin.bottom;\n\n  // Sort the data based on the selected method\n  let sortedData = [...data];\n  if (sortMethod.value === \"ascending\") {\n    sortedData.sort((a, b) => a[riskColumn.value] - b[riskColumn.value]);\n  } else if (sortMethod.value === \"descending\") {\n    sortedData.sort((a, b) => b[riskColumn.value] - a[riskColumn.value]);\n  } else if (sortMethod.value === \"alphabetical\") {\n    sortedData.sort((a, b) => a.country.localeCompare(b.country));\n  }\n\n  const svg = d3.select(\"#INFORM-chart\")\n    .append(\"svg\")\n    .attr(\"width\", width + margin.left + margin.right)\n    .attr(\"height\", svgHeight)\n    .append(\"g\")\n    .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n  // not using maxRisk for the x-axis domain because I want to keep it fixed at [0, 10]\n  // const maxRisk = d3.max(sortedData, (d) => d[riskColumn.value]);\n\n  const x = d3.scaleLinear()\n    .domain([0, 10]) // change domain to [0, 10] instead of [0, maxRisk]\n    .nice()\n    .range([0, width]);\n  const y = d3.scaleBand()\n    .domain(sortedData.map((d) => d.country))\n    .range([0, svgHeight - margin.top - margin.bottom])\n    .padding(0.1);\n\n  // Bind data to bars\n  const bars = svg.selectAll(\".bar\")\n    .data(sortedData, (d) => d.country); // Use key function for updates\n\n  // Enter phase (initial bars)\n  bars.enter()\n    .append(\"rect\")\n    .attr(\"class\", \"bar\")\n    .attr(\"x\", 0)\n    .attr(\"y\", (d) => y(d.country))\n    .attr(\"height\", y.bandwidth())\n    .attr(\"fill\", (d) => colorScale(d[riskColumn.value]))\n    .attr(\"width\", 0) // Start width at 0 for animation\n    .transition()\n    .duration(1000) // Duration for animation\n    .ease(d3.easeCubicOut)\n    .attr(\"width\", (d) => x(d[riskColumn.value]));\n\n  // Append text for the data point on the right side of the bar\n  bars.enter()\n    .append(\"text\")\n    .attr(\"class\", \"bar-text\")\n    .attr(\"x\", (d) => x(d[riskColumn.value]) + 5) // Position text slightly to the right of the bar\n    .attr(\"y\", (d) => y(d.country) + y.bandwidth() / 2)\n    .attr(\"dy\", \".35em\") // Vertically center the text\n    .text((d) => d[riskColumn.value].toFixed(1)) // Display the risk value to one decimal place\n    .style(\"fill\", \"black\")\n    .style(\"font-size\", \"12px\")\n    .style(\"font-weight\", \"bold\");\n\n  // Update phase (bars that already exist)\n  bars.transition()\n    .duration(1000)\n    .ease(d3.easeCubicOut)\n    .attr(\"y\", (d) => y(d.country)) // Update position\n    .attr(\"width\", (d) => x(d[riskColumn.value])) // Animate width change\n    .attr(\"fill\", (d) => colorScale(d[riskColumn.value]));\n\n  // Update text for the data point\n  bars.select(\".bar-text\")\n    .transition()\n    .duration(1000)\n    .ease(d3.easeCubicOut)\n    .attr(\"x\", (d) => x(d[riskColumn.value]) + 5) // Adjust position with width change\n    .text((d) => d[riskColumn.value].toFixed(2));\n\n  // Remove phase (bars that no longer have data)\n  bars.exit()\n    .transition()\n    .duration(500)\n    .attr(\"width\", 0)\n    .remove();\n\n  // Remove text for data points when the bar is removed\n  bars.exit()\n    .select(\".bar-text\")\n    .transition()\n    .duration(500)\n    .attr(\"x\", 0)\n    .remove();\n\n  // Append x-axis\n  svg.append(\"g\").attr(\"class\", \"x-axis\").call(d3.axisTop(x));\n  svg.append(\"g\").attr(\"class\", \"y-axis\").call(d3.axisLeft(y));\n};\n\n\n\n\nwatch(riskColumn, () => {\n  createChart(chartData.value);\n\n  if (geoJsonData.value) {\n    geoJsonData.value.features.forEach(feature => {\n      feature.properties.fillColor = feature.properties[riskColumn.value] !== null && feature.properties[riskColumn.value] !== undefined\n        ? colorScale(feature.properties[riskColumn.value])\n        : \"#D3D3D3\";\n    });\n\n    // Force Vue to recognize the change in geoJsonData\n    geoJsonData.value = { ...geoJsonData.value };\n  }\n});\n\n\n// Watch for changes to sortMethod and update the chart\nwatch(sortMethod, () => {\n  createChart(chartData.value); // Recreate the chart with the new sort method\n});\n\n// Watch for changes to chartData and update the chart\nwatch(chartData, (newData) => {\n  if (newData.length > 0) {\n    createChart(newData);\n  }\n});\n\n</script>\n\n\n\n<template>\n  <div class=\"container\">\n    <h3 class=\"main-title\">INFORM Risk 2025</h3>\n\n    <!-- Filter Controls (Radio buttons) -->\n    <div class=\"filter-controls\">\n      <label>\n        <input type=\"radio\" v-model=\"riskColumn\" value=\"inform_risk\" /> INFORM Risk Index\n      </label>\n      <label>\n        <input type=\"radio\" v-model=\"riskColumn\" value=\"hazard_and_exposure\" /> Hazard & Exposure\n      </label>\n      <label>\n        <input type=\"radio\" v-model=\"riskColumn\" value=\"vulnerability\" /> Vulnerability\n      </label>\n      <label>\n        <input type=\"radio\" v-model=\"riskColumn\" value=\"lack_of_coping_capacity\" /> Lack of Coping Capacity\n      </label>\n    </div>\n\n    <!-- Sorting Controls (Radio buttons) -->\n    <div class=\"sort-controls\">\n      <label>\n        <input type=\"radio\" v-model=\"sortMethod\" value=\"alphabetical\" /> Alphabetical\n      </label>\n      <label>\n        <input type=\"radio\" v-model=\"sortMethod\" value=\"ascending\" /> Ascending\n      </label>\n      <label>\n        <input type=\"radio\" v-model=\"sortMethod\" value=\"descending\" /> Descending\n      </label>\n    </div>\n\n    <div class=\"content\">\n<!-- Leaflet Map -->\n<div class=\"map-container\">\n  <l-map ref=\"map\" v-model:zoom=\"zoom\" :center=\"[0, 0]\" :zoom=\"zoom\">\n    <l-tile-layer url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\" layer-type=\"base\"\n      attribution=\"OpenStreetMap | contributors: CartoDB\" subdomains=\"abcd\"></l-tile-layer>\n\n    <l-geo-json :geojson=\"geoJsonData\" :options-style=\"geoJsonStyle\">\n      <template #popup=\"{ feature }\">\n        <l-popup>\n          <strong>{{ feature.properties.name }}</strong><br>\n          Risk Level: {{ feature.properties[riskColumn.value] || \"N/A\" }}\n        </l-popup>\n      </template>\n    </l-geo-json>\n  </l-map>\n\n  <!-- 📌 Overlay message div goes here -->\n  <div v-if=\"riskColumn === 'inform_risk'\" class=\"map-overlay-message\">\n    <p>What is the INFORM Risk Index?\nINFORM started in 2012 when groups like the UN, charities, and researchers teamed up to better understand where disasters might happen, and which countries might need the most help.\nThe INFORM Risk Index looks at which countries are most at risk of big problems—like natural disasters or conflicts—that could lead to a crisis. It focuses on three main things:\n1.\tHazards & Exposure\n2.\tVulnerability\n3.\tLack of Coping Capacity\nThe goal is to use this information to plan, send help where it’s needed most, and try to stop disasters from becoming even worse.\n</p>\n  </div>\n</div>\n\n      <!-- INFORM Risk Index Chart -->\n      <div class=\"chart-container\">\n        <div id=\"INFORM-chart\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n\n<style scoped>\n/* Layout */\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100%; /* Fill the height of parent instead of viewport */\n  width: 100%;\n  box-sizing: border-box; /* Respect parent padding if any */\n  padding: 4rem 5rem 5rem 5rem;\n}\n\n\n.main-title {\n  text-align: center;\n  margin: 10px 0;\n}\n\n.filter-controls,\n.sort-controls {\n  text-align: center;\n  margin: 5px 0;\n}\n\n.content {\n  flex: 1; /* Take up the remaining space */\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  width: 100%;\n  overflow: hidden; /* Prevent content from spilling */\n}\n\n/* Map container */\n.map-container {\n  width: 50%;\n  height: 100%;\n  position: relative;\n}\n\nl-map {\n  width: 100%;\n  height: 100%;\n}\n\n/* Chart container */\n.chart-container {\n  width: 50%;\n  height: 100%;\n  overflow-y: auto;\n}\n\n\n#INFORM-chart {\n  width: 100%;\n  overflow-y: auto;\n}\n\n.bar:hover {\n  fill: orange;\n}\n\nh3 {\n  margin: 0 0 10px 0;\n}\n\n.map-container {\n  position: relative;\n}\n\n.map-overlay-message {\n  position: absolute;\n  bottom: 25px;\n  left: 10px;\n  right: 10px;\n  background-color: snow;\n  padding: 12px 16px;\n  border-radius: 4px;\n  font-size: 14px;\n  color: #333;\n  z-index: 999;\n}\n\n</style>\n","import script from \"./INFORMRiskIndex.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./INFORMRiskIndex.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./INFORMRiskIndex.vue?vue&type=style&index=0&id=16407b86&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-16407b86\"]])\n\nexport default __exports__","<template>\n    <div class=\"coping-container\">\n        <h3>Coping Mechanisms</h3>\n        <div class=\"coping-mechanisms\">\n            <h4>Dams: Water Storage</h4>\n            <h4>Wells</h4>\n            <h4>Traditional water management</h4>\n            <h4>Desalination</h4>\n            <h4>Other Methods: Water Conservation</h4>\n        </div>\n    </div>\n</template>\n\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.coping-mechanisms {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    gap: 30px;\n}\n\nh3 {\n    width: 100%;\n}\n</style>","import { render } from \"./CopingMechanisms.vue?vue&type=template&id=0ca485f6&scoped=true\"\nconst script = {}\n\nimport \"./CopingMechanisms.vue?vue&type=style&index=0&id=0ca485f6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ca485f6\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=4949abda\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=4949abda&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"24\":\"0ead91ae\",\"71\":\"288da8dc\",\"249\":\"2e656ac8\",\"791\":\"72813729\",\"886\":\"ad991733\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"lsq-thesis:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/Thesis/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklsq_thesis\"] = self[\"webpackChunklsq_thesis\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6834); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_HelloMorocco","msg","_Fragment","_renderList","$data","steps","stepComponent","index","key","class","_createBlock","_resolveDynamicComponent","$options","setActiveStep","_createElementVNode","_createTextVNode","href","target","rel","_toDisplayString","$props","name","props","String","__exports__","_component_l_map","ref","zoom","_cache","$event","center","default","_withCtx","_component_l_tile_layer","url","attribution","subdomains","_","components","LMap","LTileLayer","data","mounted","this","loadGeoJsonMap","methods","d3","filteredData","filter","d","ISO","rolledUpData","v","length","console","log","error","precipWrapperRef","chartRefs","legendRefs","historicalData","projectedData","projectedColumns","filteredPrecipitationColumns","computed","value","col","toLowerCase","includes","getDropdownTitle","replace","onMounted","observer","observe","IntersectionObserver","entries","forEach","entry","isIntersecting","classList","add","triggerPrecipitationAnimation","remove","threshold","column","historical","map","year","Math","round","parseFloat","source","isNaN","projected","combinedRaw","combinedData","getYearlySums","unitPerEllipse","renderPrecipitationCircles","renderLegend","svgEl","svg","selectAll","dropSize","dropWidth","dropHeight","colorMap","dropPath","moveTo","bezierCurveTo","legendItems","type","i","centerX","centerY","append","attr","toString","text","container","parentNode","width","getBoundingClientRect","height","margin","top","right","bottom","left","innerWidth","innerHeight","g","years","Array","from","Set","sort","a","b","xScale","domain","range","padding","maxValue","yScale","color","totalCircles","floor","barCenter","bandwidth","ellipseRx","min","dropYmm","dropY","randomYOffset","random","randomDelay","transition","delay","duration","ease","xTickYears","y","arr","enter","style","ticks","toFixed","hoverBar","on","event","interrupt","hoverColor","yearlySums","values","sum","find","watch","async","histCol","nextTick","hist","proj","Object","keys","err","heatmapRefs","hoveredBlock","wrapperRef","selectedColumnGroup","selectedProjectedColumn","showOverlay","legendColors","label","filteredProjectedColumnOptions","reverse","getScenarioInfo","columnName","title","subtitle","soundBite","message","renderUnifiedHeatmap","isLastHeatmap","months","month","colorScale","xAxisTicks","filtered","immediate","showBlocks","defaultGroup","defaultOptions","fill","at","setTimeout","disconnect","window","addEventListener","onBeforeUnmount","removeEventListener","script","_component_l_geo_json","geojson","geoJsonData","LGeoJson","fetch","then","response","json","catch","chartData","sortMethod","riskColumn","windowWidth","handleResize","createChart","geoJsonStyle","feature","riskValue","properties","fillColor","undefined","weight","opacity","fillOpacity","riskData","row","normalizedRow","normalizedKey","inform_risk","vulnerability","hazard_and_exposure","lack_of_coping_capacity","geoJsonResponse","geoJson","features","riskInfo","country","SOVEREIGNT","iso3","SOV_A3","select","barHeight","svgHeight","sortedData","localeCompare","x","nice","bars","exit","call","newData","HelloMorocco","MoroccoMapView","RainfallPrecipitation","MeanTemperature","SheepCattleHerds","LandPloughedWheat","CopingMechanisms","WorldMapViewTimeline","INFORMRiskIndex","activeStep","handleKeyPress","beforeUnmount","e","code","preventDefault","goToStep","stepEls","document","querySelectorAll","el","scrollIntoView","behavior","block","directives","intersect","binding","rootMargin","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","obj","__proto__","t","mode","ns","create","def","current","indexOf","getOwnPropertyNames","definition","o","defineProperty","enumerable","get","f","chunkId","Promise","all","reduce","promises","u","miniCssF","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","push","needAttach","scripts","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","src","onScriptComplete","prev","onerror","onload","clearTimeout","doneFns","removeChild","bind","head","appendChild","Symbol","toStringTag","p","installedChunks","installedChunkData","promise","resolve","reject","Error","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}