(function(){"use strict";var e={4191:function(e,t,a){var r=a(5130),n=a(6768);const o={id:"scrollyteller"};function l(e,t,a,r,l,i){const s=(0,n.g2)("HelloMorocco"),u=(0,n.gN)("intersect");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(s,{msg:"Droughts! Floods! Fires!"}),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.steps,((e,t)=>(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",{key:t,class:"charts-wrapper"},[((0,n.uX)(),(0,n.Wv)((0,n.$y)(e)))])),[[u,()=>i.setActiveStep(t)]]))),128)),t[0]||(t[0]=(0,n.Lk)("div",{class:"footer"},[(0,n.Lk)("p",null,[(0,n.eW)(" To check out other projects Lisa has created, visit "),(0,n.Lk)("a",{href:"https://lsq.design",target:"_blank",rel:"noopener"},"lsq.design"),(0,n.eW)(". ")])],-1))])}var i=a(4232);const s={class:"hello"};function u(e,t,a,r,o,l){return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("h1",null,(0,i.v_)(a.msg),1),t[0]||(t[0]=(0,n.Lk)("h2",null,"A Case Study of Morocco and Climate Change",-1))])}var c={name:"HelloMorocco",props:{msg:String}},d=a(1241);const p=(0,d.A)(c,[["render",u],["__scopeId","data-v-1e23afca"]]);var v=p;const h={class:"morocco-map-container"};function m(e,t,a,r,o,l){const i=(0,n.g2)("l-tile-layer"),s=(0,n.g2)("l-map");return(0,n.uX)(),(0,n.CE)("div",h,[(0,n.bF)(s,{ref:"map",zoom:o.zoom,"onUpdate:zoom":t[0]||(t[0]=e=>o.zoom=e),center:[28.7917,-7.9926]},{default:(0,n.k6)((()=>[(0,n.bF)(i,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png","layer-type":"base",attribution:"OpenStreetMap | contributors: CartoDB",subdomains:"abcd"})])),_:1},8,["zoom"])])}a(8111),a(2489);var f=a(1614),g=a(6265),y={components:{LMap:f.Do,LTileLayer:f.a},data(){return{zoom:5}},mounted(){this.loadGeoJsonMap()},methods:{async loadGeoJsonMap(){try{const e=await g.fu7("./data/EM-DAT-data-ALL.csv"),t=e.filter((e=>"MAR"===e.ISO&&("Meteorological"===e["Disaster Subgroup"]||"Hydrological"===e["Disaster Subgroup"]))),a=g.zaV(t,(e=>e.length),(e=>e["Disaster Type"]),(e=>e["Disaster Subtype"]),(e=>e["Start Year"]));console.log("Rolled Up Data for MAR (Meteorological & Hydrological):",a)}catch(e){console.error("Error loading CSV:",e)}}}};const b=(0,d.A)(y,[["render",m]]);var k=b,w=(a(116),a(7588),a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(144));const x={class:"bar-chart-content"},L={class:"legend"};var _={__name:"RainfallPrecipitation",setup(e){const t=(0,w.KR)(null),a={},r={},o=(0,w.KR)([]),l=(0,w.KR)([]),i=(0,w.KR)([]),s=(0,n.EW)((()=>i.value.filter((e=>e.toLowerCase().includes("precipitation")&&e.includes("8.5")))));(0,n.sV)((()=>{t.value&&u.observe(t.value)}));const u=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(e.target.classList.add("in-view"),c()):e.target.classList.remove("in-view")}))}),{threshold:.5});function c(){s.value.forEach((e=>{const t=o.value.map((e=>({year:+e.year,value:Math.round(parseFloat(e["Precipitation"])),source:"historical"}))).filter((e=>!isNaN(e.value))),r=l.value.filter((e=>2020!==+e.year)).map((t=>({year:+t.year,value:Math.round(parseFloat(t[e])),source:"projected"}))).filter((e=>!isNaN(e.value))),n=[...t,...r],i=h(n),s=10;v(i,a[e],e,s)}))}function d(e,t){const a=g.Ltv(t);a.selectAll("*").remove();const r=10,n=r,o=1.3*r,l={historical:"#089c9d",projected:"#40E0D0",regression:"url(#regressionGradient)"},i=g.AeT();i.moveTo(0,-o/2),i.bezierCurveTo(n/2,-o/2,n/2,o/4,0,o/2),i.bezierCurveTo(-n/2,o/4,-n/2,-o/2,0,-o/2);const s=["historical","projected","regression"];s.forEach(((t,r)=>{const n=20,o=20+25*r;"regression"===t?(a.append("line").attr("x1",n-5).attr("x2",n+15).attr("y1",o).attr("y2",o).attr("stroke","#5C4033").attr("stroke-width",2),a.append("text").attr("x",n+20).attr("y",o+5).attr("fill","#333").attr("font-size","12px").text("Trend (Regression Line)")):(a.append("path").attr("d",i.toString()).attr("transform",`translate(${n}, ${o}) scale(1, -1)`).attr("fill",l[t]),a.append("text").attr("x",n+15).attr("y",o+5).attr("fill","#333").attr("font-size","12px").text(`${"historical"===t?"Past":"Future"}: 1 raindrop = ${Math.round(e)} mm`))})),a.attr("width",250).attr("height",90)}function p(e,t){const a=g.i2o(e),r=g.i2o(t),n=g.czq(e.map(((e,n)=>(e-a)*(t[n]-r))))/g.czq(e.map((e=>(e-a)**2))),o=r-n*a;return{slope:n,intercept:o,predict:e=>o+n*e}}function v(e,t,a,n){if(!t||!e.length)return;const o=t.parentNode,l=o.getBoundingClientRect().width,i=o.getBoundingClientRect().height,u=g.Ltv(t).attr("width",l).attr("height",i).attr("viewBox",`0 0 ${l} ${i}`);u.selectAll("*").remove();const c={top:20,right:20,bottom:60,left:60},v=l-c.left-c.right,h=i-c.top-c.bottom,m=u.append("g").attr("transform",`translate(${c.left},${c.top})`),f=Array.from(new Set(e.map((e=>e.year)))).sort(((e,t)=>e-t)),y=g.WH().domain(f).range([0,v]).padding(.1),b=g.T9B(e,(e=>e.value)),k=g.m4Y().domain([0,b]).range([h,0]),w=g.UMr().domain(["historical","projected"]).range(["#089c9d","#40E0D0"]),x=p(e.map((e=>e.year)),e.map((e=>e.value))),L=g.n8j().x((e=>y(e.year)+y.bandwidth()/2)).y((e=>k(x.predict(e.year)))),_=[{year:g.jkA(e,(e=>e.year))},{year:g.T9B(e,(e=>e.year))}],M=u.append("defs"),C=M.append("linearGradient").attr("id","regressionGradient").attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%");C.append("stop").attr("offset","0%").attr("stop-color","#DEB887"),C.append("stop").attr("offset","100%").attr("stop-color","#5C4033");const F=m.append("path").datum(_).attr("fill","none").attr("stroke","url(#regressionGradient)").attr("stroke-width",2).attr("d",L),S=F.node().getTotalLength();F.attr("stroke-dasharray",`${S} ${S}`).attr("stroke-dashoffset",S).transition().duration(3e3).ease(g.TD8).attr("stroke-dashoffset",0),a===s.value[0]&&d(n,r[a]),e.forEach((e=>{const t=Math.floor(e.value/n),a=y(e.year)+y.bandwidth()/2,r=Math.min(y.bandwidth()/3,12);for(let o=0;o<t;o++){const t=n*(o+1),l=k(t),i=100*Math.random()+20,s=800*Math.random(),u=2.5*r,c=2*r,d=g.AeT();d.moveTo(0,-u/2),d.bezierCurveTo(c/2,-u/2,c/2,u/4,0,u/2),d.bezierCurveTo(-c/2,u/4,-c/2,-u/2,0,-u/2),m.append("path").attr("d",d.toString()).attr("transform",`translate(${a}, ${-i}) scale(1, -1)`).attr("fill",w(e.source)).transition().delay(s).duration(2e3).ease(g.JKS).attr("transform",`translate(${a}, ${l}) scale(1, -1)`)}}));const A=f.filter(((e,t,a)=>0===t||t===a.length-1||e%10===0));m.append("g").selectAll("text.x-axis").data(A).enter().append("text").attr("class","x-axis").attr("x",(e=>y(e)+y.bandwidth()/2)).attr("y",h+25).style("text-anchor","middle").text((e=>e)),m.append("g").selectAll("line.x-axis-tick").data(A).enter().append("line").attr("class","x-axis-tick").attr("x1",(e=>y(e)+y.bandwidth()/2)).attr("x2",(e=>y(e)+y.bandwidth()/2)).attr("y1",h).attr("y2",h+6).style("stroke","black").style("stroke-width",1),m.append("g").selectAll("text.y-axis").data(k.ticks(5).filter((e=>0!==e))).enter().append("text").attr("class","y-axis").attr("x",-40).attr("y",(e=>k(e)+5)).style("text-anchor","middle").text((e=>e.toFixed(0))),m.append("g").selectAll("line.y-axis-tick").data(k.ticks(5).filter((e=>0!==e))).enter().append("line").attr("class","y-axis-tick").attr("x1",-20).attr("x2",-10).attr("y1",(e=>k(e))).attr("y2",(e=>k(e))).style("stroke","black").style("stroke-width",1);const T=m.append("rect").attr("class","hover-bar").attr("width",y.bandwidth()).attr("fill-opacity",.7).style("display","none").attr("y",h).attr("height",0);m.selectAll(".hover-zone").data(e).enter().append("rect").attr("class","hover-zone").attr("x",(e=>y(e.year))).attr("y",0).attr("width",y.bandwidth()).attr("height",h).attr("fill","transparent").on("mouseover",(function(e,t){T.interrupt();const a=w(t.source);T.style("display","block").transition().duration(500).ease(g.TD8).attr("x",y(t.year)).attr("y",k(t.value)).attr("height",h-k(t.value)).attr("fill",a),m.selectAll(".bar-label").remove(),m.append("text").attr("class","bar-label").attr("x",y(t.year)+y.bandwidth()/2).attr("y",k(t.value)-10).attr("text-anchor","middle").attr("fill","#333").attr("opacity",0).text(`${Math.round(t.value)} mm`).transition().duration(500).attr("opacity",1)})).on("mouseout",(function(){T.interrupt(),T.transition().duration(500).ease(g.TD8).attr("y",h).attr("height",0).style("display","none"),m.selectAll(".bar-label").transition().duration(300).attr("opacity",0).remove()}))}function h(e){const t=g.i8y(e,(e=>g.czq(e,(e=>e.value))),(e=>e.year)).map((([t,a])=>({year:t,value:a,source:e.find((e=>e.year===t)).source})));return t}return(0,n.wB)([o,l],(async()=>{if(!o.value.length||!l.value.length)return;const e="Precipitation";for(const t of s.value){const r=o.value.map((t=>({year:+t.year,value:Math.round(parseFloat(t[e])),source:"historical"}))).filter((e=>!isNaN(e.value))),i=l.value.filter((e=>2020!==+e.year)).map((e=>({year:+e.year,value:Math.round(parseFloat(e[t])),source:"projected"}))).filter((e=>!isNaN(e.value))),s=[...r,...i],u=h(s);await(0,n.dY)();const c=10;v(u,a[t],t,c)}})),(0,n.sV)((async()=>{try{const e=await g.fu7("./data/MeanMaxSurfaceAirTempuratureAndPrecipitation-1951-2020-Month.csv"),t=await g.fu7("./data/AverageMeanAndMaxSurfaceAirTemperatureAndPrecipitation-2020-2099-Month-FourScenarios.csv");o.value=e,l.value=t,i.value=Object.keys(t[0]||{})}catch(e){console.error("Error loading CSV data:",e)}})),(e,o)=>((0,n.uX)(),(0,n.CE)("div",{class:"precip-wrapper bar-chart",ref_key:"precipWrapperRef",ref:t},[o[0]||(o[0]=(0,n.Lk)("h3",null,"Historical + Projected Precipitation",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.value,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e,class:"bar-chart-block"},[(0,n.Lk)("div",x,[(0,n.Lk)("div",L,[((0,n.uX)(),(0,n.CE)("svg",{ref_for:!0,ref:t=>r[e]=t,height:"40"},null,512))]),((0,n.uX)(),(0,n.CE)("svg",{ref_for:!0,ref:t=>a[e]=t},null,512))])])))),128))],512))}};const M=(0,d.A)(_,[["__scopeId","data-v-5b6ed000"]]);var C=M;const F={class:"control-container"},S={class:"left-controls"},A={class:"radio-buttons"},T={class:"overlay-toggle"},E={class:"legend"},R={class:"legend-items"},O={class:"heatmap-container"},z=["onMouseenter"],j={class:"heatmap-visual"},D=["data-last-heatmap"],I={class:"cover-message"},P=["innerHTML"];var W={__name:"MeanTemperature",setup(e){const t={},a=(0,w.KR)(null),o=(0,w.KR)(null),l=(0,w.KR)(null),s=(0,w.KR)([]),u=(0,w.KR)([]),c=(0,w.KR)([]),d=(0,w.KR)("max"),p=(0,w.KR)(""),v=(0,w.KR)(!0),h=[{color:"#40E0D0",label:"15°C"},{color:"#7FFF00",label:"20°C"},{color:"#FFFF00",label:"25°C"},{color:"#FF8000",label:"30°C"},{color:"#FF0000",label:"35°C"},{color:"#820747",label:"40°C+"}],m=(0,n.EW)((()=>c.value.filter((e=>"mean"===d.value?e.toLowerCase().includes("mean"):e.toLowerCase().includes("max"))).reverse())),f=e=>e.includes("SSP1-2.6")?{title:"🌱 Green Leap",subtitle:"SSP1-2.6: Best-Case Scenario",soundBite:"🌿 Too late for the leap — we missed this train.",message:"Aiming high on sustainability, this scenario sees the world making strong progress on cutting emissions, hitting net-zero after 2050. The result? Global warming is likely kept below 2°C by 2100. It’s the climate-friendly path."}:e.includes("SSP2-4.5")?{title:"🌍 Middle Ground",subtitle:"SSP2-4.5: Business-as-Usual Scenario",soundBite:"🛤️ Still on track — but drifting toward danger.",message:"This is the “do a little, but not too much” path. Emissions stay close to current levels until around mid-century, then slowly decline. Net-zero isn't reached until <i>after</i> 2100. It's a compromise route, with moderate climate action and moderate consequences."}:e.includes("SSP3-7.0")?{title:"🔥 Divided Drift",subtitle:"SSP3-7.0: Worsening Scenario",soundBite:"⚠️ Cracks in the system — and no one’s patching them.",message:"In this future, the world is fragmented, with regional tensions and little cooperation. Emissions keep rising, nearly doubling by 2100. Climate action takes a back seat, leading to increasing global risks and instability."}:e.includes("SSP5-8.5")?{title:"💣 Turbocharged Trouble",subtitle:"SSP5-8.5: Worst-Case Scenario",soundBite:"🚨 Pedal to the metal — and no brakes in sight.",message:"Fueled by fossil energy and tech innovation, this path prioritizes economic growth over sustainability. Emissions soar, and radiative forcing reaches the highest levels— it’s the “worst-case” outlook. It's the high-speed lane to extreme climate change."}:{title:e,subtitle:e,soundBite:"🤷‍♂️ Unknown path — map not available.",message:"Scenario description unavailable."};function y(e,t,a){if(!t||!e.length)return;const r=t.parentNode,n=r.getBoundingClientRect().width,o=r.getBoundingClientRect().height,l=Array.from(new Set(e.map((e=>e.month)))).reverse(),i=Array.from(new Set(e.map((e=>e.year)))),s={top:10,right:20,bottom:30,left:60},u=o-s.top-s.bottom,c=n-s.left-s.right,d=g.Ltv(t).attr("width","100%").attr("height","100%").attr("viewBox",`0 0 ${n} ${o}`);d.selectAll("*").remove();const p=g.WH().domain(i).range([0,c]).padding(.05),v=g.WH().domain(l).range([u,0]).padding(.05),h=g.c3b().domain([15,20,25,30,35]).range(["#40E0D0","#7FFF00","#FFFF00","#FF8000","#FF0000","#820747"]),m=d.append("g").attr("transform",`translate(${s.left},${s.top})`),f=i.filter(((e,t)=>0===t||t===i.length-1||e%10===0));a&&m.append("g").selectAll("text.x-axis").data(f).enter().append("text").attr("class","x-axis").attr("x",(e=>p(e)+p.bandwidth()/2)).attr("y",u+25).style("text-anchor","middle").text((e=>e)),m.append("g").selectAll("line.x-axis-tick").data(f).enter().append("line").attr("x1",(e=>p(e)+p.bandwidth()/2)).attr("x2",(e=>p(e)+p.bandwidth()/2)).attr("y1",u).attr("y2",u+6).style("stroke","black"),m.append("g").selectAll("text.y-axis").data(l).enter().append("text").attr("class","y-axis").attr("x",-25).attr("y",(e=>v(e)+v.bandwidth()/1.25)).style("text-anchor","middle").text((e=>e)),m.selectAll(".heatmap-cell").data(e).enter().append("rect").attr("class","heatmap-cell").attr("x",(e=>p(e.year))).attr("y",(e=>v(e.month))).attr("width",p.bandwidth()).attr("height",v.bandwidth()).style("fill",(e=>h(e.value))).style("opacity",0).transition().duration(500).style("opacity",1)}(0,n.wB)(d,(()=>{const e=m.value;p.value=e.length>0?e[0]:""})),(0,n.wB)([s,u,d],(async()=>{if(s.value.length&&u.value.length)for(const[e,a]of m.value.entries()){const r="mean"===d.value?"Mean Temp":"Max Temp",o=[...s.value.map((e=>({year:+e.year,month:e.month,value:parseFloat(e[r]),source:"historical"}))),...u.value.map((e=>({year:+e.year,month:e.month,value:parseFloat(e[a]),source:"projected"})))];await(0,n.dY)();const l=e===m.value.length-1;y(o,t[a],l)}}),{immediate:!0});const b=(0,w.KR)([]);return(0,n.sV)((async()=>{try{const e=await g.fu7("./data/MeanMaxSurfaceAirTempuratureAndPrecipitation-1951-2020-Month.csv"),a=await g.fu7("./data/AverageMeanAndMaxSurfaceAirTemperatureAndPrecipitation-2020-2099-Month-FourScenarios.csv");s.value=e,u.value=a,c.value=Object.keys(a[0]||{});const r=d.value,o=c.value.filter((e=>"mean"===r?e.toLowerCase().includes("mean"):e.toLowerCase().includes("max")));p.value=o[0],b.value=Array(m.value.length).fill(!1);for(let n=0;n<m.value.length;n++){const e=m.value[n],a="mean"===d.value?"Mean Temp":"Max Temp",r=[...s.value.map((e=>({year:+e.year,month:e.month,value:parseFloat(e[a]),source:"historical"}))),...u.value.map((t=>({year:+t.year,month:t.month,value:parseFloat(t[e]),source:"projected"})))];y(r,t[e],e===m.value.at(-1))}let i;l.value=new IntersectionObserver((e=>{const a=e[0];if(a.isIntersecting){b.value=Array(m.value.length).fill(!1);for(let e=0;e<m.value.length;e++){const a=m.value[e],r="mean"===d.value?"Mean Temp":"Max Temp",n=[...s.value.map((e=>({year:+e.year,month:e.month,value:parseFloat(e[r]),source:"historical"}))),...u.value.map((e=>({year:+e.year,month:e.month,value:parseFloat(e[a]),source:"projected"})))];y(n,t[a],a===m.value.at(-1)),setTimeout((()=>{b.value[e]=!0}),1e3*e)}}}),{threshold:.3});const v=()=>{clearTimeout(i),i=setTimeout((()=>{for(const e of m.value){const a="mean"===d.value?"Mean Temp":"Max Temp",r=[...s.value.map((e=>({year:+e.year,month:e.month,value:parseFloat(e[a]),source:"historical"}))),...u.value.map((t=>({year:+t.year,month:t.month,value:parseFloat(t[e]),source:"projected"})))];y(r,t[e],e===m.value.at(-1))}}),1e3)};window.addEventListener("resize",v),(0,n.xo)((()=>{window.removeEventListener("resize",v)}))}catch(e){console.error("Error loading CSV data:",e)}o.value&&l.value&&l.value.observe(o.value)})),(0,n.xo)((()=>{l.value&&o.value&&l.value.unobserve(o.value),window.removeEventListener("resize",y)})),(e,l)=>((0,n.uX)(),(0,n.CE)("div",{ref_key:"wrapperRef",ref:o,class:"temperature-wrapper unified-heatmap"},[l[12]||(l[12]=(0,n.Lk)("h3",null,"Historical + Projected Surface Air Temperature",-1)),(0,n.Lk)("div",F,[(0,n.Lk)("div",S,[(0,n.Lk)("div",A,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":l[0]||(l[0]=e=>d.value=e),value:"max"},null,512),[[r.XL,d.value]]),l[5]||(l[5]=(0,n.eW)(" Max "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),value:"mean"},null,512),[[r.XL,d.value]]),l[6]||(l[6]=(0,n.eW)(" Mean "))])]),(0,n.Lk)("div",T,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",value:!0,"onUpdate:modelValue":l[2]||(l[2]=e=>v.value=e)},null,512),[[r.XL,v.value]]),l[7]||(l[7]=(0,n.eW)(" Show Covers "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio",value:!1,"onUpdate:modelValue":l[3]||(l[3]=e=>v.value=e)},null,512),[[r.XL,v.value]]),l[8]||(l[8]=(0,n.eW)(" Hide Covers "))])])]),(0,n.Lk)("div",E,[(0,n.Lk)("div",R,[((0,n.uX)(),(0,n.CE)(n.FK,null,(0,n.pI)(h,((e,t)=>(0,n.Lk)("div",{class:"legend-item",key:t},[(0,n.Lk)("div",{class:"legend-color",style:(0,i.Tr)({backgroundColor:e.color})},null,4),(0,n.Lk)("span",null,(0,i.v_)(e.label),1)]))),64))])])]),(0,n.Lk)("div",O,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(m.value,((e,r)=>((0,n.uX)(),(0,n.CE)("div",{key:e,class:(0,i.C4)(["heatmap-block",{visible:b.value[r]}]),onMouseenter:t=>a.value=e,onMouseleave:l[4]||(l[4]=e=>a.value=null)},[(0,n.Lk)("div",j,[((0,n.uX)(),(0,n.CE)("svg",{ref_for:!0,ref:a=>t[e]=a,"data-last-heatmap":r===m.value.length-1},null,8,D)),(0,n.Lk)("div",{class:(0,i.C4)(["heatmap-cover",{hidden:a.value===e||!v.value}])},[(0,n.Lk)("div",I,[(0,n.Lk)("strong",null,(0,i.v_)(f(e).title),1),l[9]||(l[9]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("em",null,(0,i.v_)(f(e).subtitle),1),l[10]||(l[10]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("span",null,(0,i.v_)(f(e).soundBite),1),l[11]||(l[11]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("span",{innerHTML:f(e).message},null,8,P)])],2)])],42,z)))),128))])],512))}};const X=(0,d.A)(W,[["__scopeId","data-v-ee995c70"]]);var N=X;const V={class:"sheep-cattle-herds"};function K(e,t){return(0,n.uX)(),(0,n.CE)("div",V,t[0]||(t[0]=[(0,n.Lk)("h3",null,"Decreasing Sheep and Cattle Herds Graphic",-1)]))}const B={},$=(0,d.A)(B,[["render",K],["__scopeId","data-v-c9bbc43a"]]);var U=$;const H={class:"land-ploughed-wheat"};function G(e,t){return(0,n.uX)(),(0,n.CE)("div",H,t[0]||(t[0]=[(0,n.Lk)("h3",null,"Amount of Land Ploughed for Wheat Graphic",-1)]))}const q={},J=(0,d.A)(q,[["render",G],["__scopeId","data-v-296d7feb"]]);var Y=J;const Q={class:"map-container"};function Z(e,t,a,r,o,l){const i=(0,n.g2)("l-tile-layer"),s=(0,n.g2)("l-geo-json"),u=(0,n.g2)("l-map");return(0,n.uX)(),(0,n.CE)("div",Q,[(0,n.bF)(u,{ref:"map",zoom:o.zoom,"onUpdate:zoom":t[0]||(t[0]=e=>o.zoom=e),center:[0,0]},{default:(0,n.k6)((()=>[(0,n.bF)(i,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png","layer-type":"base",attribution:"OpenStreetMap | contributors: CartoDB",subdomains:"abcd"}),(0,n.bF)(s,{geojson:o.geoJsonData},null,8,["geojson"])])),_:1},8,["zoom"])])}var ee={components:{LMap:f.Do,LTileLayer:f.a,LGeoJson:f.q7},data(){return{zoom:2,geoJsonData:null}},mounted(){fetch("./data/country-boundaries.geojson").then((e=>e.json())).then((e=>{this.geoJsonData=e})).catch((e=>{console.error("Error loading GeoJSON file:",e)}))}};const te=(0,d.A)(ee,[["render",Z]]);var ae=te;const re={class:"container"},ne={class:"filter-controls"},oe={class:"sort-controls"},le={class:"content"},ie={class:"map-container"},se={key:0,class:"map-overlay-message"};var ue={__name:"INFORMRiskIndex",setup(e){const t=(0,w.KR)(2),a=(0,w.KR)(null),o=(0,w.KR)([]),l=(0,w.KR)("alphabetical"),s=(0,w.KR)("inform_risk"),u=(0,w.KR)(window.innerWidth),c=()=>{u.value=window.innerWidth,h(o.value)};(0,n.sV)((()=>{window.addEventListener("resize",c),v(),h(o.value)})),(0,n.xo)((()=>{window.removeEventListener("resize",c)}));const d=g.c3b().domain([0,2,4,6,8,10]).range(["white","#7FFF00","#FFFF00","#FF8000","#FF0000","#820747","#D3D3D3"]),p=e=>{const t=e.properties[s.value];return{fillColor:null!==t&&void 0!==t?d(t):"#D3D3D3",weight:.5,opacity:1,color:"black",fillOpacity:1}},v=async()=>{try{const e=await g.fu7("./data/INFORM_Risk_2025_v069_index.csv"),t=e.map((e=>{let t={};for(const[a,r]of Object.entries(e)){const e=a.toLowerCase().replace(/\s+/g,"_").replace(/&/g,"and");t[e]=r}return t.inform_risk=+t.inform_risk,t.vulnerability=+t.vulnerability,t.hazard_and_exposure=+t.hazard_and_exposure,t.lack_of_coping_capacity=+t.lack_of_coping_capacity,t}));o.value=t;const r=await fetch("./data/country-boundaries.geojson"),n=await r.json();n.features.forEach((e=>{let a=t.find((t=>t.country===e.properties.SOVEREIGNT))||t.find((t=>t.iso3===e.properties.SOV_A3));a?(e.properties.inform_risk=a.inform_risk,e.properties.vulnerability=a.vulnerability,e.properties.hazard_and_exposure=a.hazard_and_exposure,e.properties.lack_of_coping_capacity=a.lack_of_coping_capacity):(e.properties.inform_risk=null,e.properties.vulnerability=null,e.properties.hazard_and_exposure=null,e.properties.lack_of_coping_capacity=null)})),a.value=n}catch(e){console.error("Error loading data:",e)}},h=e=>{g.Ltv("#INFORM-chart").select("svg").remove();const t={top:40,right:30,bottom:40,left:195},a=u.value/2*.9-t.left-t.right,r=25,n=e.length*r+t.top+t.bottom;let o=[...e];"ascending"===l.value?o.sort(((e,t)=>e[s.value]-t[s.value])):"descending"===l.value?o.sort(((e,t)=>t[s.value]-e[s.value])):"alphabetical"===l.value&&o.sort(((e,t)=>e.country.localeCompare(t.country)));const i=g.Ltv("#INFORM-chart").append("svg").attr("width",a+t.left+t.right).attr("height",n).append("g").attr("transform",`translate(${t.left},${t.top})`),c=g.m4Y().domain([0,10]).nice().range([0,a]),p=g.WH().domain(o.map((e=>e.country))).range([0,n-t.top-t.bottom]).padding(.1),v=i.selectAll(".bar").data(o,(e=>e.country));v.enter().append("rect").attr("class","bar").attr("x",0).attr("y",(e=>p(e.country))).attr("height",p.bandwidth()).attr("fill",(e=>d(e[s.value]))).attr("width",0).transition().duration(1e3).ease(g.TD8).attr("width",(e=>c(e[s.value]))),v.enter().append("text").attr("class","bar-text").attr("x",(e=>c(e[s.value])+5)).attr("y",(e=>p(e.country)+p.bandwidth()/2)).attr("dy",".35em").text((e=>e[s.value].toFixed(1))).style("fill","black").style("font-size","12px").style("font-weight","bold"),v.transition().duration(1e3).ease(g.TD8).attr("y",(e=>p(e.country))).attr("width",(e=>c(e[s.value]))).attr("fill",(e=>d(e[s.value]))),v.select(".bar-text").transition().duration(1e3).ease(g.TD8).attr("x",(e=>c(e[s.value])+5)).text((e=>e[s.value].toFixed(2))),v.exit().transition().duration(500).attr("width",0).remove(),v.exit().select(".bar-text").transition().duration(500).attr("x",0).remove(),i.append("g").attr("class","x-axis").call(g.tlR(c)),i.append("g").attr("class","y-axis").call(g.V4s(p))};return(0,n.wB)(s,(()=>{h(o.value),a.value&&(a.value.features.forEach((e=>{e.properties.fillColor=null!==e.properties[s.value]&&void 0!==e.properties[s.value]?d(e.properties[s.value]):"#D3D3D3"})),a.value={...a.value})})),(0,n.wB)(l,(()=>{h(o.value)})),(0,n.wB)(o,(e=>{e.length>0&&h(e)})),(e,o)=>((0,n.uX)(),(0,n.CE)("div",re,[o[18]||(o[18]=(0,n.Lk)("h3",{class:"main-title"},"INFORM Risk 2025",-1)),(0,n.Lk)("div",ne,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),value:"inform_risk"},null,512),[[r.XL,s.value]]),o[8]||(o[8]=(0,n.eW)(" INFORM Risk Index "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":o[1]||(o[1]=e=>s.value=e),value:"hazard_and_exposure"},null,512),[[r.XL,s.value]]),o[9]||(o[9]=(0,n.eW)(" Hazard & Exposure "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":o[2]||(o[2]=e=>s.value=e),value:"vulnerability"},null,512),[[r.XL,s.value]]),o[10]||(o[10]=(0,n.eW)(" Vulnerability "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":o[3]||(o[3]=e=>s.value=e),value:"lack_of_coping_capacity"},null,512),[[r.XL,s.value]]),o[11]||(o[11]=(0,n.eW)(" Lack of Coping Capacity "))])]),(0,n.Lk)("div",oe,[(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":o[4]||(o[4]=e=>l.value=e),value:"alphabetical"},null,512),[[r.XL,l.value]]),o[12]||(o[12]=(0,n.eW)(" Alphabetical "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":o[5]||(o[5]=e=>l.value=e),value:"ascending"},null,512),[[r.XL,l.value]]),o[13]||(o[13]=(0,n.eW)(" Ascending "))]),(0,n.Lk)("label",null,[(0,n.bo)((0,n.Lk)("input",{type:"radio","onUpdate:modelValue":o[6]||(o[6]=e=>l.value=e),value:"descending"},null,512),[[r.XL,l.value]]),o[14]||(o[14]=(0,n.eW)(" Descending "))])]),(0,n.Lk)("div",le,[(0,n.Lk)("div",ie,[(0,n.bF)((0,w.R1)(f.Do),{ref:"map",zoom:t.value,"onUpdate:zoom":o[7]||(o[7]=e=>t.value=e),center:[0,0]},{default:(0,n.k6)((()=>[(0,n.bF)((0,w.R1)(f.a),{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png","layer-type":"base",attribution:"OpenStreetMap | contributors: CartoDB",subdomains:"abcd"}),(0,n.bF)((0,w.R1)(f.q7),{geojson:a.value,"options-style":p},{popup:(0,n.k6)((({feature:e})=>[(0,n.bF)((0,w.R1)(f.nA),null,{default:(0,n.k6)((()=>[(0,n.Lk)("strong",null,(0,i.v_)(e.properties.name),1),o[15]||(o[15]=(0,n.Lk)("br",null,null,-1)),(0,n.eW)(" Risk Level: "+(0,i.v_)(e.properties[s.value.value]||"N/A"),1)])),_:2},1024)])),_:1},8,["geojson"])])),_:1},8,["zoom"]),"inform_risk"===s.value?((0,n.uX)(),(0,n.CE)("div",se,o[16]||(o[16]=[(0,n.Lk)("p",null,"What is the INFORM Risk Index? INFORM started in 2012 when groups like the UN, charities, and researchers teamed up to better understand where disasters might happen, and which countries might need the most help. The INFORM Risk Index looks at which countries are most at risk of big problems—like natural disasters or conflicts—that could lead to a crisis. It focuses on three main things: 1. Hazards & Exposure 2. Vulnerability 3. Lack of Coping Capacity The goal is to use this information to plan, send help where it’s needed most, and try to stop disasters from becoming even worse. ",-1)]))):(0,n.Q3)("",!0)]),o[17]||(o[17]=(0,n.Lk)("div",{class:"chart-container"},[(0,n.Lk)("div",{id:"INFORM-chart"})],-1))])]))}};const ce=(0,d.A)(ue,[["__scopeId","data-v-16407b86"]]);var de=ce;const pe={class:"coping-container"};function ve(e,t){return(0,n.uX)(),(0,n.CE)("div",pe,t[0]||(t[0]=[(0,n.Lk)("h3",null,"Coping Mechanisms",-1),(0,n.Lk)("div",{class:"coping-mechanisms"},[(0,n.Lk)("h4",null,"Dams: Water Storage"),(0,n.Lk)("h4",null,"Wells"),(0,n.Lk)("h4",null,"Traditional water management"),(0,n.Lk)("h4",null,"Desalination"),(0,n.Lk)("h4",null,"Other Methods: Water Conservation")],-1)]))}const he={},me=(0,d.A)(he,[["render",ve],["__scopeId","data-v-0ca485f6"]]);var fe=me,ge={name:"App",components:{HelloMorocco:v,MoroccoMapView:k,RainfallPrecipitation:C,MeanTemperature:N,SheepCattleHerds:U,LandPloughedWheat:Y,CopingMechanisms:fe,WorldMapViewTimeline:ae,INFORMRiskIndex:de},data(){return{steps:["MoroccoMapView","RainfallPrecipitation","MeanTemperature","SheepCattleHerds","LandPloughedWheat","CopingMechanisms","INFORMRiskIndex","WorldMapViewTimeline"],activeStep:0}},mounted(){window.addEventListener("keydown",this.handleKeyPress)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyPress)},methods:{setActiveStep(e){e!==this.activeStep&&(this.activeStep=e)},handleKeyPress(e){"Space"===e.code&&e.preventDefault(),"ArrowDown"===e.code||"Space"===e.code?this.goToStep(this.activeStep+1):"ArrowUp"===e.code&&this.goToStep(this.activeStep-1)},goToStep(e){const t=document.querySelectorAll(".charts-wrapper");if(e<0||e>=t.length)return;const a=t[e];a&&(a.scrollIntoView({behavior:"smooth",block:"start"}),this.activeStep=e)}},directives:{intersect:{mounted(e,t){const a=new IntersectionObserver((([e])=>{e.isIntersecting&&t.value()}),{rootMargin:"0px",threshold:.5});a.observe(e)}}}};const ye=(0,d.A)(ge,[["render",l]]);var be=ye;(0,r.Ef)(be).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var l=1/0;for(c=0;c<e.length;c++){r=e[c][0],n=e[c][1],o=e[c][2];for(var i=!0,s=0;s<r.length;s++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[s])}))?r.splice(s--,1):(i=!1,o<l&&(l=o));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"===typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"===typeof r.then)return r}var o=Object.create(null);a.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&r;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){l[e]=function(){return r[e]}}));return l["default"]=function(){return r},a.d(o,l),o}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{24:"0ead91ae",71:"288da8dc",249:"2e656ac8",791:"72813729",886:"ad991733"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="lsq-thesis:";a.l=function(r,n,o,l){if(e[r])e[r].push(n);else{var i,s;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){i=d;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",t+o),i.src=r),e[r]=[n];var p=function(t,a){i.onerror=i.onload=null,clearTimeout(v);var n=e[r];if(delete e[r],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(a)})),t)return t(a)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/Thesis/"}(),function(){var e={524:0};a.f.j=function(t,r){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise((function(a,r){n=e[t]=[a,r]}));r.push(n[2]=o);var l=a.p+a.u(t),i=new Error,s=function(r){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),l=r&&r.target&&r.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",i.name="ChunkLoadError",i.type=o,i.request=l,n[1](i)}};a.l(l,s,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,l=r[0],i=r[1],s=r[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(s)var c=s(a)}for(t&&t(r);u<l.length;u++)o=l[u],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},r=self["webpackChunklsq_thesis"]=self["webpackChunklsq_thesis"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(4191)}));r=a.O(r)})();
//# sourceMappingURL=app.f9209795.js.map